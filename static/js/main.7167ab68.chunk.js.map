{"version":3,"sources":["serviceWorker.js","constants.js","components/Char.js","actions.js","containers/CharList.js","inputChecker.js","jap-char.js","containers/CharInput.js","components/NavBar.js","components/Music.js","components/Hint.js","components/TextBlock.js","components/LoadingPopup.js","components/Signin.js","components/Register.js","components/WordCard.js","components/OutsideAlerter.js","components/Footer.js","components/MessageBar.js","components/SmallChar.js","components/SmallCharList.js","components/KatakanaChar.js","components/KatakanaChart.js","components/LinearDeterminate.js","constants/App-constants.js","constants/App-methods.js","containers/App.js","reducers.js","index.js"],"names":["Boolean","window","location","hostname","match","REGISTER_URL","SIGNIN_URL","GETCHARSCORE_URL","Char","className","this","props","cardState","wordCompleted","onClick","onClickCard","char","React","Component","updateChar","japchar","romaji","type","currentJapChar","currentRomaji","updateWord","word","romajiList","cardStateList","map","item","payload","CharList","componentDidMount","setNewWordTime","Date","now","componentDidUpdate","prevProps","JSON","stringify","charsToRead","setCardState","idx","indexCurrentCard","onHintedCard","concat","clickedJapChar","state","dispatchTime","charsArrayDisplay","Grid","key","container","direction","justify","alignItems","spacing","connect","changeCardState","dispatch","time","TrieNode","parent","children","end","Trie","root","prototype","getWord","output","node","unshift","join","insert","i","length","contains","find","prefix","findAllWords","arr","child","SpellCheckerBuffer","charAndRomaji","checkFunction","wordNotInDictAlert","dict","buffer","charTrie","Object","values","forEach","element","pendingChars","Array","isArray","katakanaToRomaji","ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ラ","リ","ル","レ","ロ","ワ","ヲ","ン","clearBuffer","limitedKatakanaList","katakanaHint","imageLink","shortHint","CharInput","user_uid","fillHintedCharacter","event","onWordCompletion","onInputBoxChange","onEnterPress","setCurrentChar","currentWord","target","value","curRomaji","onCorrectChar","onWrongInput","onCompleteChar","getKeyByValue","updateCharScore","userInputChar","newRomaji","currentChar","requestModuleInfo","thisApp","console","log","onKeyDown","onIncorrectCard","audioIsPlaying","disableAllAction","walkThroughEnabled","endWalkThrough","which","lastCardState","preventDefault","buttonClickOrSpacePressHandler","deleteIncorrectInput","goToNextWord","String","fromCharCode","toLowerCase","onKeyPress","inputChecker","checkInput","onSpacePress","clearCurrentInput","slice","formRef","createRef","alertRomajiNotInDict","setClick","matchClearFormInputFunction","clearInputBox","curWrongChar","resetRomajiNotInDictAlert","moveToNextWord","requestedWord","firstTimeCompleteWordSinceWalkThrough","Input","placeholder","inputProps","spellCheck","autoFocus","inputRef","onPaste","changeGeneralState","inputBox","changeInputBox","pressKey","context","pressSpace","userChar","userInput","typeWrongAnswer","completionType","pressEnter","forwardRef","useStyles","makeStyles","theme","flexGrow","title","NavBar","classes","onRouteChange","currentTab","handleClickWalkthrough","useState","open","setOpen","handleClose","AppBar","position","Toolbar","Typography","variant","color","align","Button","startIcon","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","style","href","DialogActions","Music","play","audio","Audio","audioLink","stopAudioHandler","setState","noStoreUpdateWhenEnded","onAudioPause","simpleStopAudioHandler","togglePlay","onAudioPlay","removeEventListener","addEventListener","pause","bindMethod","setTimeout","autoplay","delay","Hint","audioComponent","currentHintedChar","sentenceFragments","replace","split","Card","onClickHandler","CardActionArea","triggerAudioComponent","autoplayAudio","childMethod","Divider","src","alt","CardContent","paddingTop","paddingBottom","component","TextBlock","description","icon","LoadingPopup","isOpen","CircularProgress","Signin","onEmailInput","signInEmail","emailErrorMsg","onPasswordInput","signInPassword","passwordErrorMsg","sendSigninInfoToBackend","openLoadingPopup","fetch","method","headers","body","email","password","then","response","json","data","keys","loadUser","catch","error","onSignIn","Paper","paper2","elevation","Container","maxWidth","CssBaseline","paper","form","noValidate","TextField","helperText","margin","fullWidth","label","name","autoComplete","onChange","submit","Link","fontSize","withStyles","fontFamily","backfround","marginTop","display","flexDirection","marginBottom","padding","breakpoints","up","width","height","marginLeft","marginRight","Register","onNameInput","nameErrorMsg","sendFormDataToBackEnd","onFormSubmit","validateEmail","nameError","emailError","passwordError","test","minWidth","pos","WordCard","wordInfo","document","createElement","innerHTML","word_meaning","word_pos","includes","meaning","part_of_speech","vocab_kana","vocab_meaning","vocab_pos","gutterBottom","OutsideAlerter","handleClickOutside","componentWillUnmount","setWrapperRef","wrapperRef","focusInputBox","ref","Footer","messageText","textAlign","messageAnimation","borderRight","whiteSpace","overflow","animation","convertMessageLengthToEm","message","borderRightColor","length_in_em","MessageBar","displayHelpMessages","shortid","generate","userName","typography","cardBG","background","correctPercent","hintedPercent","SmallChar","correctNum","hintedNum","isLoading","anchorEl","setAnchorEl","undefined","Skeleton","borderRadius","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","SmallCharList","requestGetCharScore","res","charResultList","err","computeCorrectPercentage","resultList","total_correct","result","Math","round","computeCorrectNum","reduce","acc","val","kana","correctPercentage","hintedPercentage","isEncountered","KatakanaChar","KatakanaChart","katakanaArray","kana_filteredResultList","filter","resultType","LinearDeterminate","moduleInfo","totalRepetition","totalRemainingRepetition","totalRep","progressPercent","LinearProgress","version","listOfPraises","listOfSoftPraises","Introduction","intro","WALKTHROUGH_PART_1","WALKTHROUGH_PART_2","WALKTHROUGH_PART_3","WALKTHROUGH_PART_4","parseJapaneseWord","katakana_word","katakana_char","katakana_romaji","push","score","userId","userInfo","moduleInfoObject","requestNewWordPromise","a","Promise","resolve","isFetchingWord","wordRequestTimeStamp","openEndDialogue","requestNewCharPromise","requestNewWord","transitionToNextWord","kana_char","charAt","audio_url","audio_string","vocab_sound_local","on","word_audio_duration","duration","currentWordInfo","currentWord_unix_time","transitionToNextChar","LogRocket","init","App","resetStore","requestAndUpdateWord","prevState","route","steps1Enabled","steps2Enabled","steps3Enabled","steps4Enabled","firstIntroductionEnabled","USER_TIME_LIMIT_IN_MINUTES","transitionedFromSteps1ToSteps2","hintCardRef","current","transitionedFromSteps2ToSteps3","transitionedFromSteps3ToSteps4","firstTimeCompleteWordSinceWalkThru","wordCardRef","user","joined","loadUserToStore","identify","charInputRef","focus","innerText","showHint","checkedAudioAutoPlay","displayWordInfo","object","randomItem","aList","floor","random","displayMessage","romajiNotInDict","wrongCharList","cardStateSet","Set","size","has","setButtonText","displayLoadingPopup","handleAudioAutoplaySwitch","handleEnableMessageSwitch","checkedEnableMessage","handleEnableBlueButtonSwitch","checkedEnableBlueButton","onExitIntroduction","onExitIntro1","onExitIntro2","onExitIntro3","onExitIntro4","clearFormInput","onBeforeChange1","nextStepIndex","steps1","updateStepElement","onBeforeChange2","steps2","onBeforeChange3","steps3","onBeforeChange4","steps4","onChangeInSteps","specialIndex","index","_","renderRoute","initialStep","generalStepsOptions","showStepNumbers","hidePrev","hideNext","exitOnOverlayClick","exitOnEsc","showButtons","overlayOpacity","skipLabel","doneLabel","enabled","steps","introductory_steps","onExit","options","onBeforeChange","FormControlLabel","labelPlacement","control","Switch","checked","click","clickChild","childFunc","moduleIndex","Box","disabled","transitionedFromSteps3ToSteps5","initialInputBox","keyPressed","initialGeneralState","initialCardState","hintedCharList","prevTimestamp","charTimestamp","allCharTimestamp","createMuiTheme","palette","primary","main","secondary","overrides","MuiButton","iconSizeMedium","rootReducer","combineReducers","action","newTimestamp","logger","createLogger","store","createStore","applyMiddleware","reduxMiddleware","ReactDOM","render","ThemeProvider","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,MACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,MACHC,SAAG,MACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,YAAa,eAGTC,EAAsB,CAC1B,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAGxDC,EAAe,CACnBhD,SAAG,CACD7E,OAAQ,IACR8H,UACE,mEACFC,UAAW,wBAEbjD,SAAG,CACD9E,OAAQ,IACR8H,UACE,mEACFC,UAAW,qCAEbhD,SAAG,CACD/E,OAAQ,IACR8H,UACE,mEACFC,UAAW,gCAEb/C,SAAG,CACD8C,UACE,mEACFC,UACE,+EAEJ9C,SAAG,CACD6C,UACE,mEACFC,UACE,oFAEJ7C,SAAG,CACD4C,UACE,mEACFC,UAAW,0CAEb5C,SAAG,CACD2C,UACE,mEACFC,UAAW,cAEb3C,SAAG,CACD0C,UACE,mEACFC,UAAW,kCAEb1C,SAAG,CACDyC,UACE,mEACFC,UAAW,0CAEbzC,SAAG,CACDwC,UACE,mEACFC,UAAW,sCAEbxC,SAAG,CACDuC,UACE,mEACFC,UAAW,sDAEbvC,SAAG,CACDsC,UACE,mEACFC,UAAW,0CAEbtC,SAAG,CACDqC,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","file":"static/js/main.7167ab68.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const USER_INPUT = \"USER_INPUT\";\r\n\r\nconst method = \"tuanHeroku\";\r\n\r\n// global configs\r\nvar VERSION = 2; // 1 for word-base ver, 2 for char-base ver\r\n\r\nvar PRIMARYCOLOR = \"#1cb0f6\";\r\n\r\nvar USER_TIME_LIMIT_IN_MINUTES = 30;\r\nvar REGISTER_URL = \"https://localhost:3000/register\";\r\nvar SIGNIN_URL = \"https://localhost:3000/signin\";\r\nvar PROFILE_URL = \"https://localhost:3000/profile/\";\r\nvar GETWORD_URL = \"https://shrouded-harbor-11572.herokuapp.com/getnextword\";\r\nvar GETCHAR_URL = \"https://shrouded-harbor-11572.herokuapp.com/getnextchar\";\r\nvar CHARSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/charscore\";\r\nvar UPDATECHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/updatecharscore\";\r\nvar WORDSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/wordscore\";\r\nvar GETCHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/getcharscore\";\r\nvar GETMODULEINFO_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/getmoduleinfo\";\r\nvar MEDIA_BASE_URL_SENTENCE =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/sentence-sound/\";\r\nvar MEDIA_BASE_URL_WORD =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/word-sound/\";\r\n// source: https://www.learn-japanese-adventure.com/learn-how-to-speak-japanese.html\r\nvar MEDIA_BASE_URL_CHAR =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/character-sound/kanasound-\"; // add {romaji}.mp3\r\nvar WORD_LINK =\r\n  \"https://www.reddit.com/r/LearnJapanese/comments/s2iop/heres_a_spreadsheet_of_the_6000_most_common/c4ak0xd/\";\r\nvar TOFUGU_LINK = \"https://www.tofugu.com/japanese/learn-katakana/\";\r\nvar MARSHALSITE_LINK = \"https://marshallyin.com/katakana-list/\";\r\n\r\nswitch (method) {\r\n  case \"local\":\r\n    break;\r\n  case \"tuanHeroku\":\r\n    REGISTER_URL = \"https://shrouded-harbor-11572.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://shrouded-harbor-11572.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://shrouded-harbor-11572.herokuapp.com/profile/\";\r\n    break;\r\n  case \"lienHeroku\":\r\n    REGISTER_URL = \"https://peaceful-sands-25473.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://peaceful-sands-25473.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://peaceful-sands-25473.herokuapp.com/profile/\";\r\n    break;\r\n  default:\r\n    console.log(\"method should be either tuanHeroku, lienHeroku, or local\");\r\n    break;\r\n}\r\n\r\nexport {\r\n  REGISTER_URL,\r\n  SIGNIN_URL,\r\n  PROFILE_URL,\r\n  GETWORD_URL,\r\n  MEDIA_BASE_URL_SENTENCE,\r\n  MEDIA_BASE_URL_WORD,\r\n  MEDIA_BASE_URL_CHAR,\r\n  CHARSCORE_URL,\r\n  WORDSCORE_URL,\r\n  WORD_LINK,\r\n  TOFUGU_LINK,\r\n  GETCHARSCORE_URL,\r\n  UPDATECHARSCORE_URL,\r\n  USER_TIME_LIMIT_IN_MINUTES,\r\n  PRIMARYCOLOR,\r\n  GETMODULEINFO_URL,\r\n  MARSHALSITE_LINK,\r\n  GETCHAR_URL,\r\n  VERSION,\r\n};\r\n","import React from \"react\";\nimport \"../scss/containers/App.scss\";\nimport \"../scss/components/Char.scss\";\nimport { VERSION } from \"../constants\";\n\nclass Char extends React.Component {\n  render() {\n    const className = `card${VERSION === 2 ? `2` : ``} ${this.props.cardState} ${\n      this.props.wordCompleted ? \"card-button\" : \"\"\n    }`;\n    return (\n      <div className={className} onClick={this.props.onClickCard}>\n        <h1 className=\"char\">{this.props.char}</h1>\n      </div>\n    );\n  }\n}\n\nexport default Char;\n","import { USER_INPUT } from \"./constants.js\";\r\n\r\nexport const typeAnswer = (text) => {\r\n  return {\r\n    type: USER_INPUT,\r\n    payload: text,\r\n  };\r\n};\r\n\r\nexport const pressSpace = (context) => {\r\n  switch (context) {\r\n    case \"REQUEST_HINT\":\r\n      return {\r\n        type: \"SPACE_PRESS_FOR_HINT\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_ERROR\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_CONTINUE\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_COMPLETE\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_GO_NEXT\",\r\n        time: Date.now(),\r\n      };\r\n    default:\r\n      return {\r\n        type: \"SPACE_PRESS\",\r\n      };\r\n  }\r\n};\r\n\r\nexport const updateChar = (japchar, romaji) => {\r\n  return {\r\n    type: \"CHAR_UPDATE\",\r\n    currentJapChar: japchar,\r\n    currentRomaji: romaji,\r\n  };\r\n};\r\n\r\nexport const pressEnter = (time) => {\r\n  return {\r\n    type: \"ENTER_PRESS\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const typeWrongAnswer = (userChar, currentChar) => {\r\n  return {\r\n    type: \"WRONG_INPUT\",\r\n    userInput: userChar,\r\n    currentChar: currentChar,\r\n    time: Date.now(),\r\n  };\r\n};\r\n\r\nexport const completeWord = () => {\r\n  return {\r\n    type: \"COMPLETE_WORD\",\r\n    time: Date.now(), // when user complete last character Card\r\n  };\r\n};\r\n\r\nexport const updateWord = (word, romajiList) => {\r\n  const cardStateList = romajiList.map((item) => \"\");\r\n  return {\r\n    type: \"UPDATE_WORD\",\r\n    payload: word,\r\n    romajiList: romajiList,\r\n    cardStateList: cardStateList,\r\n  };\r\n};\r\n\r\nexport const completeChar = (timestamp, completionType) => {\r\n  return {\r\n    type: \"COMPLETE_CHAR\",\r\n    time: timestamp,\r\n    completionType: completionType,\r\n  };\r\n};\r\n\r\nexport const setNewWordTime = (time) => {\r\n  return {\r\n    type: \"SET_NEW_WORD_TIME\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const onAudioPlay = () => {\r\n  return {\r\n    type: \"PLAY_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const onAudioPause = () => {\r\n  return {\r\n    type: \"PAUSE_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const pressKey = (key) => {\r\n  return {\r\n    type: \"PRESS_KEY\",\r\n    payload: key,\r\n  };\r\n};\r\n\r\nexport const onCorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_CORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const onIncorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_INCORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const resetStore = () => {\r\n  return {\r\n    type: \"RESET_STORE\",\r\n  };\r\n};\r\n\r\nexport const alertRomajiNotInDict = () => {\r\n  return {\r\n    type: \"ALERT_NOT_IN_DICT\",\r\n  };\r\n};\r\n\r\nexport const resetRomajiNotInDictAlert = () => {\r\n  return {\r\n    type: \"RESET_NOT_IN_DICT_ALERT\",\r\n  };\r\n};\r\n\r\nexport const loadUserToStore = (userInfo) => {\r\n  return {\r\n    type: \"LOAD_USER\",\r\n    payload: userInfo,\r\n  }\r\n}\r\n","import React from \"react\";\nimport Char from \"../components/Char.js\";\nimport { Grid } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { setNewWordTime } from \"../actions\";\nimport \"../scss/components/Char.scss\";\n\nconst mapStateToProps = (state) => {\n  return {\n    // charTimestamp: state.changeCardState.charTimestamp,\n    // keyPressed: state.changeInputBox.keyPressed,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    cardStateList: state.changeCardState.cardStateList,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setNewWordTime: (time) => {\n      dispatch(setNewWordTime(time));\n    },\n  };\n};\n\nclass CharList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dispatchTime: 0,\n    };\n  }\n\n  componentDidMount = () => {\n    this.props.setNewWordTime(Date.now());\n  };\n\n  componentDidUpdate = (prevProps) => {\n    if (\n      JSON.stringify(this.props.charsToRead) !==\n      JSON.stringify(prevProps.charsToRead)\n    ) {\n      this.props.setNewWordTime(Date.now());\n    }\n  };\n\n  setCardState = (idx, char) => {\n    const {\n      indexCurrentCard,\n      cardStateList,\n      onHintedCard,\n      wordCompleted,\n    } = this.props;\n    var className = \"\";\n\n    if (wordCompleted) {\n      className = className.concat(` completed `);\n    }\n\n    if (wordCompleted && this.props.clickedJapChar !== \"\") {\n      if (char === this.props.clickedJapChar) {\n        className = className.concat(` clicked `);\n      } else {\n        className = className.concat(` o-100 `); // default o-100\n      }\n    }\n    if (idx === indexCurrentCard) {\n      className = className.concat(onHintedCard ? ` current-hinted ` : ` highlighted `);\n    } else {\n      className = className.concat(\n        onHintedCard ? ` o-30 ` : wordCompleted ? \"\" : ` o-60 `\n      );\n    }\n    var cardState = cardStateList[idx];\n    className = className.concat(` ${cardState} `);\n    return className;\n  };\n\n  render() {\n    const charsArrayDisplay = this.props.charsToRead.map((item, idx) => {\n      return (\n        <Grid item key={idx}>\n          <Char\n            char={item.char}\n            key={idx}\n            cardState={this.setCardState(idx, item.char)}\n            onClickCard={this.props.onClickCard}\n            wordCompleted={this.props.wordCompleted}\n          />\n        </Grid>\n      );\n    });\n\n    return (\n      <Grid\n        container\n        className=\"japanese-word\"\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing=\"0\"\n      >\n        {charsArrayDisplay}\n      </Grid>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CharList);\n","// Trie.js - super simple JS implementation\r\n// https://en.wikipedia.org/wiki/Trie\r\n// https://gist.github.com/tpae/72e1c54471e88b689f85ad2b3940a8f0\r\n\r\n// -----------------------------------------\r\n\r\n// we start with the TrieNode\r\nfunction TrieNode(key) {\r\n  // the \"key\" value will be the character in sequence\r\n  this.key = key;\r\n\r\n  // we keep a reference to parent\r\n  this.parent = null;\r\n\r\n  // we have hash of children\r\n  this.children = {};\r\n\r\n  // check to see if the node is at the end\r\n  this.end = false;\r\n}\r\n\r\n// iterates through the parents to get the word.\r\n// time complexity: O(k), k = word length\r\nTrieNode.prototype.getWord = function () {\r\n  var output = [];\r\n  var node = this;\r\n\r\n  while (node !== null) {\r\n    output.unshift(node.key);\r\n    node = node.parent;\r\n  }\r\n\r\n  return output.join(\"\");\r\n};\r\n\r\n// -----------------------------------------\r\n\r\n// we implement Trie with just a simple root with null value.\r\nfunction Trie() {\r\n  this.root = new TrieNode(null);\r\n}\r\n\r\n// inserts a word into the trie.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.insert = function (word) {\r\n  var node = this.root; // we start at the root\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (!node.children[word[i]]) {\r\n      // if it doesn't exist, we then create it.\r\n      node.children[word[i]] = new TrieNode(word[i]);\r\n\r\n      // we also assign the parent to the child node.\r\n      node.children[word[i]].parent = node;\r\n    }\r\n\r\n    // proceed to the next depth in the trie.\r\n    node = node.children[word[i]];\r\n\r\n    // finally, we check to see if it's the last word.\r\n    if (i === word.length - 1) {\r\n      // if it is, we set the end flag to true.\r\n      node.end = true;\r\n    }\r\n  }\r\n};\r\n\r\n// check if it contains a whole word.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.contains = function (word) {\r\n  var node = this.root;\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (node.children[word[i]]) {\r\n      // if it exists, proceed to the next depth of the trie.\r\n      node = node.children[word[i]];\r\n    } else {\r\n      // doesn't exist, return false since it's not a valid word.\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // we finished going through all the words, but is it a whole word?\r\n  return node.end;\r\n};\r\n\r\n// returns every word with given prefix\r\n// time complexity: O(p + n), p = prefix length, n = number of child paths\r\nTrie.prototype.find = function (prefix) {\r\n  var node = this.root;\r\n  var output = [];\r\n\r\n  // for every character in the prefix\r\n  for (var i = 0; i < prefix.length; i++) {\r\n    // make sure prefix actually has words\r\n    if (node.children[prefix[i]]) {\r\n      node = node.children[prefix[i]];\r\n    } else {\r\n      // there's none. just return it.\r\n      return output;\r\n    }\r\n  }\r\n\r\n  // recursively find all words in the node\r\n  findAllWords(node, output);\r\n\r\n  return output;\r\n};\r\n\r\n// recursive function to find all words in the given node.\r\nfunction findAllWords(node, arr) {\r\n  // base case, if node is at a word, push to output\r\n  if (node.end) {\r\n    arr.unshift(node.getWord());\r\n  }\r\n\r\n  // iterate through each children, call recursive findAllWords\r\n  for (var child in node.children) {\r\n    findAllWords(node.children[child], arr);\r\n  }\r\n}\r\n\r\n// -----------------------------------------\r\n\r\n// instantiate our trie\r\n//   var trie = new Trie();\r\n\r\n//   // insert few values\r\n//   trie.insert(\"hello\");\r\n//   trie.insert(\"helium\");\r\n\r\n// check contains method\r\n//console.log(trie.contains(\"helium\"));  // true\r\n//console.log(trie.contains(\"kickass\")); // false\r\n\r\n// check find method\r\n//console.log(trie.find(\"hel\"));  // [ 'helium', 'hello' ]\r\n//console.log(trie.find(\"hell\")); // [ 'hello' ]\r\n\r\nclass SpellCheckerBuffer {\r\n  constructor(charAndRomaji, checkFunction, wordNotInDictAlert) {\r\n    this.dict = charAndRomaji;\r\n    this.checkFunction = checkFunction;\r\n    this.buffer = \"\";\r\n    this.charTrie = new Trie();\r\n    this.wordNotInDictAlert = wordNotInDictAlert;\r\n    Object.values(this.dict).forEach((element) => {\r\n      this.charTrie.insert(element);\r\n    });\r\n    //console.log(this.charTrie.find(\"\"));\r\n  }\r\n  checkInput(char) {\r\n    if (char === \"clearBuffer\") {\r\n      this.buffer = \"\";\r\n      return;\r\n    }\r\n    this.buffer += char;\r\n    if (this.charTrie.contains(this.buffer)) {\r\n      this.checkFunction(this.buffer);\r\n      this.buffer = \"\";\r\n    } else {\r\n      var pendingChars = this.charTrie.find(this.buffer);\r\n      if (!Array.isArray(pendingChars) || !pendingChars.length) {\r\n        this.wordNotInDictAlert();\r\n        this.checkFunction(this.buffer);\r\n        this.buffer = \"\";\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// uncomment below to test\r\n// const sp = new SpellCheckerBuffer(katakanaToRomaji, console.log);\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"i\");\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"a\");\r\n// sp.checkInput(\"t\");\r\n// sp.checkInput(\"s\");\r\n// sp.checkInput(\"u\");\r\n\r\nexport default SpellCheckerBuffer;\r\n","const katakanaToRomaji = {\r\n  ア: \"a\",\r\n  イ: \"i\",\r\n  ウ: \"u\",\r\n  エ: \"e\",\r\n  オ: \"o\",\r\n  カ: \"ka\",\r\n  キ: \"ki\",\r\n  ク: \"ku\",\r\n  ケ: \"ke\",\r\n  コ: \"ko\",\r\n  サ: \"sa\",\r\n  シ: \"shi\",\r\n  ス: \"su\",\r\n  セ: \"se\",\r\n  ソ: \"so\",\r\n  タ: \"ta\",\r\n  チ: \"chi\",\r\n  ツ: \"tsu\",\r\n  テ: \"te\",\r\n  ト: \"to\",\r\n  ナ: \"na\",\r\n  ニ: \"ni\",\r\n  ヌ: \"nu\",\r\n  ネ: \"ne\",\r\n  ノ: \"no\",\r\n  ハ: \"ha\",\r\n  ヒ: \"hi\",\r\n  フ: \"fu\",\r\n  ヘ: \"he\",\r\n  ホ: \"ho\",\r\n  マ: \"ma\",\r\n  ミ: \"mi\",\r\n  ム: \"mu\",\r\n  メ: \"me\",\r\n  モ: \"mo\",\r\n  ヤ: \"ya\",\r\n  ユ: \"yu\",\r\n  ヨ: \"yo\",\r\n  ラ: \"ra\",\r\n  リ: \"ri\",\r\n  ル: \"ru\",\r\n  レ: \"re\",\r\n  ロ: \"ro\",\r\n  ワ: \"wa\",\r\n  ヲ: \"wo\",\r\n  ン: \"n'\",\r\n  clearBuffer: \"clearBuffer\",\r\n};\r\n\r\nconst limitedKatakanaList = [\r\n  \"ア\",\r\n  \"イ\",\r\n  \"ウ\",\r\n  \"エ\",\r\n  \"オ\",\r\n  \"カ\",\r\n  \"キ\",\r\n  \"ク\",\r\n  \"ケ\",\r\n  \"コ\",\r\n  \"シ\",\r\n  \"ス\",\r\n  \"ソ\",\r\n  \"タ\",\r\n  \"テ\",\r\n  \"ト\",\r\n  \"ナ\",\r\n  \"ニ\",\r\n  \"ネ\",\r\n  \"ハ\",\r\n  \"フ\",\r\n  \"ホ\",\r\n  \"マ\",\r\n  \"ミ\",\r\n  \"ム\",\r\n  \"メ\",\r\n  \"モ\",\r\n  \"ヤ\",\r\n  \"ラ\",\r\n  \"リ\",\r\n  \"ル\",\r\n  \"レ\",\r\n  'ロ', 'ツ', 'ノ', 'ヘ', 'ユ', 'ヒ', 'セ', 'ヌ', 'チ', 'ヨ', 'サ', 'ワ', 'ヲ'\r\n];\r\n\r\nconst katakanaHint = {\r\n  ア: {\r\n    romaji: \"a\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A2.jpg\",\r\n    shortHint: \"Find the capital 'A'\",\r\n  },\r\n  イ: {\r\n    romaji: \"i\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A4.jpg\",\r\n    shortHint: \"It looks like an <u>ea</u>gle (i)\",\r\n  },\r\n  ウ: {\r\n    romaji: \"u\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A6.jpg\",\r\n    shortHint: \"ウ looks like う (u)\",\r\n  },\r\n  エ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A8.jpg\",\r\n    shortHint:\r\n      \"Imagine this is the girders an <u>e</u>ngineer would use to build buildings\",\r\n  },\r\n  オ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AA.jpg\",\r\n    shortHint:\r\n      'A dude flapping open his trench coat to flash you. \"<u>Oh</u> MY GOD!\" you say. ',\r\n  },\r\n  カ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AB.jpg\",\r\n    shortHint: \"It looks just like the Hiragana か\",\r\n  },\r\n  キ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AD.jpg\",\r\n    shortHint: \"A key (ki)\",\r\n  },\r\n  ク: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AF.jpg\",\r\n    shortHint: \"A long <u>coo</u>ks's (ku) hat\",\r\n  },\r\n  ケ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B1.jpg\",\r\n    shortHint: \"It looks like the letter <u>K</u> (ke)\",\r\n  },\r\n  コ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B3.jpg\",\r\n    shortHint: \"Two 90 degrees <u>co</u>rners (ko)\",\r\n  },\r\n  サ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B5.jpg\",\r\n    shortHint: \"Three <u>sa</u>rdines stacked on top of each other\",\r\n  },\r\n  シ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B7.jpg\",\r\n    shortHint: \"<u>She</u> has a very werid face (shi)\",\r\n  },\r\n  ス: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B9.jpg\",\r\n    shortHint: \"A hanger where you hang up your fancy <u>su</u>it (su)\",\r\n  },\r\n  セ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BB.jpg\",\r\n    shortHint: \"It looks like the Hiragana せ\",\r\n  },\r\n  ソ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BD.jpg\",\r\n    shortHint: \"One needle and a long thread which you use to <u>sew</u> (so)\",\r\n  },\r\n  タ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BF.jpg\",\r\n    shortHint: \"A <u>ti</u>dal wave racing across the sea (ta)\",\r\n  },\r\n  チ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%81.jpg\",\r\n    shortHint: \"A <u>chee</u>rleader doing a <u>chee</u>r (chi)\",\r\n  },\r\n  ツ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%84.jpg\",\r\n    shortHint: \"<u>Two</u> (tsu) needles\",\r\n  },\r\n  テ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%86.jpg\",\r\n    shortHint: \"A <u>te</u>lephone pole\",\r\n  },\r\n  ト: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%88.jpg\",\r\n    shortHint: \"A <u>to</u>tem pole\",\r\n  },\r\n  ナ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8A.jpg\",\r\n    shortHint: \"A majestic <u>na</u>rwhal\",\r\n  },\r\n  ニ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8B.jpg\",\r\n    shortHint: \"Two <u>nee</u>dles (ni) laying on their side\",\r\n  },\r\n  ヌ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8C.jpg\",\r\n    shortHint:\r\n      \"The chopsticks are grabbing onto some <u>noo</u>dles & pulling them out of a bowl. (nu)\",\r\n  },\r\n  ネ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8D.jpg\",\r\n    shortHint: \"A <u>ne</u>cromancer has summoned this zombie\",\r\n  },\r\n  ノ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8E.jpg\",\r\n    shortHint: \"A really long <u>no</u>se\",\r\n  },\r\n  ハ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8F.jpg\",\r\n    shortHint: \"A rice paddy <u>ha</u>t\",\r\n  },\r\n  ヒ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%92.jpg\",\r\n    shortHint: \"<u>He</u> (hi) has no head. <u>He</u> is reaching out to you.\",\r\n  },\r\n  フ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%95.jpg\",\r\n    shortHint: \"A <u>fu</u>nny looking owl\",\r\n  },\r\n  ヘ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%98.jpg\",\r\n    shortHint: \"This looks like the Hiragana へ\",\r\n  },\r\n  ホ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9B.jpg\",\r\n    shortHint: \"A <u>ho</u>ly cross\",\r\n  },\r\n  マ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9E.jpg\",\r\n    shortHint: \"Look at all those angles! Those lengths! All that <u>ma</u>th!\",\r\n  },\r\n  ミ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9F.jpg\",\r\n    shortHint: \"Three <u>mi</u>ssiles, flying towards you. Be careful!\",\r\n  },\r\n  ム: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A0.jpg\",\r\n    shortHint: \"It is shaped like a pile of poop. Cow poop. <u>Moo</u>. (mu)\",\r\n  },\r\n  メ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A1.jpg\",\r\n    shortHint: 'め <u>Me</u> is Japnese for \"eye\"',\r\n  },\r\n  モ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A2.jpg\",\r\n    shortHint: \"This looks like the Hiragana も\",\r\n  },\r\n  ヤ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A4.jpg\",\r\n    shortHint: \"This looks just like the Hiragana や\",\r\n  },\r\n  ユ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A6.jpg\",\r\n    shortHint: \"You (yu) have a hook for a hand\",\r\n  },\r\n  ヨ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A8.jpg\",\r\n    shortHint: \"A <u>yo</u>gurt containers\",\r\n  },\r\n  ラ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A9.jpg\",\r\n    shortHint: \"It is a <u>ra</u>ptor wearing sweet ray-ban\",\r\n  },\r\n  リ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AA.jpg\",\r\n    shortHint: \"It looks like the Hiragana り\",\r\n  },\r\n  ル: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AB.jpg\",\r\n    shortHint:\r\n      \"There are two <u>rou</u>tes (ru) you can take. Route 1 & Route 2.\",\r\n  },\r\n  レ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AC.jpg\",\r\n    shortHint: \"Look at that beautiful <u>re</u>d hair that <u>Re</u>i has!\",\r\n  },\r\n  ロ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AD.jpg\",\r\n    shortHint:\r\n      \"This <u>ro</u>ad goes around in a square, never ending. What a terrible <u>ro</u>ad this is.\",\r\n  },\r\n  ワ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AF.jpg\",\r\n    shortHint:\r\n      \"You often begin your question with the word <u>wha</u>t (wa). <u>Wha</u>t are you doing?\",\r\n  },\r\n  ヲ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B2.jpg\",\r\n    shortHint: \"A dog <u>wo</u>ofing (wo) so hard its tongue is flying out\",\r\n  },\r\n  ン: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B3.jpg\",\r\n    shortHint: \"This guy only has one eye. <u>N</u>oooo!\",\r\n  },\r\n};\r\n\r\nexport { katakanaToRomaji, katakanaHint, limitedKatakanaList };\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"../scss/containers/App.scss\";\nimport { Input } from \"@material-ui/core\";\nimport SpellCheckerBuffer from \"../inputChecker\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport {\n  pressKey,\n  onCorrectChar,\n  typeAnswer,\n  pressSpace,\n  typeWrongAnswer,\n  completeChar,\n  pressEnter,\n  updateChar,\n  updateWord,\n  completeWord,\n  alertRomajiNotInDict,\n  resetRomajiNotInDictAlert,\n} from \"../actions\";\n\nconst mapStatestoProps = (state) => {\n  return {\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    romajiList: state.changeCardState.romajiList,\n    cardStateList: state.changeCardState.cardStateList,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    onHintedCard: state.changeCardState.onHintedCard,\n    currentRomaji: state.changeCardState.currentRomaji,\n    currentWord: state.changeCardState.currentWord,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    inputBox: state.changeInputBox.inputBox,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onInputBoxChange: (value) => {\n      dispatch(typeAnswer(value));\n    },\n    onKeyPress: (key) => {\n      dispatch(pressKey(key));\n    },\n    onCorrectChar: () => {\n      dispatch(onCorrectChar());\n    },\n    onSpacePress: (context) => {\n      dispatch(pressSpace(context));\n    },\n    onWrongInput: (userChar, currentChar) => {\n      dispatch(typeWrongAnswer(userChar, currentChar));\n    },\n    onCompleteChar: (time, type) => {\n      dispatch(completeChar(time, type));\n    },\n    onEnterPress: (time) => {\n      dispatch(pressEnter(time));\n    },\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    onWordCompletion: () => {\n      dispatch(completeWord());\n    },\n    alertRomajiNotInDict: () => {\n      dispatch(alertRomajiNotInDict());\n    },\n    resetRomajiNotInDictAlert: () => {\n      dispatch(resetRomajiNotInDictAlert());\n    },\n  };\n};\n\nclass CharInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n    this.inputChecker = new SpellCheckerBuffer(\n      katakanaToRomaji,\n      this.checkFunction,\n      this.props.alertRomajiNotInDict\n    );\n  }\n\n  componentDidMount() {\n    const {\n      setCurrentChar,\n      romajiList,\n      indexCurrentCard,\n      currentWord,\n    } = this.props;\n\n    const curRomaji = romajiList[indexCurrentCard];\n    const curKana = currentWord[indexCurrentCard];\n    setCurrentChar(curKana, curRomaji);\n\n    // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n    this.props.setClick(this.buttonClickOrSpacePressHandler);\n    this.props.matchClearFormInputFunction(this.clearInputBox);\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (this.props.user_uid === prevProps.user_uid) {\n    }\n  };\n\n  fillHintedCharacter = (event) => {\n    const {\n      onHintedCard,\n      indexCurrentCard,\n      romajiList,\n      onWordCompletion,\n      currentRomaji,\n      onInputBoxChange,\n      onEnterPress,\n      setCurrentChar,\n      currentWord,\n    } = this.props;\n\n    if (onHintedCard) {\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      // autofill correct answer\n      event.target.value = event.target.value.concat(currentRomaji);\n      onInputBoxChange(event.target.value);\n      onEnterPress(Date.now());\n\n      const curRomaji = romajiList[indexCurrentCard + 1];\n      const curKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(curKana, curRomaji);\n    }\n  }\n\n  checkFunction = (char) => {\n    const {\n      romajiList,\n      indexCurrentCard,\n      onCorrectChar,\n      onWrongInput,\n      onWordCompletion,\n      currentWord,\n      setCurrentChar,\n      onCompleteChar,\n      getKeyByValue,\n      updateCharScore,\n      user_uid,\n      onHintedCard,\n      onEnterPress,\n    } = this.props;\n    const userInputChar = getKeyByValue(katakanaToRomaji, char);\n\n    if (char === romajiList[indexCurrentCard] && !onHintedCard) {\n      updateCharScore(user_uid, userInputChar, \"+1\");\n      onCorrectChar();\n      onCompleteChar(Date.now(), \"correct\");\n      const newRomaji = romajiList[indexCurrentCard + 1];\n      const newKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(newKana, newRomaji); \n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      console.log(`CORRECT!`)\n      this.props.requestModuleInfo(this.props.thisApp);\n    } else if (char === romajiList[indexCurrentCard] && onHintedCard) {\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      onEnterPress(Date.now()); // mimic spacepress to fill hinted char\n      const newRomaji = romajiList[indexCurrentCard + 1];\n      const newKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(newKana, newRomaji);\n      // onCompleteChar(Date.now(), \"hinted\"); // maybe this should be here instead of when just requested for hint\n    } else {\n      onWrongInput(char, romajiList[indexCurrentCard]);\n      var currentChar = getKeyByValue(\n        katakanaToRomaji,\n        romajiList[indexCurrentCard]\n      );\n      updateCharScore(user_uid, userInputChar, \"0\");\n      updateCharScore(user_uid, currentChar, \"0\");\n      this.props.requestModuleInfo(this.props.thisApp);\n    }\n  };\n\n  onKeyDown = (event) => {\n    const {\n      onIncorrectCard,\n      wordCompleted,\n      romajiList,\n      indexCurrentCard,\n      onWordCompletion,\n      audioIsPlaying,\n      cardStateList,\n      disableAllAction,\n      walkThroughEnabled,\n      endWalkThrough,\n      onInputBoxChange,\n    } = this.props;\n    const { which } = event;\n    const lastCardState = cardStateList[cardStateList.length - 1];\n    \n    if (walkThroughEnabled) {\n      if (which === 27) {\n        endWalkThrough();\n      } else if (disableAllAction) {\n        return event.preventDefault();\n      }\n    }\n    if (audioIsPlaying) {\n      return event.preventDefault();\n    }\n    if (\n      indexCurrentCard === romajiList.length - 1 &&\n      (lastCardState === \"correct\" || lastCardState === \"hinted\")\n    ) {\n      onWordCompletion();\n    }\n    // keycode 65 to 90 represents a-z\n    if (\n      ((which >= 65 && which <= 90) || which === 222) &&\n      !onIncorrectCard &&\n      !wordCompleted\n    ) {\n      var key =\n        which === 222\n          ? \"'\"\n          : String.fromCharCode(which).toLowerCase();\n      this.props.onKeyPress(key);\n      this.inputChecker.checkInput(key);\n      onInputBoxChange(event.target.value);\n    } else {\n      event.preventDefault();\n      if (which === 32) { // space\n        this.buttonClickOrSpacePressHandler(event);\n      } else if (which === 8) { // backspace\n        this.deleteIncorrectInput(event);\n      } else if (which === 13) { // enter\n        this.goToNextWord(event);\n        // this.fillHintedCharacter(event);\n      }\n    }\n  };\n\n  deleteIncorrectInput(event) {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onInputBoxChange,\n      onSpacePress,\n      resetRomajiNotInDictAlert,\n    } = this.props;\n    const { value } = event.target;\n    if (onIncorrectCard) {\n      // delete wrong input from inputBox\n      event.target.value = value.slice(0, -curWrongChar.length);\n      onInputBoxChange(value);\n      onSpacePress(\"CONTINUE_AFTER_ERROR\");\n      resetRomajiNotInDictAlert();\n    } else {\n      // clear current input\n      this.clearCurrentInput(event);\n    }\n  };\n\n  clearInputBox(event) {\n    event.target.value = \"\";\n  };\n\n  goToNextWord(event) {\n    const {\n      onSpacePress,\n      onInputBoxChange,\n      wordCompleted,\n      moveToNextWord,\n      requestedWord,\n      firstTimeCompleteWordSinceWalkThrough,\n      thisApp,\n    } = this.props;\n\n    if (wordCompleted) {\n      firstTimeCompleteWordSinceWalkThrough()\n      moveToNextWord(requestedWord, thisApp);\n      onSpacePress(\"CONTINUE_AFTER_COMPLETE\");\n      event.target.value = \"\";\n      onInputBoxChange(event.target.value);\n    }\n  }\n\n  buttonClickOrSpacePressHandler = (event) => {\n    const {\n      onIncorrectCard,\n      onSpacePress,\n      onCompleteChar,\n      wordCompleted,\n      onHintedCard,\n      romajiList,\n      indexCurrentCard,\n      user_uid,\n      updateCharScore,\n      getKeyByValue,\n      disableAllAction,\n    } = this.props;\n    \n    if (disableAllAction) {\n      return;\n    }\n\n    if (onIncorrectCard) {\n      this.deleteIncorrectInput(event)\n    } else if (!onIncorrectCard && !onHintedCard && !wordCompleted) {\n      // ask for hint\n      this.props.requestModuleInfo(this.props.thisApp);\n      onSpacePress(\"REQUEST_HINT\");\n      onCompleteChar(Date.now(), \"hinted\");\n\n      var currentChar = getKeyByValue(\n        katakanaToRomaji,\n        romajiList[indexCurrentCard]\n      );\n      updateCharScore(user_uid, currentChar, \"+0\");\n      this.props.requestModuleInfo(this.props.thisApp);\n      // clear current input\n      this.clearCurrentInput(event);\n    } else if (wordCompleted) {\n      this.goToNextWord(event)\n    } else if (onHintedCard) {\n      // this.fillHintedCharacter(event);\n    }\n  };\n\n  clearCurrentInput = (event) => {\n    const {onInputBoxChange} = this.props;\n\n    event.target.value = this.inputChecker.buffer.length\n      ? event.target.value.slice(0, -this.inputChecker.buffer.length)\n      : event.target.value;\n    onInputBoxChange(event.target.value);\n\n    // clear inputChecker buffer\n    this.inputChecker.checkInput(\"clearBuffer\");\n  }\n\n  render() {\n    return (\n      <form>\n        <Input\n          className=\"input-box\"\n          placeholder=\"Your input...\"\n          inputProps={{ \"aria-label\": \"description\" }}\n          // onChange={this.props.onInputBoxChange} // this line cause tons of warnings\n          onKeyDown={this.onKeyDown}\n          spellCheck={false}\n          autoFocus\n          inputRef={this.formRef}\n          onPaste={(event) => {\n            event.preventDefault();\n          }}\n        />\n      </form>\n    );\n  }\n}\n\nexport default connect(mapStatestoProps, mapDispatchToProps, null, {\n  forwardRef: true,\n})(CharInput);\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport \"../scss/components/NavBar.scss\";\n\n// make help dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\n// icons\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\nimport AssessmentOutlinedIcon from \"@material-ui/icons/AssessmentOutlined\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport TranslateOutlinedIcon from '@material-ui/icons/TranslateOutlined';\nimport DirectionsOutlinedIcon from '@material-ui/icons/DirectionsOutlined';\nimport { VERSION } from \"../constants\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst NavBar = (props) => {\n  const classes = useStyles();\n  const { onRouteChange, currentTab, handleClickWalkthrough } = props;\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const instructionIntro = () => {\n    return VERSION === 1 ? (\n      `Your task is to type the pronunciation of Japanese words and learn Japanese Katakana characters on the way.`\n    ) : (\n      `Your task is to type the pronunciation of Japanese Katakana characters.`\n    )\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography\n            variant=\"h6\"\n            color=\"secondary\"\n            className={classes.title}\n            align=\"left\"\n          >\n            <div className=\"navbar-title\">JapanEZ</div>\n          </Typography>\n          {/* <Button\n            className=\"nav-button-walkthrough\"\n            // disabled\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleClickWalkthrough}\n            startIcon={<DirectionsOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Walkthrough</div>\n          </Button> */}\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleClickOpen}\n            startIcon={<HelpOutlineOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Help</div>\n          </Button>\n          <Button\n            className=\"nav-button-home\"\n            variant={currentTab === \"home\" ? \"outlined\" : \"text\"}\n            color=\"secondary\"\n            onClick={() => onRouteChange(\"home\")}\n            startIcon={<HomeOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Home</div>\n          </Button>\n          <div className=\"nav-button-chart\">\n            <Button\n              className=\"nav-button-progress\"\n              variant={currentTab === \"progress\" ? \"outlined\" : \"text\"}\n              color=\"secondary\"\n              onClick={() => onRouteChange(\"progress\")}\n              startIcon={<AssessmentOutlinedIcon />}\n            >\n              <div className=\"navbar-button-text\">Progress</div>\n            </Button>\n            <Button\n              className=\"nav-button-katakanaChart\"\n              variant={currentTab === \"katakanaChart\" ? \"outlined\" : \"text\"}\n              color=\"secondary\"\n              onClick={() => onRouteChange(\"katakanaChart\")}\n              startIcon={<TranslateOutlinedIcon />}\n            >\n              <div className=\"navbar-button-text\">Katakana</div>\n            </Button>\n          </div>\n          <Button\n            color=\"secondary\"\n            variant={currentTab === \"signout\" ? \"outlined\" : \"text\"}\n            onClick={() => onRouteChange(\"signin\")}\n            className=\"nav-button\"\n            startIcon={<ExitToAppOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Signout</div>\n          </Button>\n        </Toolbar>\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle id=\"alert-dialog-title\">{\"Instruction\"}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              <p>{instructionIntro()}</p>\n\n              <p>If you don't know a Japanese character, press SPACE to learn it. But don't abuse this feature! Try to learn the character and type them out. That's the only way you can progress through this app!</p>\n\n              <p>{\"If you have any issue using the app, go to this link: \"}\n              <a style={{ color: \"black\" }} href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7\">https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7</a>\n              </p>\n\n              <p>Happy learning!</p>\n\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\" autoFocus>\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </AppBar>\n    </div>\n  );\n};\nexport default NavBar;\n","// Taken from this https://stackoverflow.com/questions/47686345/playing-sound-in-reactjs\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { onAudioPlay, onAudioPause } from \"../actions\";\r\nimport \"../scss/components/Music.scss\";\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAudioPlay: () => {\r\n      dispatch(onAudioPlay());\r\n    },\r\n    onAudioPause: () => {\r\n      dispatch(onAudioPause());\r\n    },\r\n  };\r\n};\r\n\r\nclass Music extends React.Component {\r\n  state = {\r\n    play: false,\r\n    audio: new Audio(this.props.audioLink),\r\n  };\r\n\r\n  stopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    if (!this.props.noStoreUpdateWhenEnded) {\r\n      this.props.onAudioPause();\r\n    }\r\n  };\r\n\r\n  simpleStopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    this.props.onAudioPause();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.bindMethod(this.togglePlay)\r\n    this.state.audio.addEventListener(\"ended\", this.stopAudioHandler);\r\n    setTimeout(() => {\r\n      if (this.props.autoplay) {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay(); \r\n      }\r\n    }, this.props.delay);\r\n  }\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    // if (prevProps.audioLink !== this.props.audioLink) {\r\n    //   var newAudio = new Audio(this.props.audioLink);\r\n    //   newAudio.addEventListener(\"ended\", this.stopAudioHandler);\r\n    //   this.setState({ audio: newAudio });\r\n    //   if (this.props.autoplay) {\r\n    //     setTimeout(() => {\r\n    //       this.state.audio.play();\r\n    //       this.props.onAudioPlay();\r\n    //     }, this.props.delay);\r\n    //   }\r\n    // }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n    this.state.audio.removeEventListener(\"ended\", this.simpleStopAudioHandler);\r\n    this.props.onAudioPause();\r\n  }\r\n\r\n  togglePlay = () => {\r\n    this.setState({ play: !this.state.play }, () => {\r\n      if (this.state.play) {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay();\r\n\r\n        // this is a wacky way of doing it, but basically I'm replacing the \"ended\" event listener\r\n        this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n        this.state.audio.removeEventListener(\r\n          \"ended\",\r\n          this.simpleStopAudioHandler\r\n        );\r\n        this.state.audio.addEventListener(\"ended\", this.simpleStopAudioHandler);\r\n      } else {\r\n        this.state.audio.pause();\r\n        this.props.onAudioPause();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Music);\r\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Music from \"./Music\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { katakanaToRomaji, katakanaHint } from \"../jap-char\";\nimport { MEDIA_BASE_URL_CHAR } from \"../constants\";\nimport \"../scss/components/Hint.scss\";\nimport CardActionArea from '@material-ui/core/CardActionArea';\n\n\nconst parseoutUnderlineText = (sentence) => {\n  // replace <b> and </b> with comma\n  sentence = sentence.replace(/<\\/?u>/g, \",\");\n  return sentence.split(\",\");\n};\n\nclass Hint extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audioComponent = React.createRef();\n  }\n  render() {\n    const romaji = katakanaToRomaji[this.props.currentHintedChar];\n    const sentenceFragments = parseoutUnderlineText(\n      katakanaHint[this.props.currentHintedChar].shortHint\n    );\n    const modified_romaji = romaji === \"n'\" ? \"n\" : romaji;\n    const audioLink = MEDIA_BASE_URL_CHAR + modified_romaji + \".mp3\";\n\n    // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n    return (\n      <Card \n        className={`hint-card`} \n        onClick={this.onClickHandler}\n      >\n        <CardActionArea onClick={() => this.triggerAudioComponent()}>\n          <Music\n            audioLink={audioLink}\n            delay={0}\n            noStoreUpdateWhenEnded={false}\n            autoplay={this.props.autoplayAudio}\n            bindMethod={(childMethod) => this.triggerAudioComponent = childMethod}\n          />\n          <div className=\"hint-card-content\">\n            <h3 className=\"hint-card-romaji\">{romaji}</h3>\n            <Divider />\n            <div className=\"image-div\">\n              <img\n                src={`${katakanaHint[this.props.currentHintedChar].imageLink}`}\n                className={`hint-card-image`}\n                alt=\"Hint Card\"\n              />\n            </div>\n            <CardContent style={{ paddingTop: 0, paddingBottom: 0 }}>\n              <Typography variant=\"body2\" component=\"p\">\n                <div className=\"hint-text\">\n                  {sentenceFragments[0]}\n                  <u>{sentenceFragments[1]}</u>\n                  {sentenceFragments[2]}\n                </div>\n              </Typography>\n            </CardContent>\n          </div>\n        </CardActionArea>\n      </Card>\n    );\n  }\n}\n\nexport default Hint;\n","import React from \"react\";\r\nimport \"../scss/components/TextBlock.scss\";\r\n\r\nconst TextBlock = ({ title, description, icon }) => {\r\n  return (\r\n    <div className=\"text-block\">\r\n      {icon}\r\n      <h3>{title}</h3>\r\n      <div>{description}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextBlock;\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport \"../scss/components/LoadingPopup.scss\"\r\n\r\nconst LoadingPopup = (props) => {\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.isOpen}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogContent>    \r\n          <div className=\"loading-circle\">\r\n            <CircularProgress /> \r\n          </div>\r\n          <div className=\"loading-text\">\r\n            {\"Loading\"}\r\n          </div>\r\n          \r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingPopup;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { SIGNIN_URL, VERSION } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\"\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(6),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: \"auto\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Signin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signInEmail: \"\",\r\n      signInPassword: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ signInEmail: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ signInPassword: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendSigninInfoToBackend = () => {\r\n    const { signInEmail, signInPassword } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(SIGNIN_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: signInEmail,\r\n        password: signInPassword,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n          this.setState({\r\n            emailErrorMsg: \"\",\r\n            passwordErrorMsg: \"\",\r\n          });\r\n        } else {\r\n          // there is an error loggin in\r\n          console.log(\"Login Failed\", data);\r\n          if (data === \"email is not yet registered\") {\r\n            this.setState({ emailErrorMsg: data });\r\n          } else if (data === \"incorrect password\") {\r\n            this.setState({\r\n              passwordErrorMsg: data,\r\n              emailErrorMsg: \"\",\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onSignIn = (event) => {\r\n    event.preventDefault();\r\n    const { signInEmail, signInPassword } = this.state;\r\n\r\n    // check that fields are not empty\r\n    if (!signInEmail) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!signInPassword) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (signInEmail && signInPassword) {\r\n      this.sendSigninInfoToBackend();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana in an interactive way {VERSION === 1 ? \" as you explore English-like Japanese words\" : \"\"}\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2} elevation={3}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={this.state.emailErrorMsg}\r\n                      helperText={this.state.emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      // autoFocus\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={this.state.passwordErrorMsg}\r\n                      helperText={this.state.passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    {/* <FormControlLabel\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                      label=\"Remember me\"\r\n                    /> */}\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onSignIn}\r\n                      style={{ color: \"white\" }}\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                    <div className=\"router\">\r\n                      {\"Don't have an account? \"}\r\n                      <Link\r\n                        component=\"button\"\r\n                        variant=\"body2\"\r\n                        onClick={() => this.props.onRouteChange(\"register\")}\r\n                      >\r\n                        {\"Register Here\"}\r\n                      </Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters.\"\r\n            />\r\n            { VERSION === 1 ? (\r\n              <TextBlock\r\n                icon={<FontDownloadIcon fontSize=\"large\" />}\r\n                title=\"Learn words that sound like English\"\r\n                description=\"You'd be surprised how many common Japanese words you've already known. For example, the Japnese word for tomato is トマト, which is pronounced 'to-mah-to'.\"\r\n              />\r\n            ) : (\r\n              null\r\n            )}\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Signin);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { REGISTER_URL, VERSION } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\", // ???\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: \"auto\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      nameError: false,\r\n      emailError: false,\r\n      passwordError: false,\r\n      nameErrorMsg: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  onNameInput = (event) => {\r\n    this.setState({ name: event.target.value, nameErrorMsg: \"\" });\r\n  };\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ email: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ password: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendFormDataToBackEnd = () => {\r\n    const { name, email, password } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(REGISTER_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.setState({ emailErrorMsg: \"\" });\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n        } else {\r\n          // if user already exist\r\n          this.setState({ emailErrorMsg: data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { name, email, password } = this.state;\r\n\r\n    if (!name) {\r\n      this.setState({ nameErrorMsg: \"please fill out your name\" });\r\n    } else {\r\n      this.setState({ nameErrorMsg: \"\" });\r\n    }\r\n    if (!email) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!password) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (!this.validateEmail(email)) {\r\n      this.setState({ emailErrorMsg: \"please enter a valid email address\" });\r\n      return;\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n\r\n    if (name && password && email) {\r\n      this.sendFormDataToBackEnd();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(\"IS THIS RENDERING?\")\r\n    const { classes } = this.props;\r\n    const { nameErrorMsg, emailErrorMsg, passwordErrorMsg } = this.state;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana in an interactive way {VERSION === 1 ? \" as you explore English-like Japanese words\" : \"\"}\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\" >\r\n                    <div className=\"form-title\">\r\n\r\n                    Register\r\n                    </div>\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={nameErrorMsg}\r\n                      helperText={nameErrorMsg}\r\n                      variant=\"outlined\"\r\n                      id=\"name\"\r\n                      label=\"Your Name\"\r\n                      // autoFocus\r\n                      fullWidth\r\n                      onChange={this.onNameInput}\r\n                    />\r\n                    <TextField\r\n                      error={emailErrorMsg}\r\n                      helperText={emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={passwordErrorMsg}\r\n                      helperText={passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onFormSubmit}\r\n                      style={{ color: \"#ffffff\" }}\r\n                    >\r\n                      Get started\r\n                    </Button>\r\n                    <div className=\"router\">\r\n                      {\"Already registered? \"}\r\n                      <Link\r\n                        component=\"button\"\r\n                        variant=\"body2\"\r\n                        onClick={() => this.props.onRouteChange(\"signin\")}\r\n                      >\r\n                        {\"Sign In\"}\r\n                      </Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters.\"\r\n            />\r\n            { VERSION === 1 ? (\r\n              <TextBlock\r\n                icon={<FontDownloadIcon fontSize=\"large\" />}\r\n                title=\"Learn words that sound like English\"\r\n                description=\"You'd be surprised how many common Japanese words you've already known. For example, the Japnese word for tomato is トマト, which is pronounced 'to-mah-to'.\"\r\n              />\r\n            ) : (\r\n              null\r\n            )}\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Register);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport \"../scss/components/WordCard.scss\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default function WordCard({ wordInfo }) {\r\n  const classes = useStyles();\r\n  var el = document.createElement(\"html\");\r\n  el.innerHTML = \"<b>bolded text</b>\";\r\n\r\n  var katakana_word = null;\r\n  var word_meaning = null;\r\n  var word_pos = null;\r\n\r\n  if (Object.keys(wordInfo).includes(\"word\")) {\r\n    katakana_word = wordInfo.word;\r\n    word_meaning = wordInfo.meaning;\r\n    word_pos = wordInfo.part_of_speech;\r\n  } else {\r\n    katakana_word = wordInfo.vocab_kana;\r\n    word_meaning = wordInfo.vocab_meaning;\r\n    word_pos = wordInfo.vocab_pos;\r\n  }\r\n\r\n  // fix pos format from marshallyin site\r\n  if (word_pos.includes(\"&\")) {\r\n    word_pos = word_pos.replace(/&/g, \" & \");\r\n  }\r\n  if (word_pos.includes(\"suru-Verb\")) {\r\n    word_pos = word_pos.replace(/suru-Verb/g, \"Verb\");\r\n  }\r\n  if (word_pos.includes(\"na-Adj\")) {\r\n    word_pos = word_pos.replace(/na-Adj/g, \"Adj\");\r\n  }\r\n\r\n  return (\r\n    <Card className={`${classes.root} word-card `}>\r\n      <CardContent>\r\n        \r\n        <Typography\r\n          className={`${classes.title}`}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext subtext-meaning\">Word Meaning</div>\r\n        </Typography>\r\n        <h3 className=\"bolded-style\">{word_meaning}</h3>\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext subtext-pos\">Part of Speech</div>\r\n        </Typography>\r\n        <Typography variant=\"h3\" component=\"h4\">\r\n          <div className=\"wordcard-pos\">\r\n            {word_pos}\r\n          </div>\r\n        </Typography>  \r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","// https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OutsideAlerter extends React.Component {\r\n  componentDidMount = () => {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  setWrapperRef = (node) => {\r\n    this.wrapperRef = node;\r\n  };\r\n\r\n  handleClickOutside = (event) => {\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      // for some reason, need setTimeout to work, even if 0 delay\r\n      setTimeout(() => {\r\n        this.props.focusInputBox();\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>;\r\n  }\r\n}\r\n\r\nOutsideAlerter.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default OutsideAlerter;\r\n","import React from \"react\";\r\nimport \"../scss/components/Footer.scss\";\r\nimport { \r\n  TOFUGU_LINK, \r\n  WORD_LINK, \r\n  MARSHALSITE_LINK, \r\n  VERSION,\r\n} from \"../constants\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"main-footer\">\r\n      <div>\r\n        <p>\r\n          {\"Mnemonics taken from \"}\r\n          <a href={TOFUGU_LINK}>tofugu.com</a>\r\n        </p>\r\n        { VERSION === 1 ? (\r\n          <p>\r\n            {\"Japanese words taken from \"}\r\n            <a href={WORD_LINK}>reddit.com/r/LearnJapanese</a>\r\n            {\", and \"}\r\n            <a href={MARSHALSITE_LINK}>marshallyin.com/katakana-list</a>\r\n          </p>\r\n        ) : ( null )\r\n        }\r\n      </div>\r\n      <hr />\r\n      <div className=\"copyright\">\r\n        <small>\r\n          Copyright © 2020 Tuan Le, Lien Tran. All Rights Reserved.\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport \"../scss/components/MessageBar.scss\";\r\nimport shortid from \"shortid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { PRIMARYCOLOR } from \"../constants\";\r\n\r\nconst useStyles = makeStyles({\r\n  // typing effect taken from \r\n  // https://css-tricks.com/snippets/css/typewriter-effect/\r\n  messageText: {\r\n    fontSize: \"calc(10px + 1vh)\",\r\n    textAlign: \"center\",\r\n    margin: \"0 auto\",\r\n  },\r\n  // add this to have typing animation\r\n  messageAnimation: {\r\n    borderRight: \"2px solid rgba(255, 255, 255, 0.75)\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    animation: `$typewriter 4s steps(100) 0s 1 normal both,\r\n      $blinkTextCursor 1s steps(100) infinite normal`\r\n    ,\r\n    maxWidth: (props) => {\r\n      return `${convertMessageLengthToEm(props.message)}em`;\r\n    },\r\n  },\r\n  \"@keyframes typewriter\": {\r\n    \"from\": {\r\n      width: \"0\",\r\n    },\r\n    \"to\": {\r\n      width: `100%` \r\n    },\r\n  },\r\n  \"@keyframes blinkTextCursor\": {\r\n    \"0%\": {\r\n    borderRightColor: PRIMARYCOLOR,\r\n    },\r\n      \"49%\": {\r\n      borderRightColor: PRIMARYCOLOR,\r\n    },\r\n      \"50%\": {\r\n      borderRightColor: \"transparent\",\r\n    },\r\n  }\r\n})\r\n\r\nconst convertMessageLengthToEm = (message) => {\r\n  // base em\r\n  var length_in_em = message.length/2.29;\r\n\r\n  // fine-grain adjustment based on message\r\n  if (message.includes(\"mnemonic\")) {\r\n    length_in_em += 0.75;\r\n  } else if (message.includes(\"corresponds\")) {\r\n    length_in_em += 1.1;\r\n  } else if (message.includes(\"exist\")) {\r\n    length_in_em -= 0.2;\r\n  } else if (message.includes(\"Press spacebar again\")) {\r\n    length_in_em += 0.8;\r\n  } else if (message.includes(\"stuck\")) {\r\n    length_in_em -= 0.2;\r\n  } else if (message.includes(\"!\")) {\r\n    length_in_em += 0.5;\r\n  }\r\n  return length_in_em;\r\n}\r\n\r\nconst MessageBar = (props) => {\r\n  const classes = useStyles(props);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ color: \"#5D5D5D\" }}>\r\n      <Paper elevation={0} />\r\n      <div className=\"welcome-text\">\r\n        {props.displayHelpMessages ? (\r\n          <p \r\n            className={`${classes.messageText}`} \r\n            key={shortid.generate()}\r\n          >\r\n            {props.message}\r\n          </p>\r\n        ) : (\r\n          <p className={`${classes.messageText}`}>\r\n            {`Welcome, ${props.userName}.`}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageBar;\r\n","import React from \"react\";\r\nimport \"../scss/components/SmallChar.scss\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\n// links below shows how to transition between gradient background\r\n// https://medium.com/@dave_lunny/animating-css-gradients-using-only-css-d2fd7671e759\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  cardBG: {\r\n    background: (props) => {\r\n      return props.correctPercent === 0 && props.hintedPercent === 0\r\n        ? \"#d6d6d6\"\r\n        : `linear-gradient(0deg, green 0% ${props.correctPercent}%, #f2b50c ${props.correctPercent}% ${props.hintedPercent}%)`;\r\n    },\r\n  },\r\n}));\r\n\r\nfunction SmallChar(props) {\r\n  const { char, correctNum, hintedNum, isLoading } = props;\r\n  const classes = useStyles(props);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      { isLoading ? (\r\n        <Skeleton \r\n          variant=\"wave\" \r\n          width={75} \r\n          height={80} \r\n          style={{ borderRadius: \"15px\"}}\r\n        />\r\n      ) : (\r\n        <div>\r\n          <div className={`noselect flipcard`} id={id} onClick={handleClick}>\r\n            <div className=\"flipcard-content\">\r\n              <div className={`flipcard-front ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{char}</b>\r\n                </span>\r\n              </div>\r\n              <div className=\"flipcard-back\">\r\n                <p>\r\n                  {correctNum} <span className=\"dot correct-color\"></span>\r\n                </p>\r\n                <p>\r\n                  {hintedNum} <span className=\"dot hinted-color\"></span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Popover\r\n            id={id}\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n          >\r\n            <Typography className={classes.typography}>\r\n              {`${correctNum} correct, ${hintedNum} hinted`}\r\n            </Typography>\r\n          </Popover>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default SmallChar;\r\n","import React from \"react\";\r\nimport SmallChar from \"../components/SmallChar.js\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { katakanaToRomaji, limitedKatakanaList } from \"../jap-char\";\r\nimport { GETCHARSCORE_URL } from \"../constants\";\r\nimport \"../scss/components/SmallChar.scss\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\n\r\nclass SmallCharList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      charResultList: {},\r\n    };\r\n  }\r\n\r\n  requestGetCharScore = () => {\r\n    fetch(GETCHARSCORE_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: this.props.user_uid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((charResultList) => {\r\n        this.setState({ charResultList: charResultList });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in getting characters' familiarity\", err);\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.requestGetCharScore();\r\n  };\r\n\r\n  computeCorrectPercentage = (resultList) => {\r\n    var total_correct = 0;\r\n    if (resultList.length === 0) {\r\n      return -1;\r\n    }\r\n    resultList.forEach((result) => {\r\n      if (result === \"correct\") total_correct += 1;\r\n    });\r\n    return Math.round((total_correct / resultList.length) * 100);\r\n  };\r\n\r\n  computeCorrectNum = (resultList) => {\r\n    return resultList.length === 0\r\n      ? 0\r\n      : resultList.reduce((acc, val) => {\r\n          if (val === \"correct\") {\r\n            acc += 1;\r\n          }\r\n          return acc;\r\n        }, 0);\r\n  };\r\n\r\n  render() {\r\n    var charsArrayDisplay = null;\r\n\r\n    if (Object.keys(this.state.charResultList).length === 0) {\r\n      // return <LoadingPopup isOpen={true} />;\r\n      charsArrayDisplay = limitedKatakanaList.map((kana, idx) => {\r\n          return (\r\n            <Grid item key={idx}>\r\n              <SmallChar\r\n                char={kana}\r\n                key={idx}\r\n                hintedPercent={0}\r\n                correctPercent={0}\r\n                correctNum={0}\r\n                hintedNum={0}\r\n                isLoading={true}\r\n              />\r\n            </Grid>\r\n          ); \r\n      });\r\n    } else {\r\n      charsArrayDisplay = limitedKatakanaList.map((kana, idx) => {\r\n        if (kana !== \"clearBuffer\") {\r\n          var correctPercentage = 0;\r\n          var hintedPercentage = 0;\r\n          var correctNum = this.computeCorrectNum(\r\n            this.state.charResultList[kana]\r\n          );\r\n          var hintedNum = this.state.charResultList[kana].length - correctNum;\r\n  \r\n          if (Object.keys(this.state.charResultList).length > 0) {\r\n            correctPercentage = this.computeCorrectPercentage(\r\n              this.state.charResultList[kana]\r\n            );\r\n            hintedPercentage = 100 - correctPercentage;\r\n            if (correctPercentage === -1) {\r\n              correctPercentage = 0;\r\n              hintedPercentage = 0;\r\n            }\r\n          }\r\n          return (\r\n            <Grid item key={idx}>\r\n              <SmallChar\r\n                char={kana}\r\n                key={idx}\r\n                hintedPercent={hintedPercentage}\r\n                correctPercent={correctPercentage}\r\n                correctNum={correctNum}\r\n                hintedNum={hintedNum}\r\n                isLoading={false}\r\n              />\r\n            </Grid>\r\n          );\r\n        } else {\r\n          return null;\r\n        }\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"characters-list\">\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing=\"2\"\r\n        >\r\n          {charsArrayDisplay}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SmallCharList;\r\n","import React from \"react\";\r\nimport { katakanaToRomaji } from \"../jap-char\"\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"../scss/components/KatakanaChar.scss\";\r\nimport { PRIMARYCOLOR } from \"../constants\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardBG: {\r\n    background: (props) => {\r\n      return props.isEncountered ? PRIMARYCOLOR : \"#d6d6d6\"\r\n    }\r\n  }\r\n}))\r\n\r\nconst KatakanaChar = (props) => {\r\n  const { char, isLoading } = props;\r\n  const classes = useStyles(props);\r\n\r\n  return (\r\n    <div>\r\n      { isLoading ? (\r\n        <Skeleton \r\n          variant=\"wave\" \r\n          width={75} \r\n          height={80} \r\n          style={{ borderRadius: \"15px\"}}\r\n        />\r\n      ) : (\r\n        <div>\r\n          <div className={`noselect flipcard2`}>\r\n            <div className=\"flipcard-content2\">\r\n              <div className={`flipcard-front2 ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{char}</b>\r\n                </span>\r\n              </div>\r\n              <div className={`flipcard-back2 ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{katakanaToRomaji[char]}</b>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default KatakanaChar;","import React from \"react\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\nimport { GETCHARSCORE_URL } from \"../constants\";\r\nimport { limitedKatakanaList } from \"../jap-char\";\r\nimport KatakanaChar from \"./KatakanaChar\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport \"../scss/components/KatakanaChar.scss\";\r\n\r\nclass KatakanaChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      charResultList: {},\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  requestGetCharScore = () => {\r\n    fetch(GETCHARSCORE_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: this.props.user_uid,\r\n      })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((charResultList) => {\r\n        this.setState({ charResultList: charResultList });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in fetching data about characters' familiarity\", err)\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.requestGetCharScore();\r\n  }\r\n\r\n  render() {\r\n    var katakanaArray = null;\r\n    var kana_filteredResultList = null;\r\n\r\n    if (Object.keys(this.state.charResultList).length === 0) {\r\n      // return <LoadingPopup isOpen={true} />\r\n      // if haven't receive data\r\n      katakanaArray = limitedKatakanaList.map((kana, idx) => {\r\n        return (\r\n          <Grid item key={idx}>\r\n            <KatakanaChar\r\n              char={kana}\r\n              key={idx}\r\n              isEncountered={false}\r\n              isLoading={true}\r\n            />\r\n          </Grid>\r\n        );\r\n      });\r\n    } else {\r\n      katakanaArray = limitedKatakanaList.map((kana, idx) => {\r\n        kana_filteredResultList = this.state.charResultList[kana].filter(resultType => resultType !== \"incorrect\")\r\n        return (\r\n          <Grid item key={idx}>\r\n            <KatakanaChar\r\n              char={kana}\r\n              key={idx}\r\n              isEncountered={kana_filteredResultList.length > 0}\r\n              isLoading={false}\r\n            />\r\n          </Grid>\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"characters-list\">\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing=\"2\"\r\n        >\r\n          {katakanaArray}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  };\r\n\r\n}\r\n\r\nexport default KatakanaChart;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nconst calculateProgress = (totalRep, remainingRep) => {\r\n  return (totalRep - remainingRep) / totalRep * 100;\r\n}\r\n\r\nexport default function LinearDeterminate(props) {\r\n  const classes = useStyles();\r\n  const { moduleInfo } = props;\r\n  var totalRepetition = null;\r\n  var totalRemainingRepetition = null;\r\n\r\n  if (moduleInfo) {\r\n    totalRepetition = moduleInfo.totalRepetition/2; // could use 1\r\n    totalRemainingRepetition = moduleInfo.totalRemainingRepetition;\r\n  }\r\n  \r\n  const progressPercent = calculateProgress(totalRepetition, totalRemainingRepetition);\r\n  // console.log(`got ${totalRepetition-totalRemainingRepetition} out of ${totalRepetition}`)\r\n  // console.log(`progressPercent ${progressPercent}%`)\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <LinearProgress variant=\"determinate\" value={progressPercent} />\r\n    </div>\r\n  );\r\n}","import { VERSION } from \"../constants\";\r\n\r\nconst listOfPraises = [\r\n  \"Great job!\",\r\n  \"You're a pro!\",\r\n  \"You're getting better!\",\r\n  \"You're getting good at this!\",\r\n  \"You're getting good!\",\r\n  \"Well done!\",\r\n  \"Nicely done!\",\r\n  \"Good job!\",\r\n]\r\n\r\nconst listOfSoftPraises = [\r\n  \"Nice!\",\r\n  \"Good!\",\r\n  \"Awesome!\",\r\n  \"Well done!\",\r\n  \"Great!\",\r\n  \"Good job!\",\r\n  \"Correct!\",\r\n]\r\n\r\nconst listOfEncouragements = [\r\n  \"You got this!\",\r\n  \"Let's try again.\",\r\n  \"You can do this!\",\r\n  \"Try again.\",\r\n]\r\n\r\nconst welcomeText = (version) => {\r\n  return (version === 1 ? (\r\n    `Welcome! Your challenging is to type out the pronunciation of Japanese words.`\r\n  ) : (\r\n    `Welcome! Your challenging is to type out the pronunciation of Japanese characters.`\r\n  ));\r\n}\r\n\r\nconst Introduction = [\r\n  {\r\n    intro: welcomeText(VERSION),\r\n  },\r\n  {\r\n    intro: \"If you don't know a Japanese character, simply press SPACEBAR to learn them.\",\r\n  },\r\n  // {\r\n  //   element: \".nav-button-walkthrough\",\r\n  //   intro: \"You can click this tab anytime for a walkthrough.\",\r\n  //   position: \"bottom\"\r\n  // }\r\n];\r\n\r\nconst WALKTHROUGH_PART_1 = [\r\n  {\r\n    intro: \"Welcome to the walkthrough! Click next to continue.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".inputbox-and-word\",\r\n    intro: \"Your challenge is to type out the pronunciation of the word. But not yet!\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-button\",\r\n    intro: \"Click this button to see the pronunciation of the highlighted character.\",\r\n    position: \"left\",\r\n  },\r\n];\r\n\r\nconst WALKTHROUGH_PART_2 = [\r\n  {\r\n    element: \".hint-card\",\r\n    intro: \"A character card pops up! You can click on it to play the audio.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-button\",\r\n    intro: \"Click this button again to move on\",\r\n    position: \"left\",\r\n  },\r\n];\r\n\r\nconst WALKTHROUGH_PART_3 =  [\r\n  {\r\n    element: \".inputbox-div\",\r\n    intro: \"Notice that the character is automatically filled out for you.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".japanese-word\",\r\n    intro: \"The next character is now highlighted. \",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-area\",\r\n    intro: \"Can you try to finish the rest? Keep clicking the button if you don't know the character.\",\r\n    position: \"left\",\r\n  },\r\n];\r\n\r\nconst WALKTHROUGH_PART_4 = [\r\n  {\r\n    intro: \"Now you know the general flow of the webapp. Just one last thing: You can press spacebar instead of clicking the button.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".nav-button-home\",\r\n    intro: \"You are currently on the 'Home' tab.\",\r\n    position: \"bottom\",\r\n  },\r\n  {\r\n    element: \".nav-button-chart\",\r\n    intro: \"These two tabs show your progress.\",\r\n    position: \"bottom\",\r\n  },\r\n  {\r\n    element: \".nav-button-walkthrough\",\r\n    intro: \"Click this tab anytime to replay this walkthrough.\",\r\n    position: \"bottom\",\r\n  },\r\n];\r\n\r\nexport { \r\n  WALKTHROUGH_PART_1,\r\n  WALKTHROUGH_PART_2,\r\n  WALKTHROUGH_PART_3,\r\n  WALKTHROUGH_PART_4,\r\n  listOfPraises,\r\n  listOfSoftPraises,\r\n  listOfEncouragements,\r\n  Introduction,\r\n};","import {\r\n  GETWORD_URL,\r\n  UPDATECHARSCORE_URL,\r\n  WORDSCORE_URL,\r\n  MEDIA_BASE_URL_WORD,\r\n  USER_TIME_LIMIT_IN_MINUTES,\r\n  GETMODULEINFO_URL,\r\n  GETCHAR_URL,\r\n  VERSION,\r\n} from \"../constants\";\r\nimport { katakanaToRomaji } from \"../jap-char\";\r\n\r\nconst parseJapaneseWord = (katakana_word) => {\r\n  var charsToRead = [];\r\n  for (const katakana_char of katakana_word) {\r\n    var katakana_romaji = katakanaToRomaji[katakana_char] || \"??\";\r\n    charsToRead.push({ \r\n      char: katakana_char, \r\n      romaji: katakana_romaji \r\n    });\r\n  }\r\n  return charsToRead;\r\n};\r\n\r\nconst updateCharScore = (user_uid, katakana_char, score) => {\r\n  fetch(UPDATECHARSCORE_URL, {\r\n    method: \"post\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({\r\n      user_uid: user_uid,\r\n      char: katakana_char,\r\n      score: score,\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then(() => {})\r\n    .catch((error) => {\r\n      console.log(\"Failed to update char score\", error);\r\n    });\r\n};\r\n\r\n// not used\r\nconst updateWordScore = (user_uid, word) => {\r\n  fetch(WORDSCORE_URL, {\r\n    method: \"post\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({\r\n      user_uid: user_uid,\r\n      word: word,\r\n      unix_time: this.state.currentWord_unix_time,\r\n    }),\r\n  })\r\n  .then((res) => res.json())\r\n  .then(() => {\r\n    this.requestNewWord();\r\n  })\r\n  .catch((error) => {\r\n    console.log(\"Failed to update word score\", error);\r\n  });\r\n};\r\n\r\nconst parseAudio = (audio_string) => {\r\n  return audio_string.slice(7, audio_string.length - 1);\r\n};\r\n\r\nconst requestModuleInfo = (thisApp) => {\r\n  const version = VERSION === 2 ? \"2\" : \"\";\r\n  fetch(GETMODULEINFO_URL, {\r\n    method: \"post\",\r\n    headers: { \"Content-Type\": \"application/json\"},\r\n    body: JSON.stringify({\r\n      userId: thisApp.state.userInfo.id,\r\n      version: version,\r\n    }),\r\n  })\r\n  .then((res) => res.json())\r\n  .then((moduleInfoObject) => {\r\n    thisApp.setState({ moduleInfo: moduleInfoObject });\r\n  })\r\n  .catch((error) => {\r\n    console.log(`Error in requestModuleInfo: ${error}`);\r\n  });\r\n}\r\n\r\nconst requestNewWordPromise = async (thisApp) => {\r\n  return new Promise(resolve => {\r\n    thisApp.setState({ clickedJapChar: \"\" });\r\n    thisApp.setState({ isFetchingWord: true })\r\n    thisApp.setState({ wordRequestTimeStamp: Date.now() })\r\n    fetch(GETWORD_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: thisApp.state.userInfo.id,\r\n      }),\r\n    })\r\n    .then((res) => res.json())\r\n    .then((word) => {\r\n      if (word === \"END GAME\") {\r\n        thisApp.setState({ openEndDialogue: true });\r\n      }\r\n      thisApp.setState({ isFetchingWord: false });\r\n      thisApp.setState({ requestedWord: word });\r\n      resolve();\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Error in getting next word\", err);\r\n    });\r\n  });\r\n};\r\n\r\nconst requestNewCharPromise = async (thisApp) => {\r\n  return new Promise(resolve => {\r\n    thisApp.setState({ clickedJapChar: \"\" });\r\n    thisApp.setState({ isFetchingWord: true });\r\n    thisApp.setState({ wordRequestTimeStamp: Date.now() });\r\n    fetch(GETCHAR_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: thisApp.state.userInfo.id,\r\n      }),\r\n    }).then((res) => res.json())\r\n      .then((word) => {         \r\n        thisApp.setState({ isFetchingWord: false });\r\n        thisApp.setState({ requestedWord: word });\r\n        resolve();\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in getting next char\", err);\r\n      });\r\n  });\r\n};\r\n\r\nconst requestNewWord = async (thisApp) => {\r\n  if (thisApp.props.version === 1) {\r\n    return requestNewWordPromise(thisApp);\r\n  } else if (thisApp.props.version === 2) {\r\n    return requestNewCharPromise(thisApp);\r\n  } else {\r\n    console.log(`version should either be 1 or 2`);\r\n  }\r\n};\r\n\r\nconst transitionToNextWord = async (word, thisApp) => {\r\n  const { setCurrentChar, updateWord } = thisApp.props;\r\n  var romajiList = [];\r\n  thisApp.requestModuleInfo(thisApp);\r\n  if (Object.keys(word).includes(\"word\")) {\r\n    romajiList = parseJapaneseWord(word.word).map(\r\n    (kana_char) => kana_char.romaji\r\n    );\r\n    updateWord(word.word, romajiList);\r\n    setCurrentChar(word.word.charAt(0), romajiList[0]);\r\n  } else {\r\n    romajiList = parseJapaneseWord(word.vocab_kana).map(\r\n      (kana_char) => kana_char.romaji\r\n    );\r\n    updateWord(word.vocab_kana, romajiList);\r\n    setCurrentChar(word.vocab_kana.charAt(0), romajiList[0]);\r\n    const audio_url = `${MEDIA_BASE_URL_WORD}${parseAudio(word.vocab_sound_local)}`\r\n    const word_audio = new Audio(audio_url);\r\n    word_audio.on(\"loadedmetadata\", (event) => {\r\n      thisApp.setState({\r\n        word_audio_duration: event.target.duration,\r\n      });\r\n    });\r\n  }\r\n  thisApp.setState({ currentWordInfo: word });\r\n  thisApp.setState({ currentWord_unix_time: Date.now() });\r\n};\r\n\r\nconst transitionToNextChar = async (char, thisApp) => {\r\n  const { setCurrentChar, updateWord } = thisApp.props;\r\n  setCurrentChar(char, katakanaToRomaji[char]);\r\n  updateWord(char, [katakanaToRomaji[char]]);\r\n  thisApp.setState({ currentWordInfo: char });\r\n  thisApp.setState({ currentWord_unix_time: Date.now() });\r\n  thisApp.requestModuleInfo(thisApp);\r\n};\r\n\r\nconst moveToNextWord = async (word, thisApp) => {\r\n  if (thisApp.props.version === 1) {\r\n    transitionToNextWord(word, thisApp);\r\n  } else if (thisApp.props.version === 2) {\r\n    transitionToNextChar(word, thisApp);\r\n  } else {\r\n    console.log(`version should either be 1 or 2`);\r\n  }\r\n};\r\n\r\nexport {\r\n  parseJapaneseWord,\r\n  updateCharScore,\r\n  parseAudio,\r\n  requestModuleInfo,\r\n  requestNewWordPromise,\r\n  requestNewCharPromise,\r\n  transitionToNextWord,\r\n  transitionToNextChar,\r\n  moveToNextWord,\r\n  requestNewWord,\r\n};\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport CharList from \"./CharList\";\nimport CharInput from \"./CharInput\";\nimport NavBar from \"../components/NavBar\";\nimport Hint from \"../components/Hint\";\nimport { \n  Grid, \n  Paper,\n  Button,\n  Switch,\n  Box,\n  FormControlLabel,\n  Dialog,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport Signin from \"../components/Signin\";\nimport Register from \"../components/Register\";\nimport WordCard from \"../components/WordCard\";\nimport OutsideAlerter from \"../components/OutsideAlerter\";\nimport Footer from \"../components/Footer\";\nimport MessageBar from \"../components/MessageBar\";\nimport SmallCharList from \"../components/SmallCharList\";\nimport KatakanaChart from \"../components/KatakanaChart\";\nimport LoadingPopup from \"../components/LoadingPopup\"\nimport LinearDeterminate from \"../components/LinearDeterminate\";\nimport \"../scss/containers/App.scss\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport {\n  updateChar,\n  updateWord,\n  resetStore,\n  loadUserToStore,\n} from \"../actions\";\nimport {\n  USER_TIME_LIMIT_IN_MINUTES,\n} from \"../constants\";\nimport {\n  listOfPraises,\n  listOfSoftPraises,\n  WALKTHROUGH_PART_1,\n  WALKTHROUGH_PART_2,\n  WALKTHROUGH_PART_3,\n  WALKTHROUGH_PART_4,\n  Introduction,\n} from \"../constants/App-constants\";\nimport {\n  parseJapaneseWord,\n  updateCharScore,\n  requestModuleInfo,\n  moveToNextWord,\n  requestNewWord,\n} from \"../constants/App-methods\";\nimport LogRocket from \"logrocket\";\nimport 'intro.js/introjs.css';\nimport { Steps } from 'intro.js-react';\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst mapStateToProps = (state) => {\n  return {\n    currentJapChar: state.changeCardState.currentJapChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    currentWord: state.changeCardState.currentWord,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    romajiNotInDict: state.changeInputBox.romajiNotInDict,\n    cardStateList: state.changeCardState.cardStateList,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    wrongCharList: state.changeCardState.wrongCharList,\n    romajiList: state.changeCardState.romajiList,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    resetStore: () => {\n      dispatch(resetStore());\n    },\n    loadUserToStore: (userInfo) => {\n      dispatch(loadUserToStore(userInfo));\n    },\n  };\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      route: \"home\", // should be register\n      userInfo: {\n        email: \"developer@g.com\",\n        joined: \"2020-10-26T14:19:40.915Z\",\n        name: \"Developer\",\n        id: \"5ab535f5-b0eb-4a9b-98b5-b6b86cd8d328\",\n      },\n      // userInfo: {\n      //   id: \"\",\n      //   name: \"\",\n      //   email: \"\",\n      //   joined: \"\",\n      // },\n      requestedWord: `place_holder`,\n\n      currentWordInfo: null,\n      openEndDialogue: false,\n      isFetchingWord: false,\n      checkedAudioAutoPlay: false,\n      checkedEnableMessage: true,\n      checkedEnableBlueButton: false,\n      walkThroughEnabled: false,\n\n      // introjs test\n      initialStep: 0,\n      steps1Enabled: false,\n      steps2Enabled: false,\n      steps3Enabled: false,\n      steps4Enabled: false,\n      transitionedFromSteps1ToSteps2: false,\n      transitionedFromSteps2ToSteps3: false,\n      transitionedFromSteps3ToSteps5: false,\n      steps1: WALKTHROUGH_PART_1,\n      steps2: WALKTHROUGH_PART_2,\n      steps3: WALKTHROUGH_PART_3,\n      steps4: WALKTHROUGH_PART_4,\n      introductory_steps: Introduction,\n      disableAllAction: false,\n      firstTimeCompleteWordSinceWalkThru: false,\n      firstIntroductionEnabled: false,\n      \n      moduleInfo: null,\n    };\n    this.charInputRef = React.createRef();\n    this.hintCardRef = React.createRef();\n    this.wordCardRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n    this.requestModuleInfo(this);\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    // check if it's user's first time logging in\n    if (this.state.route === \"home\"\n        && prevState.route === \"register\") {\n      this.setState({ walkThroughEnabled: false }) // TODO should be true, if want to enable by default when login first time\n      this.setState({ steps1Enabled: true });\n      this.setState({ steps2Enabled: false });\n      this.setState({ steps3Enabled: false });\n      this.setState({ steps4Enabled: false });\n      this.setState({ firstIntroductionEnabled: true });\n      this.requestModuleInfo(this);\n    } \n    if (this.state.userInfo.id !== prevState.userInfo.id) {\n      this.props.resetStore();\n      this.requestAndUpdateWord();\n      this.requestModuleInfo(this);\n    }\n    if (this.props.wordCompleted \n        && this.props.wordCompleted !== prevProps.wordCompleted) {\n      this.requestNewWord(this);\n    }\n    if (this.state.route === \"home\") {\n      setTimeout(() => {\n        this.setState({ openEndDialogue: true });\n      }, USER_TIME_LIMIT_IN_MINUTES * 60000);\n    }\n    if (this.state.steps1Enabled === prevState.steps1Enabled\n        && !this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current !== null) {\n        this.setState({ steps1Enabled: false })\n        this.setState({ steps2Enabled: true })\n        this.setState({ transitionedFromSteps1ToSteps2: true })\n      }\n    }\n    if (this.state.steps2Enabled === prevState.steps2Enabled\n        && !this.state.transitionedFromSteps2ToSteps3\n        && this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current === null) {\n        this.setState({ steps2Enabled: false })\n        this.setState({ steps3Enabled: true })\n        this.setState({ transitionedFromSteps2ToSteps3: true })\n      }\n    }\n    if (this.state.steps3Enabled === prevState.steps3Enabled\n        && !this.state.transitionedFromSteps3ToSteps4\n        && this.state.transitionedFromSteps1ToSteps2\n        && this.state.transitionedFromSteps2ToSteps3\n        && this.state.firstTimeCompleteWordSinceWalkThru\n        ) {\n      if (this.wordCardRef.current === null) {\n        this.setState({ steps3Enabled: false })\n        this.setState({ steps4Enabled: true })\n        this.setState({ transitionedFromSteps3ToSteps4: true })\n        this.setState({ firstTimeCompleteWordSinceWalkThru: false }) // for future walkthru\n      }\n    }\n  };\n\n  loadUser = (user) => {\n    const { user_uid, name, email, joined } = user;\n    this.setState((prevState) => {\n      let userInfo = { ...prevState.userInfo };\n      userInfo.name = name;\n      userInfo.id = user_uid;\n      userInfo.email = email;\n      userInfo.joined = joined;\n      return { userInfo };\n    });\n    this.props.loadUserToStore(user);\n    LogRocket.identify(user_uid, {\n      name: name,\n      email: email,\n      joined: joined,\n    });\n    console.log(\"userInfo\", this.state.userInfo);\n  };\n\n  onRouteChange = (route) => {\n    this.setState({ route: route });\n  };\n  updateCharScore = updateCharScore;\n  requestModuleInfo = requestModuleInfo;\n  requestNewWord = requestNewWord;\n  moveToNextWord = moveToNextWord;\n\n  requestAndUpdateWord = async () => {\n    await this.requestNewWord(this);\n    this.moveToNextWord(this.state.requestedWord, this);\n  };\n\n  focusInputBox = () => {\n    this.charInputRef.current.formRef.current.focus();\n  };\n\n  onClickCard = (event) => {\n    const kana_char = event.target.innerText;\n    this.setState({ clickedJapChar: kana_char });\n    // unclick\n    if (this.state.clickedJapChar === kana_char) {\n      this.setState({ clickedJapChar: \"\" });\n    }\n  };\n\n  showHint = () => {\n    // once user completed word, can review hint card\n    if (this.props.wordCompleted && this.state.clickedJapChar) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.state.clickedJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n    if (this.props.onHintedCard) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.props.currentJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n  };\n\n  displayWordInfo = () => {\n    if (this.props.wordCompleted && this.props.version === 1) {\n      return (\n        <Grid item>\n          <WordCard\n            wordInfo={this.state.currentWordInfo}\n            word_audio_duration={this.state.word_audio_duration}\n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.wordCardRef}\n          />\n        </Grid>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  getKeyByValue = (object, value) => {\n    return Object.keys(object).find((key) => object[key] === value);\n  };\n\n  randomItem = (aList) => {\n    return aList[Math.floor(Math.random() * aList.length)];\n  };\n\n  displayMessage = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      curWrongChar,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n      cardStateList,\n      indexCurrentCard,\n      wrongCharList,\n      romajiList,\n    } = this.props;\n    if (this.state.walkThroughEnabled) {\n      return \"...\"\n    }\n    if (audioIsPlaying) {\n      return `Playing audio...`;\n    }\n    if (onIncorrectCard) {\n      return (romajiNotInDict \n        ? `${curWrongChar} does not exist in the Japanese alphabet. Delete your input and try again.`\n        : `${curWrongChar} corresponds to ${this.getKeyByValue(katakanaToRomaji, curWrongChar)}, not ${currentJapChar}. Delete your input and try again.`\n      );\n    } else if (onHintedCard) {\n      return \"Type the character.\"\n    } else if (romajiList[indexCurrentCard] in wrongCharList) {\n      return \"Press spacebar if you're stuck.\"\n    } else if (indexCurrentCard > 0 \n      && indexCurrentCard < cardStateList.length\n      && cardStateList[indexCurrentCard - 1] === \"correct\") {\n        return this.randomItem(listOfSoftPraises);\n    } else if (wordCompleted && !audioIsPlaying) {\n      const cardStateSet = new Set(cardStateList);\n      if (cardStateSet.size === 1 && cardStateSet.has(\"correct\")) {\n        return `${this.randomItem(listOfPraises)} Press spacebar to continue.`;\n      } else {\n        return `Click on ${this.props.version === 1 ? 'a' : 'the'} character or press spacebar to continue.`;\n      }\n    } else {\n      // return `I will be giving you feedback as you use the app.`;\n      return `Press spacebar if you're stuck.`;\n    }\n  };\n  setButtonText = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      currentJapChar,\n    } = this.props;\n\n    if (onIncorrectCard) {\n      return \"Try Again\";\n    } else if (onHintedCard && !audioIsPlaying) {\n      return \"Got it\";\n    } else if (wordCompleted && !audioIsPlaying) {\n      return \"Next Word\";\n    } else if (!onHintedCard && !wordCompleted) {\n      return `LEARN ${currentJapChar}`;\n    } else {\n      return \"\";\n    }\n  };\n  displayLoadingPopup = () => {\n    setTimeout(() => {\n      return this.state.isFetchingWord;\n    }, 1000);\n  } // not used\n\n  handleAudioAutoplaySwitch = (event) => {\n    this.setState(\n      { checkedAudioAutoPlay: !this.state.checkedAudioAutoPlay }\n    );\n  }\n  handleEnableMessageSwitch = () => {\n    this.setState(\n      { checkedEnableMessage: !this.state.checkedEnableMessage }\n    );\n  }\n  handleEnableBlueButtonSwitch = () => {\n    this.setState(\n      {checkedEnableBlueButton: !this.state.checkedEnableBlueButton }\n    )\n  }\n\n  onExitIntroduction = () => {\n    this.setState({ firstIntroductionEnabled: false });\n  }\n  onExitIntro1 = () => {\n    this.setState({ steps1Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ checkedEnableMessage: true });\n  }\n  onExitIntro2 = () => {\n    this.setState({ steps2Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro3 = () => {\n    this.setState({ steps3Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro4 = () => {\n    this.setState({ steps4Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ walkThroughEnabled: false });\n  }\n  \n  handleClickWalkthrough = () => {\n    // this.clickChild(this.charInputRef.current.formRef.current);\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: true });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: true });\n    this.setState({ checkedEnableBlueButton: true });\n    this.setState({ firstIntroductionEnabled: false });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  endWalkThrough = () => {\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: false });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: false });\n    this.setState({ checkedEnableBlueButton: true });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  onBeforeChange1 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      // select dynamically created elements\n      this.steps1.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 4) {\n      if (!this.hintCardRef.current) {\n        return false;\n      } else {\n        this.steps1.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange2 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps2.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.hintCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps2.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange3 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps3.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.wordCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps3.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange4 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps4.updateStepElement(nextStepIndex);\n    }\n  }\n  onChangeInSteps = (specialIndex) => (index, _) => {\n    if (index !== specialIndex) {\n      this.setState({ disableAllAction: true });\n    } else {\n      this.setState({ disableAllAction: false });\n    }\n  }\n  firstTimeCompleteWordSinceWalkThrough = () => {\n    this.setState({ firstTimeCompleteWordSinceWalkThru : true })\n  }\n  \n  renderRoute = (route) => {\n    switch (route) {\n      case \"progress\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"progress\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <SmallCharList user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        );\n      case \"katakanaChart\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"katakanaChart\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <KatakanaChart user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        )\n      case \"signin\":\n        return (\n          <Signin onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n        );\n      case \"register\":\n        return (\n          <Register\n            onRouteChange={this.onRouteChange}\n            loadUser={this.loadUser}\n          />\n        );\n      case \"home\":\n        const { currentWord } = this.props;\n        const {\n          steps1Enabled,\n          steps2Enabled,\n          steps3Enabled,\n          steps4Enabled,\n          steps1,\n          steps2,\n          steps3,\n          steps4,\n          initialStep\n        } = this.state;\n        const generalStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          exitOnOverlayClick: false,\n          exitOnEsc: false,\n          showButtons: true,\n          overlayOpacity: 0.5,\n          skipLabel: \"Skip\",\n          doneLabel: \"Got it!\",\n        };\n        const lastStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          showButtons: false,\n          overlayOpacity: 0.2,\n        };\n        return (\n          <div className=\"page-container\" style={{ position: \"relative\" }}>\n            <LoadingPopup isOpen={this.displayLoadingPopup()}/>\n            <Steps\n              enabled={this.state.firstIntroductionEnabled}\n              steps={this.state.introductory_steps}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.introductory_steps = steps)}\n              // onBeforeChange={this.onBeforeChange1}\n            >\n            </Steps>\n            <Steps\n              enabled={steps1Enabled && this.state.walkThroughEnabled}\n              steps={steps1}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.steps1 = steps)}\n              onBeforeChange={this.onBeforeChange1}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps2Enabled && this.state.walkThroughEnabled}\n              steps={steps2}\n              initialStep={initialStep}\n              onExit={this.onExitIntro2}\n              options={generalStepsOptions}\n              ref={steps => (this.steps2 = steps)}\n              onBeforeChange={this.onBeforeChange2}\n              onChange={this.onChangeInSteps(1)}\n            />\n            <Steps\n              enabled={steps3Enabled && this.state.walkThroughEnabled}\n              steps={steps3}\n              initialStep={initialStep}\n              onExit={this.onExitIntro3}\n              options={generalStepsOptions}\n              ref={steps => (this.steps3 = steps)}\n              onBeforeChange={this.onBeforeChange3}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps4Enabled && this.state.walkThroughEnabled}\n              steps={steps4}\n              initialStep={initialStep}\n              onExit={this.onExitIntro4}\n              options={generalStepsOptions}\n              ref={steps => (this.steps4 = steps)}\n              onBeforeChange={this.onBeforeChange4}\n            />\n            <Dialog\n              open={this.state.openEndDialogue}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">\n                {\"Time's Up!\"}\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  <p>\n                    {`You have used the app for ${USER_TIME_LIMIT_IN_MINUTES} minute. Please click the link\n                    below to take a short test that will assess your Katakana\n                    knowledge. Thank you for using the app!`}\n                  </p>\n                  <a\n                    href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"\n                    className=\"survey-link\"\n                  >\n                    {\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"}\n                  </a>\n                </DialogContentText>\n              </DialogContent>\n            </Dialog>\n            <div className=\"content-wrap\">\n              <NavBar \n                onRouteChange={this.onRouteChange} \n                currentTab=\"home\"\n                handleClickWalkthrough={this.handleClickWalkthrough}\n              />\n              <div className=\"message-bar\">\n                <MessageBar \n                  userName={this.state.userInfo.name}\n                  message={this.displayMessage()}\n                  displayHelpMessages={this.state.checkedEnableMessage}\n                />\n              </div>\n              <FormControlLabel\n                className=\"audio-control switch-control\"\n                label=\"Autoplay Audio\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    // disabled\n                    checked={this.state.checkedAudioAutoPlay}\n                    onChange={this.handleAudioAutoplaySwitch}\n                    name=\"autoplay-audio\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              <FormControlLabel\n                className=\"message-control switch-control\"\n                label=\"Help Message\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableMessage}\n                    onChange={this.handleEnableMessageSwitch}\n                    name=\"enable-message\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              {/* <FormControlLabel\n                className=\"blue-button-visibility-control switch-control\"\n                label=\"Display Button\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableBlueButton}\n                    onChange={this.handleEnableBlueButtonSwitch}\n                    name=\"enable-bluebutton\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel> */}\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <div className=\"main-area\">\n                  <div className=\"inputbox-and-word\"\n                  >\n                    <Grid item className=\"inputbox-div\">\n                      <OutsideAlerter focusInputBox={this.focusInputBox}>\n                        <CharInput\n                          updateCharScore={this.updateCharScore}\n                          getKeyByValue={this.getKeyByValue}\n                          user_uid={this.state.userInfo.id}\n                          ref={this.charInputRef}\n                          setClick={(click) => (this.clickChild = click)}\n                          matchClearFormInputFunction={(childFunc) => (this.clearFormInput = childFunc)}\n                          disableAllAction={this.state.disableAllAction}\n                          endWalkThrough={this.endWalkThrough}\n                          walkThroughEnabled={this.state.walkThroughEnabled}\n                          moveToNextWord = {this.moveToNextWord}\n                          requestedWord = {this.state.requestedWord}\n                          firstTimeCompleteWordSinceWalkThrough = \n                          {this.firstTimeCompleteWordSinceWalkThrough}\n                          requestModuleInfo={this.requestModuleInfo}\n                          thisApp={this}\n                        />\n                      </OutsideAlerter>\n                    </Grid>\n                    <Grid item className=\"japanese-word-area\">\n                      <CharList\n                        charsToRead={parseJapaneseWord(currentWord)}\n                        onClickCard={this.onClickCard}\n                        clickedJapChar={this.state.clickedJapChar}\n                      />\n                    </Grid>\n                    <div className=\"module-level\">\n                      {`Level ${this.state.moduleInfo ? this.state.moduleInfo.moduleIndex : 0}`}\n                    </div>\n                    <Grid item>\n                      <Box\n                        className=\"progress-bar\"\n                        // width=\"30vw\" \n                      >\n                        <LinearDeterminate \n                          moduleInfo={this.state.moduleInfo} \n                        />\n                      </Box>\n                    </Grid>\n                  </div>\n                  {this.state.checkedEnableBlueButton ? (<Grid item > \n                    {!this.props.audioIsPlaying ? (\n                      <Button\n                        className=\"main-button\"\n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => this.clickChild(this.charInputRef.current.formRef.current)}\n                        style={{ color: \"white\" }}\n                      >\n                        {this.setButtonText()}\n                      </Button>\n                    ) : (\n                      <Button\n                        className=\"main-button\"\n                        disabled                       \n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() =>\n                          this.clickChild(\n                            this.charInputRef.current.formRef.current\n                          )\n                        }\n                        style={{ color: \"white\" }}\n                      >\n                        {\"Got it\"}\n                      </Button>\n                    )}\n                  </Grid>) : null}\n                  <Grid item className=\"card-area\">\n                    <Grid\n                      container\n                      direction=\"row\"\n                      justify=\"center\"\n                      alignItems=\"center\"\n                      spacing={2}\n                    >                      \n                      {this.showHint()}\n                      {this.displayWordInfo()}\n                    </Grid>                  \n                  </Grid>\n                </div>\n              </Grid>\n            </div>\n            <Footer />\n          </div>\n        );\n      default:\n        return <div>Default</div>;\n    }\n  };\n\n  render() {\n    return <div className=\"tc\">{this.renderRoute(this.state.route)}</div>;\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { USER_INPUT } from \"./constants\";\r\n// import update from \"react-addons-update\";\r\n\r\nconst initialInputBox = {\r\n  inputBox: \"\",\r\n  keyPressed: \"\",\r\n  romajiNotInDict: false,\r\n};\r\n\r\nconst initialGeneralState = {\r\n  audioIsPlaying: false,\r\n  userInfo: null,\r\n};\r\n\r\nconst initialCardState = {\r\n  currentJapChar: \"\",\r\n  currentRomaji: \"\",\r\n  currentWord: \"\",\r\n  curWrongChar: \"\",\r\n  hintedCharList: [],\r\n  wrongCharList: {},\r\n  onIncorrectCard: false,\r\n  onHintedCard: false,\r\n  wordCompleted: false,\r\n  prevTimestamp: null,\r\n  charTimestamp: [],\r\n  allCharTimestamp: [],\r\n  romajiList: [],\r\n  indexCurrentCard: 0,\r\n  cardStateList: [],\r\n};\r\n\r\nexport const changeGeneralState = (\r\n  state = initialGeneralState,\r\n  action = {}\r\n) => {\r\n  switch (action.type) {\r\n    case \"PLAY_AUDIO\":\r\n      return { ...state, audioIsPlaying: true };\r\n    case \"PAUSE_AUDIO\":\r\n      return { ...state, audioIsPlaying: false };\r\n    case \"LOAD_USER\":\r\n      return { ...state, userInfo: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeInputBox = (state = initialInputBox, action = {}) => {\r\n  switch (action.type) {\r\n    case USER_INPUT:\r\n      return { ...state, inputBox: action.payload };\r\n    case \"PRESS_KEY\":\r\n      return { ...state, keyPressed: action.payload };\r\n    case \"RESET_STORE\":\r\n      return { ...state, inputBox: \"\", keyPressed: \"\" };\r\n    case \"ALERT_NOT_IN_DICT\":\r\n      return { ...state, romajiNotInDict: true };\r\n    case \"RESET_NOT_IN_DICT_ALERT\":\r\n      return { ...state, romajiNotInDict: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeCardState = (state = initialCardState, action = {}) => {\r\n  switch (action.type) {\r\n    case \"CHAR_UPDATE\":\r\n      return {\r\n        ...state,\r\n        currentJapChar: action.currentJapChar,\r\n        currentRomaji: action.currentRomaji,\r\n      };\r\n    case \"ENTER_PRESS\":\r\n      state.cardStateList[state.indexCurrentCard] = \"hinted\";\r\n      return {\r\n        ...state,\r\n        hintedCharList: [...state.hintedCharList, state.currentRomaji],\r\n        onHintedCard: false,\r\n        prevTimestamp: action.time,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n      };\r\n    case \"WRONG_INPUT\":\r\n      state.wrongCharList[action.currentChar] = action.userInput;\r\n      state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        onIncorrectCard: true,\r\n        curWrongChar: action.userInput,\r\n      };\r\n    case \"SPACE_PRESS_TO_CONTINUE\":\r\n      state.cardStateList[state.indexCurrentCard] = \"\";\r\n      return { ...state, onIncorrectCard: false };\r\n    case \"SPACE_PRESS_FOR_HINT\":\r\n      return { ...state, onHintedCard: true };\r\n    case \"SPACE_PRESS_TO_GO_NEXT\":\r\n      return {\r\n        ...state,\r\n        wordCompleted: false,\r\n        charTimestamp: [],\r\n        allCharTimestamp: [...state.allCharTimestamp, state.charTimestamp],\r\n        // prevTimestamp: action.time,\r\n        hintedCharList: [],\r\n      };\r\n    case \"COMPLETE_WORD\":\r\n      return { ...state, wordCompleted: true };\r\n    case \"UPDATE_WORD\":\r\n      return {\r\n        ...state,\r\n        currentWord: action.payload,\r\n        romajiList: action.romajiList,\r\n        cardStateList: action.cardStateList,\r\n        indexCurrentCard: 0,\r\n      };\r\n    case \"COMPLETE_CHAR\":\r\n      const newTimestamp = {\r\n        char: state.currentJapChar,\r\n        time: action.time - state.prevTimestamp,\r\n        type: action.completionType,\r\n      };\r\n      console.log(\"TIME STAMP\", newTimestamp);\r\n      return {\r\n        ...state,\r\n        charTimestamp: [...state.charTimestamp, newTimestamp],\r\n        prevTimestamp: action.time,\r\n      };\r\n    case \"SET_NEW_WORD_TIME\":\r\n      return { ...state, prevTimestamp: action.time };\r\n    case \"INPUT_CORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"correct\";\r\n      return {\r\n        ...state,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"correct\" : item\r\n        ),\r\n      };\r\n    case \"INPUT_INCORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"incorrect\" : item\r\n        ),\r\n      };\r\n    case \"RESET_STORE\":\r\n      return {\r\n        ...state,\r\n        allCharTimestamp: [],\r\n        charTimestamp: [],\r\n        curWrongChar: null,\r\n        onHintedCard: false,\r\n        onIncorrectCard: false,\r\n        wordCompleted: false,\r\n        wrongCharList: {},\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport \"./scss/index.scss\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./containers/App.js\"; // word-based version\nimport {\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n} from \"./reducers\";\nimport { PRIMARYCOLOR, VERSION } from \"./constants.js\"\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport \"typeface-roboto\";\nimport LogRocket from \"logrocket\";\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst theme = createMuiTheme({\n  palette: {\n    // type: \"dark\",\n    primary: {\n      main: PRIMARYCOLOR,\n    },\n    secondary: {\n      main: \"#ffffff\",\n    },\n  },\n  overrides: {\n    MuiButton: {\n      iconSizeMedium: {\n        \"& > *:first-child\": {\n          fontSize: 22 // change global icon size\n        }\n      }\n    }\n  }\n});\n\nconst rootReducer = combineReducers({\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n});\n\nconst logger = createLogger();\n\n// const store = createStore(rootReducer, applyMiddleware(logger));\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(logger, LogRocket.reduxMiddleware())\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <App version={VERSION} />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}