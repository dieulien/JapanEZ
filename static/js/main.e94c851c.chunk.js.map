{"version":3,"sources":["serviceWorker.js","components/Char.js","constants.js","actions.js","containers/CharList.js","inputChecker.js","jap-char.js","containers/CharInput.js","components/NavBar.js","components/Music.js","components/Hint.js","components/TextBlock.js","components/LoadingPopup.js","components/Signin2.js","components/Register2.js","components/OutsideAlerter.js","components/Footer.js","components/MessageBar.js","components/SmallChar.js","components/SmallCharList.js","components/KatakanaChar.js","components/KatakanaChart.js","components/LinearDeterminate.js","constants/App-constants.js","containers/App2.js","components/Signin.js","components/Register.js","components/WordCard.js","components/WordCard2.js","containers/App.js","reducers.js","index.js"],"names":["Boolean","window","location","hostname","match","Char","className","this","props","cardState","wordCompleted","onClick","onClickCard","char","React","Component","REGISTER_URL","SIGNIN_URL","UPDATECHARSCORE_URL","GETCHARSCORE_URL","GETMODULEINFO_URL","MEDIA_BASE_URL_WORD","updateChar","japchar","romaji","type","currentJapChar","currentRomaji","updateWord","word","romajiList","cardStateList","map","item","payload","loadUserToStore","userInfo","CharList","componentDidMount","setNewWordTime","Date","now","componentDidUpdate","prevProps","JSON","stringify","charsToRead","setCardState","idx","indexCurrentCard","onHintedCard","concat","clickedJapChar","state","dispatchTime","charsArrayDisplay","Grid","key","container","direction","justify","alignItems","spacing","connect","changeCardState","dispatch","time","TrieNode","parent","children","end","Trie","root","prototype","getWord","output","node","unshift","join","insert","i","length","contains","find","prefix","findAllWords","arr","child","SpellCheckerBuffer","charAndRomaji","checkFunction","wordNotInDictAlert","dict","buffer","charTrie","Object","values","forEach","element","pendingChars","Array","isArray","katakanaToRomaji","ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ラ","リ","ル","レ","ロ","ワ","ヲ","ン","clearBuffer","limitedKatakanaList","katakanaHint","imageLink","shortHint","CharInput","user_uid","fillHintedCharacter","eventTarget","onWordCompletion","onInputBoxChange","onEnterPress","setCurrentChar","currentWord","value","curRomaji","onCorrectChar","onWrongInput","onCompleteChar","getKeyByValue","updateCharScore","userInputChar","newRomaji","currentChar","requestModuleInfo","onKeyDown","event","onIncorrectCard","audioIsPlaying","disableAllAction","walkThroughEnabled","endWalkThrough","which","preventDefault","lastCardState","buttonClickOrSpacePressHandler","target","deleteIncorrectInput","goToNextWord","String","fromCharCode","toLowerCase","onKeyPress","inputChecker","checkInput","onSpacePress","console","log","clearCurrentInput","slice","formRef","createRef","alertRomajiNotInDict","setClick","matchClearFormInputFunction","clearInputBox","curWrongChar","resetRomajiNotInDictAlert","moveToNextWord","requestedWord","firstTimeCompleteWordSinceWalkThrough","Input","placeholder","inputProps","onChange","spellCheck","autoFocus","inputRef","onPaste","changeGeneralState","inputBox","changeInputBox","pressKey","context","pressSpace","userChar","userInput","typeWrongAnswer","completionType","pressEnter","forwardRef","useStyles","makeStyles","theme","flexGrow","title","NavBar","classes","onRouteChange","currentTab","handleClickWalkthrough","useState","open","setOpen","handleClose","AppBar","position","Toolbar","Typography","variant","color","align","Button","startIcon","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","style","href","DialogActions","Music","play","audio","Audio","audioLink","stopAudioHandler","setState","noStoreUpdateWhenEnded","onAudioPause","simpleStopAudioHandler","newAudio","addEventListener","autoplay","setTimeout","onAudioPlay","delay","togglePlay","removeEventListener","pause","bindMethod","Hint","audioComponent","currentHintedChar","sentenceFragments","replace","split","Card","onClickHandler","CardActionArea","triggerAudioComponent","autoplayAudio","childMethod","Divider","src","alt","CardContent","paddingTop","paddingBottom","component","TextBlock","description","icon","LoadingPopup","isOpen","CircularProgress","Signin2","onEmailInput","signInEmail","emailErrorMsg","onPasswordInput","signInPassword","passwordErrorMsg","sendSigninInfoToBackend","openLoadingPopup","fetch","method","headers","body","email","password","then","response","json","data","keys","loadUser","catch","error","onSignIn","Paper","paper2","elevation","Container","maxWidth","CssBaseline","paper","form","noValidate","TextField","helperText","margin","fullWidth","label","name","autoComplete","FormControlLabel","control","Checkbox","submit","Link","fontSize","withStyles","fontFamily","backfround","marginTop","display","flexDirection","marginBottom","padding","breakpoints","up","width","height","marginLeft","marginRight","Register2","onNameInput","nameErrorMsg","sendFormDataToBackEnd","onFormSubmit","validateEmail","nameError","emailError","passwordError","test","OutsideAlerter","document","handleClickOutside","componentWillUnmount","setWrapperRef","wrapperRef","focusInputBox","ref","Footer","messageText","textAlign","messageAnimation","borderRight","whiteSpace","overflow","animation","convertMessageLengthToEm","message","borderRightColor","length_in_em","includes","MessageBar","displayHelpMessages","shortid","generate","userName","typography","cardBG","background","correctPercent","hintedPercent","SmallChar","correctNum","hintedNum","isLoading","anchorEl","setAnchorEl","undefined","Skeleton","borderRadius","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","SmallCharList","requestGetCharScore","res","charResultList","err","computeCorrectPercentage","resultList","total_correct","result","Math","round","computeCorrectNum","reduce","acc","val","kana","correctPercentage","hintedPercentage","isEncountered","KatakanaChar","KatakanaChart","katakanaArray","kana_filteredResultList","filter","resultType","LinearDeterminate","moduleInfo","totalRepetition","totalRemainingRepetition","totalRep","progressPercent","LinearProgress","listOfPraises","listOfSoftPraises","Introduction","intro","WALKTHROUGH_PART_1","WALKTHROUGH_PART_2","WALKTHROUGH_PART_3","WALKTHROUGH_PART_4","LogRocket","init","App2","resetStore","requestAndUpdateWord","prevState","route","steps1Enabled","steps2Enabled","steps3Enabled","steps4Enabled","firstIntroductionEnabled","requestNewWord","openEndDialogue","USER_TIME_LIMIT_IN_MINUTES","transitionedFromSteps1ToSteps2","hintCardRef","current","transitionedFromSteps2ToSteps3","transitionedFromSteps3ToSteps4","firstTimeCompleteWordSinceWalkThru","wordCardRef","user","joined","identify","parseJapaneseWord","c","c_romaji","push","katakana_char","score","parseAudio","audio_string","userId","version","moduleInfoObject","a","Promise","resolve","isFetchingWord","wordRequestTime","wordRequestTimeStamp","currentWordInfo","currentWord_unix_time","charInputRef","focus","kana_char","innerText","showHint","checkedAudioAutoPlay","displayWordInfo","object","randomItem","aList","floor","random","displayMessage","romajiNotInDict","wrongCharList","cardStateSet","Set","size","has","setButtonText","displayLoadingPopup","handleAudioAutoplaySwitch","handleEnableMessageSwitch","checkedEnableMessage","handleEnableBlueButtonSwitch","checkedEnableBlueButton","onExitIntroduction","onExitIntro1","onExitIntro2","onExitIntro3","onExitIntro4","clearFormInput","onBeforeChange1","nextStepIndex","steps1","updateStepElement","onBeforeChange2","steps2","onBeforeChange3","steps3","onBeforeChange4","steps4","onChangeInSteps","specialIndex","index","_","renderRoute","initialStep","generalStepsOptions","showStepNumbers","hidePrev","hideNext","exitOnOverlayClick","exitOnEsc","showButtons","overlayOpacity","skipLabel","doneLabel","enabled","steps","introductory_steps","onExit","options","onBeforeChange","labelPlacement","Switch","checked","click","clickChild","childFunc","moduleIndex","Box","disabled","transitionedFromSteps3ToSteps5","Signin","Register","minWidth","pos","WordCard2","wordInfo","word_audio_duration","createElement","innerHTML","word_meaning","word_pos","meaning","part_of_speech","vocab_kana","vocab_meaning","vocab_pos","gutterBottom","App","katakana_word","katakana_romaji","updateWordScore","unix_time","charAt","audio_url","vocab_sound_local","duration","initialInputBox","keyPressed","initialGeneralState","initialCardState","hintedCharList","prevTimestamp","charTimestamp","allCharTimestamp","createMuiTheme","palette","primary","main","secondary","overrides","MuiButton","iconSizeMedium","rootReducer","combineReducers","action","newTimestamp","logger","createLogger","store","createStore","applyMiddleware","reduxMiddleware","ReactDOM","render","ThemeProvider","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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,O,KC7JdS,EAAmB,CACvBC,SAAG,IACHC,SAAG,IACHC,SAAG,IACHC,SAAG,IACHC,SAAG,IACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,MACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,MACHC,SAAG,MACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,SAAG,KACHC,YAAa,eAGTC,EAAsB,CAC1B,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAGxDC,EAAe,CACnBhD,SAAG,CACD/E,OAAQ,IACRgI,UACE,mEACFC,UAAW,wBAEbjD,SAAG,CACDhF,OAAQ,IACRgI,UACE,mEACFC,UAAW,qCAEbhD,SAAG,CACDjF,OAAQ,IACRgI,UACE,mEACFC,UAAW,gCAEb/C,SAAG,CACD8C,UACE,mEACFC,UACE,+EAEJ9C,SAAG,CACD6C,UACE,mEACFC,UACE,oFAEJ7C,SAAG,CACD4C,UACE,mEACFC,UAAW,0CAEb5C,SAAG,CACD2C,UACE,mEACFC,UAAW,cAEb3C,SAAG,CACD0C,UACE,mEACFC,UAAW,kCAEb1C,SAAG,CACDyC,UACE,mEACFC,UAAW,0CAEbzC,SAAG,CACDwC,UACE,mEACFC,UAAW,sCAEbxC,SAA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","file":"static/js/main.e94c851c.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport \"../scss/containers/App.scss\";\nimport \"../scss/components/Char.scss\";\n\nclass Char extends React.Component {\n  render() {\n    const className = `card ${this.props.cardState} ${\n      this.props.wordCompleted ? \"card-button\" : \"\"\n    }`;\n    return (\n      <div className={className} onClick={this.props.onClickCard}>\n        <h1 className=\"char\">{this.props.char}</h1>\n      </div>\n    );\n  }\n}\n\nexport default Char;\n","export const USER_INPUT = \"USER_INPUT\";\r\n\r\nconst method = \"tuanHeroku\";\r\n\r\nvar PRIMARYCOLOR = \"#1cb0f6\"\r\n// var PRIMARYCOLOR = \"#45ACE7\"\r\n\r\nvar USER_TIME_LIMIT_IN_MINUTES = 30;\r\nvar REGISTER_URL = \"https://localhost:3000/register\";\r\nvar SIGNIN_URL = \"https://localhost:3000/signin\";\r\nvar PROFILE_URL = \"https://localhost:3000/profile/\";\r\nvar GETWORD_URL = \"https://shrouded-harbor-11572.herokuapp.com/getnextword\";\r\nvar GETCHAR_URL = \"https://shrouded-harbor-11572.herokuapp.com/getnextchar\";\r\nvar CHARSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/charscore\";\r\nvar UPDATECHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/updatecharscore\";\r\nvar WORDSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/wordscore\";\r\nvar GETCHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/getcharscore\";\r\nvar GETMODULEINFO_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/getmoduleinfo\";\r\nvar MEDIA_BASE_URL_SENTENCE =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/sentence-sound/\";\r\nvar MEDIA_BASE_URL_WORD =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/word-sound/\";\r\n// source: https://www.learn-japanese-adventure.com/learn-how-to-speak-japanese.html\r\nvar MEDIA_BASE_URL_CHAR =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/character-sound/kanasound-\"; // add {romaji}.mp3\r\nvar WORD_LINK =\r\n  \"https://www.reddit.com/r/LearnJapanese/comments/s2iop/heres_a_spreadsheet_of_the_6000_most_common/c4ak0xd/\";\r\nvar TOFUGU_LINK = \"https://www.tofugu.com/japanese/learn-katakana/\";\r\nvar MARSHALSITE_LINK = \"https://marshallyin.com/katakana-list/\";\r\n\r\nswitch (method) {\r\n  case \"local\":\r\n    break;\r\n  case \"tuanHeroku\":\r\n    REGISTER_URL = \"https://shrouded-harbor-11572.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://shrouded-harbor-11572.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://shrouded-harbor-11572.herokuapp.com/profile/\";\r\n    break;\r\n  case \"lienHeroku\":\r\n    REGISTER_URL = \"https://peaceful-sands-25473.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://peaceful-sands-25473.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://peaceful-sands-25473.herokuapp.com/profile/\";\r\n    break;\r\n  default:\r\n    console.log(\"method should be either tuanHeroku, lienHeroku, or local\");\r\n    break;\r\n}\r\n\r\nexport {\r\n  REGISTER_URL,\r\n  SIGNIN_URL,\r\n  PROFILE_URL,\r\n  GETWORD_URL,\r\n  MEDIA_BASE_URL_SENTENCE,\r\n  MEDIA_BASE_URL_WORD,\r\n  MEDIA_BASE_URL_CHAR,\r\n  CHARSCORE_URL,\r\n  WORDSCORE_URL,\r\n  WORD_LINK,\r\n  TOFUGU_LINK,\r\n  GETCHARSCORE_URL,\r\n  UPDATECHARSCORE_URL,\r\n  USER_TIME_LIMIT_IN_MINUTES,\r\n  PRIMARYCOLOR,\r\n  GETMODULEINFO_URL,\r\n  MARSHALSITE_LINK,\r\n  GETCHAR_URL,\r\n};\r\n","import { USER_INPUT } from \"./constants.js\";\r\n\r\nexport const typeAnswer = (text) => {\r\n  return {\r\n    type: USER_INPUT,\r\n    payload: text,\r\n  };\r\n};\r\n\r\nexport const pressSpace = (context) => {\r\n  switch (context) {\r\n    case \"REQUEST_HINT\":\r\n      return {\r\n        type: \"SPACE_PRESS_FOR_HINT\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_ERROR\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_CONTINUE\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_COMPLETE\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_GO_NEXT\",\r\n        time: Date.now(),\r\n      };\r\n    default:\r\n      return {\r\n        type: \"SPACE_PRESS\",\r\n      };\r\n  }\r\n};\r\n\r\nexport const updateChar = (japchar, romaji) => {\r\n  return {\r\n    type: \"CHAR_UPDATE\",\r\n    currentJapChar: japchar,\r\n    currentRomaji: romaji,\r\n  };\r\n};\r\n\r\nexport const pressEnter = (time) => {\r\n  return {\r\n    type: \"ENTER_PRESS\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const typeWrongAnswer = (userChar, currentChar) => {\r\n  return {\r\n    type: \"WRONG_INPUT\",\r\n    userInput: userChar,\r\n    currentChar: currentChar,\r\n    time: Date.now(),\r\n  };\r\n};\r\n\r\nexport const completeWord = () => {\r\n  return {\r\n    type: \"COMPLETE_WORD\",\r\n    time: Date.now(), // when user complete last character Card\r\n  };\r\n};\r\n\r\nexport const updateWord = (word, romajiList) => {\r\n  const cardStateList = romajiList.map((item) => \"\");\r\n  return {\r\n    type: \"UPDATE_WORD\",\r\n    payload: word,\r\n    romajiList: romajiList,\r\n    cardStateList: cardStateList,\r\n  };\r\n};\r\n\r\nexport const completeChar = (timestamp, completionType) => {\r\n  return {\r\n    type: \"COMPLETE_CHAR\",\r\n    time: timestamp,\r\n    completionType: completionType,\r\n  };\r\n};\r\n\r\nexport const setNewWordTime = (time) => {\r\n  return {\r\n    type: \"SET_NEW_WORD_TIME\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const onAudioPlay = () => {\r\n  return {\r\n    type: \"PLAY_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const onAudioPause = () => {\r\n  return {\r\n    type: \"PAUSE_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const pressKey = (key) => {\r\n  return {\r\n    type: \"PRESS_KEY\",\r\n    payload: key,\r\n  };\r\n};\r\n\r\nexport const onCorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_CORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const onIncorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_INCORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const resetStore = () => {\r\n  return {\r\n    type: \"RESET_STORE\",\r\n  };\r\n};\r\n\r\nexport const alertRomajiNotInDict = () => {\r\n  return {\r\n    type: \"ALERT_NOT_IN_DICT\",\r\n  };\r\n};\r\n\r\nexport const resetRomajiNotInDictAlert = () => {\r\n  return {\r\n    type: \"RESET_NOT_IN_DICT_ALERT\",\r\n  };\r\n};\r\n\r\nexport const loadUserToStore = (userInfo) => {\r\n  return {\r\n    type: \"LOAD_USER\",\r\n    payload: userInfo,\r\n  }\r\n}\r\n","import React from \"react\";\nimport Char from \"../components/Char.js\";\nimport { Grid } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { setNewWordTime } from \"../actions\";\nimport \"../scss/components/Char.scss\";\n\nconst mapStateToProps = (state) => {\n  return {\n    // charTimestamp: state.changeCardState.charTimestamp,\n    // keyPressed: state.changeInputBox.keyPressed,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    cardStateList: state.changeCardState.cardStateList,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setNewWordTime: (time) => {\n      dispatch(setNewWordTime(time));\n    },\n  };\n};\n\nclass CharList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dispatchTime: 0,\n    };\n  }\n\n  componentDidMount = () => {\n    this.props.setNewWordTime(Date.now());\n  };\n\n  componentDidUpdate = (prevProps) => {\n    if (\n      JSON.stringify(this.props.charsToRead) !==\n      JSON.stringify(prevProps.charsToRead)\n    ) {\n      this.props.setNewWordTime(Date.now());\n    }\n  };\n\n  setCardState = (idx, char) => {\n    const {\n      indexCurrentCard,\n      cardStateList,\n      onHintedCard,\n      wordCompleted,\n    } = this.props;\n    var className = \"\";\n\n    if (wordCompleted) {\n      className = className.concat(` completed `);\n    }\n\n    if (wordCompleted && this.props.clickedJapChar !== \"\") {\n      if (char === this.props.clickedJapChar) {\n        className = className.concat(` clicked `);\n      } else {\n        className = className.concat(` o-100 `); // default o-100\n      }\n    }\n    if (idx === indexCurrentCard) {\n      className = className.concat(onHintedCard ? ` current-hinted ` : ` highlighted `);\n    } else {\n      className = className.concat(\n        onHintedCard ? ` o-30 ` : wordCompleted ? \"\" : ` o-60 `\n      );\n    }\n    var cardState = cardStateList[idx];\n    className = className.concat(` ${cardState} `);\n    return className;\n  };\n\n  render() {\n    const charsArrayDisplay = this.props.charsToRead.map((item, idx) => {\n      return (\n        <Grid item key={idx}>\n          <Char\n            char={item.char}\n            key={idx}\n            cardState={this.setCardState(idx, item.char)}\n            onClickCard={this.props.onClickCard}\n            wordCompleted={this.props.wordCompleted}\n          />\n        </Grid>\n      );\n    });\n\n    return (\n      <Grid\n        container\n        className=\"japanese-word\"\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing=\"0\"\n      >\n        {charsArrayDisplay}\n      </Grid>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CharList);\n","// Trie.js - super simple JS implementation\r\n// https://en.wikipedia.org/wiki/Trie\r\n// https://gist.github.com/tpae/72e1c54471e88b689f85ad2b3940a8f0\r\n\r\n// -----------------------------------------\r\n\r\n// we start with the TrieNode\r\nfunction TrieNode(key) {\r\n  // the \"key\" value will be the character in sequence\r\n  this.key = key;\r\n\r\n  // we keep a reference to parent\r\n  this.parent = null;\r\n\r\n  // we have hash of children\r\n  this.children = {};\r\n\r\n  // check to see if the node is at the end\r\n  this.end = false;\r\n}\r\n\r\n// iterates through the parents to get the word.\r\n// time complexity: O(k), k = word length\r\nTrieNode.prototype.getWord = function () {\r\n  var output = [];\r\n  var node = this;\r\n\r\n  while (node !== null) {\r\n    output.unshift(node.key);\r\n    node = node.parent;\r\n  }\r\n\r\n  return output.join(\"\");\r\n};\r\n\r\n// -----------------------------------------\r\n\r\n// we implement Trie with just a simple root with null value.\r\nfunction Trie() {\r\n  this.root = new TrieNode(null);\r\n}\r\n\r\n// inserts a word into the trie.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.insert = function (word) {\r\n  var node = this.root; // we start at the root\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (!node.children[word[i]]) {\r\n      // if it doesn't exist, we then create it.\r\n      node.children[word[i]] = new TrieNode(word[i]);\r\n\r\n      // we also assign the parent to the child node.\r\n      node.children[word[i]].parent = node;\r\n    }\r\n\r\n    // proceed to the next depth in the trie.\r\n    node = node.children[word[i]];\r\n\r\n    // finally, we check to see if it's the last word.\r\n    if (i === word.length - 1) {\r\n      // if it is, we set the end flag to true.\r\n      node.end = true;\r\n    }\r\n  }\r\n};\r\n\r\n// check if it contains a whole word.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.contains = function (word) {\r\n  var node = this.root;\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (node.children[word[i]]) {\r\n      // if it exists, proceed to the next depth of the trie.\r\n      node = node.children[word[i]];\r\n    } else {\r\n      // doesn't exist, return false since it's not a valid word.\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // we finished going through all the words, but is it a whole word?\r\n  return node.end;\r\n};\r\n\r\n// returns every word with given prefix\r\n// time complexity: O(p + n), p = prefix length, n = number of child paths\r\nTrie.prototype.find = function (prefix) {\r\n  var node = this.root;\r\n  var output = [];\r\n\r\n  // for every character in the prefix\r\n  for (var i = 0; i < prefix.length; i++) {\r\n    // make sure prefix actually has words\r\n    if (node.children[prefix[i]]) {\r\n      node = node.children[prefix[i]];\r\n    } else {\r\n      // there's none. just return it.\r\n      return output;\r\n    }\r\n  }\r\n\r\n  // recursively find all words in the node\r\n  findAllWords(node, output);\r\n\r\n  return output;\r\n};\r\n\r\n// recursive function to find all words in the given node.\r\nfunction findAllWords(node, arr) {\r\n  // base case, if node is at a word, push to output\r\n  if (node.end) {\r\n    arr.unshift(node.getWord());\r\n  }\r\n\r\n  // iterate through each children, call recursive findAllWords\r\n  for (var child in node.children) {\r\n    findAllWords(node.children[child], arr);\r\n  }\r\n}\r\n\r\n// -----------------------------------------\r\n\r\n// instantiate our trie\r\n//   var trie = new Trie();\r\n\r\n//   // insert few values\r\n//   trie.insert(\"hello\");\r\n//   trie.insert(\"helium\");\r\n\r\n// check contains method\r\n//console.log(trie.contains(\"helium\"));  // true\r\n//console.log(trie.contains(\"kickass\")); // false\r\n\r\n// check find method\r\n//console.log(trie.find(\"hel\"));  // [ 'helium', 'hello' ]\r\n//console.log(trie.find(\"hell\")); // [ 'hello' ]\r\n\r\nclass SpellCheckerBuffer {\r\n  constructor(charAndRomaji, checkFunction, wordNotInDictAlert) {\r\n    this.dict = charAndRomaji;\r\n    this.checkFunction = checkFunction;\r\n    this.buffer = \"\";\r\n    this.charTrie = new Trie();\r\n    this.wordNotInDictAlert = wordNotInDictAlert;\r\n    Object.values(this.dict).forEach((element) => {\r\n      this.charTrie.insert(element);\r\n    });\r\n    //console.log(this.charTrie.find(\"\"));\r\n  }\r\n  checkInput(char) {\r\n    if (char === \"clearBuffer\") {\r\n      this.buffer = \"\";\r\n      return;\r\n    }\r\n    this.buffer += char;\r\n    if (this.charTrie.contains(this.buffer)) {\r\n      this.checkFunction(this.buffer);\r\n      this.buffer = \"\";\r\n    } else {\r\n      var pendingChars = this.charTrie.find(this.buffer);\r\n      if (!Array.isArray(pendingChars) || !pendingChars.length) {\r\n        this.wordNotInDictAlert();\r\n        this.checkFunction(this.buffer);\r\n        this.buffer = \"\";\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// uncomment below to test\r\n// const sp = new SpellCheckerBuffer(katakanaToRomaji, console.log);\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"i\");\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"a\");\r\n// sp.checkInput(\"t\");\r\n// sp.checkInput(\"s\");\r\n// sp.checkInput(\"u\");\r\n\r\nexport default SpellCheckerBuffer;\r\n","const katakanaToRomaji = {\r\n  ア: \"a\",\r\n  イ: \"i\",\r\n  ウ: \"u\",\r\n  エ: \"e\",\r\n  オ: \"o\",\r\n  カ: \"ka\",\r\n  キ: \"ki\",\r\n  ク: \"ku\",\r\n  ケ: \"ke\",\r\n  コ: \"ko\",\r\n  サ: \"sa\",\r\n  シ: \"shi\",\r\n  ス: \"su\",\r\n  セ: \"se\",\r\n  ソ: \"so\",\r\n  タ: \"ta\",\r\n  チ: \"chi\",\r\n  ツ: \"tsu\",\r\n  テ: \"te\",\r\n  ト: \"to\",\r\n  ナ: \"na\",\r\n  ニ: \"ni\",\r\n  ヌ: \"nu\",\r\n  ネ: \"ne\",\r\n  ノ: \"no\",\r\n  ハ: \"ha\",\r\n  ヒ: \"hi\",\r\n  フ: \"fu\",\r\n  ヘ: \"he\",\r\n  ホ: \"ho\",\r\n  マ: \"ma\",\r\n  ミ: \"mi\",\r\n  ム: \"mu\",\r\n  メ: \"me\",\r\n  モ: \"mo\",\r\n  ヤ: \"ya\",\r\n  ユ: \"yu\",\r\n  ヨ: \"yo\",\r\n  ラ: \"ra\",\r\n  リ: \"ri\",\r\n  ル: \"ru\",\r\n  レ: \"re\",\r\n  ロ: \"ro\",\r\n  ワ: \"wa\",\r\n  ヲ: \"wo\",\r\n  ン: \"n'\",\r\n  clearBuffer: \"clearBuffer\",\r\n};\r\n\r\nconst limitedKatakanaList = [\r\n  \"ア\",\r\n  \"イ\",\r\n  \"ウ\",\r\n  \"エ\",\r\n  \"オ\",\r\n  \"カ\",\r\n  \"キ\",\r\n  \"ク\",\r\n  \"ケ\",\r\n  \"コ\",\r\n  \"シ\",\r\n  \"ス\",\r\n  \"ソ\",\r\n  \"タ\",\r\n  \"テ\",\r\n  \"ト\",\r\n  \"ナ\",\r\n  \"ニ\",\r\n  \"ネ\",\r\n  \"ハ\",\r\n  \"フ\",\r\n  \"ホ\",\r\n  \"マ\",\r\n  \"ミ\",\r\n  \"ム\",\r\n  \"メ\",\r\n  \"モ\",\r\n  \"ヤ\",\r\n  \"ラ\",\r\n  \"リ\",\r\n  \"ル\",\r\n  \"レ\",\r\n  'ロ', 'ツ', 'ノ', 'ヘ', 'ユ', 'ヒ', 'セ', 'ヌ', 'チ', 'ヨ', 'サ', 'ワ', 'ヲ'\r\n];\r\n\r\nconst katakanaHint = {\r\n  ア: {\r\n    romaji: \"a\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A2.jpg\",\r\n    shortHint: \"Find the capital 'A'\",\r\n  },\r\n  イ: {\r\n    romaji: \"i\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A4.jpg\",\r\n    shortHint: \"It looks like an <u>ea</u>gle (i)\",\r\n  },\r\n  ウ: {\r\n    romaji: \"u\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A6.jpg\",\r\n    shortHint: \"ウ looks like う (u)\",\r\n  },\r\n  エ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A8.jpg\",\r\n    shortHint:\r\n      \"Imagine this is the girders an <u>e</u>ngineer would use to build buildings\",\r\n  },\r\n  オ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AA.jpg\",\r\n    shortHint:\r\n      'A dude flapping open his trench coat to flash you. \"<u>Oh</u> MY GOD!\" you say. ',\r\n  },\r\n  カ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AB.jpg\",\r\n    shortHint: \"It looks just like the Hiragana か\",\r\n  },\r\n  キ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AD.jpg\",\r\n    shortHint: \"A key (ki)\",\r\n  },\r\n  ク: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AF.jpg\",\r\n    shortHint: \"A long <u>coo</u>ks's (ku) hat\",\r\n  },\r\n  ケ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B1.jpg\",\r\n    shortHint: \"It looks like the letter <u>K</u> (ke)\",\r\n  },\r\n  コ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B3.jpg\",\r\n    shortHint: \"Two 90 degrees <u>co</u>rners (ko)\",\r\n  },\r\n  サ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B5.jpg\",\r\n    shortHint: \"Three <u>sa</u>rdines stacked on top of each other\",\r\n  },\r\n  シ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B7.jpg\",\r\n    shortHint: \"<u>She</u> has a very werid face (shi)\",\r\n  },\r\n  ス: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B9.jpg\",\r\n    shortHint: \"A hanger where you hang up your fancy <u>su</u>it (su)\",\r\n  },\r\n  セ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BB.jpg\",\r\n    shortHint: \"It looks like the Hiragana せ\",\r\n  },\r\n  ソ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BD.jpg\",\r\n    shortHint: \"One needle and a long thread which you use to <u>sew</u> (so)\",\r\n  },\r\n  タ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BF.jpg\",\r\n    shortHint: \"A <u>ti</u>dal wave racing across the sea (ta)\",\r\n  },\r\n  チ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%81.jpg\",\r\n    shortHint: \"A <u>chee</u>rleader doing a <u>chee</u>r (chi)\",\r\n  },\r\n  ツ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%84.jpg\",\r\n    shortHint: \"<u>Two</u> (tsu) needles\",\r\n  },\r\n  テ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%86.jpg\",\r\n    shortHint: \"A <u>te</u>lephone pole\",\r\n  },\r\n  ト: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%88.jpg\",\r\n    shortHint: \"A <u>to</u>tem pole\",\r\n  },\r\n  ナ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8A.jpg\",\r\n    shortHint: \"A majestic <u>na</u>rwhal\",\r\n  },\r\n  ニ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8B.jpg\",\r\n    shortHint: \"Two <u>nee</u>dles (ni) laying on their side\",\r\n  },\r\n  ヌ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8C.jpg\",\r\n    shortHint:\r\n      \"The chopsticks are grabbing onto some <u>noo</u>dles & pulling them out of a bowl. (nu)\",\r\n  },\r\n  ネ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8D.jpg\",\r\n    shortHint: \"A <u>ne</u>cromancer has summoned this zombie\",\r\n  },\r\n  ノ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8E.jpg\",\r\n    shortHint: \"A really long <u>no</u>se\",\r\n  },\r\n  ハ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8F.jpg\",\r\n    shortHint: \"A rice paddy <u>ha</u>t\",\r\n  },\r\n  ヒ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%92.jpg\",\r\n    shortHint: \"<u>He</u> (hi) has no head. <u>He</u> is reaching out to you.\",\r\n  },\r\n  フ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%95.jpg\",\r\n    shortHint: \"A <u>fu</u>nny looking owl\",\r\n  },\r\n  ヘ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%98.jpg\",\r\n    shortHint: \"This looks like the Hiragana へ\",\r\n  },\r\n  ホ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9B.jpg\",\r\n    shortHint: \"A <u>ho</u>ly cross\",\r\n  },\r\n  マ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9E.jpg\",\r\n    shortHint: \"Look at all those angles! Those lengths! All that <u>ma</u>th!\",\r\n  },\r\n  ミ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9F.jpg\",\r\n    shortHint: \"Three <u>mi</u>ssiles, flying towards you. Be careful!\",\r\n  },\r\n  ム: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A0.jpg\",\r\n    shortHint: \"It is shaped like a pile of poop. Cow poop. <u>Moo</u>. (mu)\",\r\n  },\r\n  メ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A1.jpg\",\r\n    shortHint: 'め <u>Me</u> is Japnese for \"eye\"',\r\n  },\r\n  モ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A2.jpg\",\r\n    shortHint: \"This looks like the Hiragana も\",\r\n  },\r\n  ヤ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A4.jpg\",\r\n    shortHint: \"This looks just like the Hiragana や\",\r\n  },\r\n  ユ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A6.jpg\",\r\n    shortHint: \"You (yu) have a hook for a hand\",\r\n  },\r\n  ヨ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A8.jpg\",\r\n    shortHint: \"A <u>yo</u>gurt containers\",\r\n  },\r\n  ラ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A9.jpg\",\r\n    shortHint: \"It is a <u>ra</u>ptor wearing sweet ray-ban\",\r\n  },\r\n  リ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AA.jpg\",\r\n    shortHint: \"It looks like the Hiragana り\",\r\n  },\r\n  ル: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AB.jpg\",\r\n    shortHint:\r\n      \"There are two <u>rou</u>tes (ru) you can take. Route 1 & Route 2.\",\r\n  },\r\n  レ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AC.jpg\",\r\n    shortHint: \"Look at that beautiful <u>re</u>d hair that <u>Re</u>i has!\",\r\n  },\r\n  ロ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AD.jpg\",\r\n    shortHint:\r\n      \"This <u>ro</u>ad goes around in a square, never ending. What a terrible <u>ro</u>ad this is.\",\r\n  },\r\n  ワ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AF.jpg\",\r\n    shortHint:\r\n      \"You often begin your question with the word <u>wha</u>t (wa). <u>Wha</u>t are you doing?\",\r\n  },\r\n  ヲ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B2.jpg\",\r\n    shortHint: \"A dog <u>wo</u>ofing (wo) so hard its tongue is flying out\",\r\n  },\r\n  ン: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B3.jpg\",\r\n    shortHint: \"This guy only has one eye. <u>N</u>oooo!\",\r\n  },\r\n};\r\n\r\nexport { katakanaToRomaji, katakanaHint, limitedKatakanaList };\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"../scss/containers/App.scss\";\nimport { Input } from \"@material-ui/core\";\nimport SpellCheckerBuffer from \"../inputChecker\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport {\n  pressKey,\n  onCorrectChar,\n  typeAnswer,\n  pressSpace,\n  typeWrongAnswer,\n  completeChar,\n  pressEnter,\n  updateChar,\n  updateWord,\n  completeWord,\n  alertRomajiNotInDict,\n  resetRomajiNotInDictAlert,\n} from \"../actions\";\n\nconst mapStatestoProps = (state) => {\n  return {\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    romajiList: state.changeCardState.romajiList,\n    cardStateList: state.changeCardState.cardStateList,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    onHintedCard: state.changeCardState.onHintedCard,\n    currentRomaji: state.changeCardState.currentRomaji,\n    currentWord: state.changeCardState.currentWord,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    inputBox: state.changeInputBox.inputBox,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onInputBoxChange: (value) => {\n      dispatch(typeAnswer(value));\n    },\n    onKeyPress: (key) => {\n      dispatch(pressKey(key));\n    },\n    onCorrectChar: () => {\n      dispatch(onCorrectChar());\n    },\n    onSpacePress: (context) => {\n      dispatch(pressSpace(context));\n    },\n    onWrongInput: (userChar, currentChar) => {\n      dispatch(typeWrongAnswer(userChar, currentChar));\n    },\n    onCompleteChar: (time, type) => {\n      dispatch(completeChar(time, type));\n    },\n    onEnterPress: (time) => {\n      dispatch(pressEnter(time));\n    },\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    onWordCompletion: () => {\n      dispatch(completeWord());\n    },\n    alertRomajiNotInDict: () => {\n      dispatch(alertRomajiNotInDict());\n    },\n    resetRomajiNotInDictAlert: () => {\n      dispatch(resetRomajiNotInDictAlert());\n    },\n  };\n};\n\nclass CharInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n    this.inputChecker = new SpellCheckerBuffer(\n      katakanaToRomaji,\n      this.checkFunction,\n      this.props.alertRomajiNotInDict\n    );\n  }\n\n  componentDidMount() {\n    const {\n      setCurrentChar,\n      romajiList,\n      indexCurrentCard,\n      currentWord,\n    } = this.props;\n\n    const curRomaji = romajiList[indexCurrentCard];\n    const curKana = currentWord[indexCurrentCard];\n    setCurrentChar(curKana, curRomaji);\n\n    // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n    this.props.setClick(this.buttonClickOrSpacePressHandler);\n    this.props.matchClearFormInputFunction(this.clearInputBox);\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (this.props.user_uid === prevProps.user_uid) {\n    }\n  };\n\n  fillHintedCharacter = (eventTarget) => {\n    const {\n      onHintedCard,\n      indexCurrentCard,\n      romajiList,\n      onWordCompletion,\n      currentRomaji,\n      onInputBoxChange,\n      onEnterPress,\n      setCurrentChar,\n      currentWord,\n    } = this.props;\n\n    if (onHintedCard) {\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      // autofill correct answer\n      eventTarget.value = eventTarget.value.concat(currentRomaji);\n      onInputBoxChange(eventTarget.value);\n      onEnterPress(Date.now());\n\n      const curRomaji = romajiList[indexCurrentCard + 1];\n      const curKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(curKana, curRomaji);\n    }\n  }\n\n  checkFunction = (char) => {\n    const {\n      romajiList,\n      indexCurrentCard,\n      onCorrectChar,\n      onWrongInput,\n      onWordCompletion,\n      currentWord,\n      setCurrentChar,\n      onCompleteChar,\n      getKeyByValue,\n      updateCharScore,\n      user_uid,\n      onHintedCard,\n      onEnterPress,\n    } = this.props;\n    const userInputChar = getKeyByValue(katakanaToRomaji, char);\n\n    if (char === romajiList[indexCurrentCard] && !onHintedCard) {\n      updateCharScore(user_uid, userInputChar, \"+1\");\n      this.props.requestModuleInfo();\n      onCorrectChar();\n      onCompleteChar(Date.now(), \"correct\");\n\n      const newRomaji = romajiList[indexCurrentCard + 1];\n      const newKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(newKana, newRomaji);\n\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n    } else if (char === romajiList[indexCurrentCard] && onHintedCard) {\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      onEnterPress(Date.now()); // mimic spacepress to fill hinted char\n      const newRomaji = romajiList[indexCurrentCard + 1];\n      const newKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(newKana, newRomaji);\n      // onCompleteChar(Date.now(), \"hinted\"); // maybe this should be here instead of when just requested for hint\n    } else {\n      onWrongInput(char, romajiList[indexCurrentCard]);\n      var currentChar = getKeyByValue(\n        katakanaToRomaji,\n        romajiList[indexCurrentCard]\n      );\n      updateCharScore(user_uid, userInputChar, \"0\");\n      updateCharScore(user_uid, currentChar, \"0\");\n      this.props.requestModuleInfo();\n    }\n  };\n\n  onKeyDown = (event) => {\n    const {\n      onIncorrectCard,\n      wordCompleted,\n      romajiList,\n      indexCurrentCard,\n      onWordCompletion,\n      audioIsPlaying,\n      cardStateList,\n      disableAllAction,\n      walkThroughEnabled,\n      endWalkThrough,\n    } = this.props;\n    \n    if (walkThroughEnabled) {\n      if (event.which === 27) {\n        endWalkThrough();\n      } else if (disableAllAction) {\n        event.preventDefault();\n        return;\n      }\n    }\n    // disable input\n    if (audioIsPlaying) {\n      event.preventDefault();\n      return;\n    }\n    if (wordCompleted) {\n      event.preventDefault();\n    }\n    var lastCardState = cardStateList[cardStateList.length - 1];\n    if (\n      indexCurrentCard === romajiList.length - 1 &&\n      (lastCardState === \"correct\" || lastCardState === \"hinted\")\n    ) {\n      onWordCompletion();\n    }\n    // keycode 65 to 90 represents a-z\n    if (\n      ((event.which >= 65 && event.which <= 90) || event.which === 222) &&\n      !onIncorrectCard &&\n      !wordCompleted\n      //&& !onHintedCard\n    ) {\n      var key =\n        event.which === 222\n          ? \"'\"\n          : String.fromCharCode(event.which).toLowerCase();\n      this.props.onKeyPress(key);\n      this.inputChecker.checkInput(key);\n    } else {\n      event.preventDefault();\n      if (event.which === 32) { // space\n        this.buttonClickOrSpacePressHandler(event.target);\n      } else if (event.which === 8) { // backspace\n        this.deleteIncorrectInput(event.target);\n      } else if (event.which === 13) { // enter\n        this.goToNextWord(event.target);\n        // this.fillHintedCharacter(event.target);\n      }\n    }\n  };\n\n  deleteIncorrectInput(eventTarget) {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onInputBoxChange,\n      onSpacePress,\n      resetRomajiNotInDictAlert,\n    } = this.props;\n\n    if (onIncorrectCard) {\n      // delete wrong input from inputBox\n      eventTarget.value = eventTarget.value.slice(0, -curWrongChar.length);\n      onInputBoxChange(eventTarget.value);\n      onSpacePress(\"CONTINUE_AFTER_ERROR\");\n      resetRomajiNotInDictAlert();\n    } else {\n      // clear current input\n      console.log(\"DELETE\");\n      this.clearCurrentInput(eventTarget);\n    }\n  };\n\n  clearInputBox(eventTarget) {\n    eventTarget.value = \"\";\n  };\n\n  goToNextWord(eventTarget) {\n    const {\n      onSpacePress,\n      onInputBoxChange,\n      wordCompleted,\n      moveToNextWord,\n      requestedWord,\n      firstTimeCompleteWordSinceWalkThrough,\n    } = this.props;\n\n    if (wordCompleted) {\n      firstTimeCompleteWordSinceWalkThrough()\n      moveToNextWord(requestedWord);\n      onSpacePress(\"CONTINUE_AFTER_COMPLETE\");\n      eventTarget.value = \"\";\n      onInputBoxChange(eventTarget.value);\n    }\n  }\n\n  buttonClickOrSpacePressHandler = (eventTarget) => {\n    const {\n      onIncorrectCard,\n      onSpacePress,\n      onCompleteChar,\n      wordCompleted,\n      onHintedCard,\n      romajiList,\n      indexCurrentCard,\n      user_uid,\n      updateCharScore,\n      getKeyByValue,\n      disableAllAction,\n    } = this.props;\n    \n    if (disableAllAction) {\n      return;\n    }\n\n    if (onIncorrectCard) {\n      this.deleteIncorrectInput(eventTarget)\n    } else if (!onIncorrectCard && !onHintedCard && !wordCompleted) {\n      // ask for hint\n      console.log(\"Requesting hint...\")\n      this.props.requestModuleInfo();\n      onSpacePress(\"REQUEST_HINT\");\n      onCompleteChar(Date.now(), \"hinted\");\n\n      var currentChar = getKeyByValue(\n        katakanaToRomaji,\n        romajiList[indexCurrentCard]\n      );\n      updateCharScore(user_uid, currentChar, \"+0\");\n      this.props.requestModuleInfo();\n      // clear current input\n      this.clearCurrentInput(eventTarget);\n    } else if (wordCompleted) {\n      this.goToNextWord(eventTarget)\n    } else if (onHintedCard) {\n      // this.fillHintedCharacter(eventTarget);\n    }\n  };\n\n  clearCurrentInput = (eventTarget) => {\n    const {onInputBoxChange} = this.props;\n    eventTarget.value = this.inputChecker.buffer.length\n      ? eventTarget.value.slice(0, -this.inputChecker.buffer.length)\n      : eventTarget.value;\n    onInputBoxChange(eventTarget.value);\n\n    // clear inputChecker buffer\n    this.inputChecker.checkInput(\"clearBuffer\");\n  }\n\n  render() {\n    return (\n      <form>\n        <Input\n          className=\"input-box\"\n          placeholder=\"Your input...\"\n          inputProps={{ \"aria-label\": \"description\" }}\n          onChange={this.props.onInputBoxChange}\n          onKeyDown={this.onKeyDown}\n          spellCheck={false}\n          autoFocus\n          inputRef={this.formRef}\n          onPaste={(event) => {\n            event.preventDefault();\n          }}\n        />\n      </form>\n    );\n  }\n}\n\nexport default connect(mapStatestoProps, mapDispatchToProps, null, {\n  forwardRef: true,\n})(CharInput);\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport \"../scss/components/NavBar.scss\";\n\n// make help dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\n// icons\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\nimport AssessmentOutlinedIcon from \"@material-ui/icons/AssessmentOutlined\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport TranslateOutlinedIcon from '@material-ui/icons/TranslateOutlined';\nimport DirectionsOutlinedIcon from '@material-ui/icons/DirectionsOutlined';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst NavBar = (props) => {\n  const classes = useStyles();\n  const { onRouteChange, currentTab, handleClickWalkthrough } = props;\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography\n            variant=\"h6\"\n            color=\"secondary\"\n            className={classes.title}\n            align=\"left\"\n          >\n            <div className=\"navbar-title\">JapanEZ</div>\n          </Typography>\n          {/* <Button\n            className=\"nav-button-walkthrough\"\n            // disabled\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleClickWalkthrough}\n            startIcon={<DirectionsOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Walkthrough</div>\n          </Button> */}\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleClickOpen}\n            startIcon={<HelpOutlineOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Help</div>\n          </Button>\n          <Button\n            className=\"nav-button-home\"\n            variant={currentTab === \"home\" ? \"outlined\" : \"text\"}\n            color=\"secondary\"\n            onClick={() => onRouteChange(\"home\")}\n            startIcon={<HomeOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Home</div>\n          </Button>\n          <div className=\"nav-button-chart\">\n            <Button\n              className=\"nav-button-progress\"\n              variant={currentTab === \"progress\" ? \"outlined\" : \"text\"}\n              color=\"secondary\"\n              onClick={() => onRouteChange(\"progress\")}\n              startIcon={<AssessmentOutlinedIcon />}\n            >\n              <div className=\"navbar-button-text\">Progress</div>\n            </Button>\n            <Button\n              className=\"nav-button-katakanaChart\"\n              variant={currentTab === \"katakanaChart\" ? \"outlined\" : \"text\"}\n              color=\"secondary\"\n              onClick={() => onRouteChange(\"katakanaChart\")}\n              startIcon={<TranslateOutlinedIcon />}\n            >\n              <div className=\"navbar-button-text\">Katakana</div>\n            </Button>\n          </div>\n          <Button\n            color=\"secondary\"\n            variant={currentTab === \"signout\" ? \"outlined\" : \"text\"}\n            onClick={() => onRouteChange(\"signin\")}\n            className=\"nav-button\"\n            startIcon={<ExitToAppOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Signout</div>\n          </Button>\n        </Toolbar>\n        <Dialog\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle id=\"alert-dialog-title\">{\"Instruction\"}</DialogTitle>\n          <DialogContent>\n            <DialogContentText id=\"alert-dialog-description\">\n              <p>Your task is to type the pronunciation of Japanese words and learn Japanese katakana characters on the way. </p>\n\n              <p>If you don't know a Japanese character, press SPACE to learn it. But don't abuse this feature! Try to learn the character and type them out. That's the only way you can progress through this app!</p>\n\n              <p>{\"If you have any issue using the app, go to this link: \"}\n              <a style={{ color: \"black\" }} href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7\">https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7</a>\n              </p>\n\n              <p>Happy learning!</p>\n\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\" autoFocus>\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </AppBar>\n    </div>\n  );\n};\nexport default NavBar;\n","// Taken from this https://stackoverflow.com/questions/47686345/playing-sound-in-reactjs\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { onAudioPlay, onAudioPause } from \"../actions\";\r\nimport \"../scss/components/Music.scss\";\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAudioPlay: () => {\r\n      dispatch(onAudioPlay());\r\n    },\r\n    onAudioPause: () => {\r\n      dispatch(onAudioPause());\r\n    },\r\n  };\r\n};\r\n\r\nclass Music extends React.Component {\r\n  state = {\r\n    play: false,\r\n    audio: new Audio(this.props.audioLink),\r\n  };\r\n\r\n  stopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    if (!this.props.noStoreUpdateWhenEnded) {\r\n      this.props.onAudioPause();\r\n    }\r\n  };\r\n\r\n  simpleStopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    this.props.onAudioPause();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.bindMethod(this.togglePlay)\r\n    this.state.audio.addEventListener(\"ended\", this.stopAudioHandler);\r\n    setTimeout(() => {\r\n      if (this.props.autoplay) {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay(); \r\n      }\r\n    }, this.props.delay);\r\n  }\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    if (prevProps.audioLink !== this.props.audioLink) {\r\n      var newAudio = new Audio(this.props.audioLink);\r\n      newAudio.addEventListener(\"ended\", this.stopAudioHandler);\r\n      this.setState({ audio: newAudio });\r\n      if (this.props.autoplay) {\r\n        setTimeout(() => {\r\n          this.state.audio.play();\r\n          this.props.onAudioPlay();\r\n        }, this.props.delay);\r\n      }\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n    this.state.audio.removeEventListener(\"ended\", this.simpleStopAudioHandler);\r\n    this.props.onAudioPause();\r\n  }\r\n\r\n  togglePlay = () => {\r\n    this.setState({ play: !this.state.play }, () => {\r\n      if (this.state.play) {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay();\r\n\r\n        // this is a wacky way of doing it, but basically I'm replacing the \"ended\" event listener\r\n        this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n        this.state.audio.removeEventListener(\r\n          \"ended\",\r\n          this.simpleStopAudioHandler\r\n        );\r\n        this.state.audio.addEventListener(\"ended\", this.simpleStopAudioHandler);\r\n      } else {\r\n        this.state.audio.pause();\r\n        this.props.onAudioPause();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Music);\r\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Music from \"./Music\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { katakanaToRomaji, katakanaHint } from \"../jap-char\";\nimport { MEDIA_BASE_URL_CHAR } from \"../constants\";\nimport \"../scss/components/Hint.scss\";\nimport CardActionArea from '@material-ui/core/CardActionArea';\n\n\nconst parseoutUnderlineText = (sentence) => {\n  // replace <b> and </b> with comma\n  sentence = sentence.replace(/<\\/?u>/g, \",\");\n  return sentence.split(\",\");\n};\n\nclass Hint extends React.Component {\n  constructor(props) {\n    super(props);\n    this.audioComponent = React.createRef();\n  }\n  render() {\n    const romaji = katakanaToRomaji[this.props.currentHintedChar];\n    const sentenceFragments = parseoutUnderlineText(\n      katakanaHint[this.props.currentHintedChar].shortHint\n    );\n    const modified_romaji = romaji === \"n'\" ? \"n\" : romaji;\n    const audioLink = MEDIA_BASE_URL_CHAR + modified_romaji + \".mp3\";\n\n    // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n    return (\n      <Card \n        className={`hint-card`} \n        onClick={this.onClickHandler}\n      >\n        <CardActionArea onClick={() => this.triggerAudioComponent()}>\n          <Music\n            audioLink={audioLink}\n            delay={0}\n            noStoreUpdateWhenEnded={false}\n            autoplay={this.props.autoplayAudio}\n            bindMethod={(childMethod) => this.triggerAudioComponent = childMethod}\n          />\n          <div className=\"hint-card-content\">\n            <h3 className=\"hint-card-romaji\">{romaji}</h3>\n            <Divider />\n            <div className=\"image-div\">\n              <img\n                src={`${katakanaHint[this.props.currentHintedChar].imageLink}`}\n                className={`hint-card-image`}\n                alt=\"Hint Card\"\n              />\n            </div>\n            <CardContent style={{ paddingTop: 0, paddingBottom: 0 }}>\n              <Typography variant=\"body2\" component=\"p\">\n                <div className=\"hint-text\">\n                  {sentenceFragments[0]}\n                  <u>{sentenceFragments[1]}</u>\n                  {sentenceFragments[2]}\n                </div>\n              </Typography>\n            </CardContent>\n          </div>\n        </CardActionArea>\n      </Card>\n    );\n  }\n}\n\nexport default Hint;\n","import React from \"react\";\r\nimport \"../scss/components/TextBlock.scss\";\r\n\r\nconst TextBlock = ({ title, description, icon }) => {\r\n  return (\r\n    <div className=\"text-block\">\r\n      {icon}\r\n      <h3>{title}</h3>\r\n      <div>{description}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextBlock;\r\n","import React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport \"../scss/components/LoadingPopup.scss\"\r\n\r\nconst LoadingPopup = (props) => {\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={props.isOpen}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogContent>    \r\n          <div className=\"loading-circle\">\r\n            <CircularProgress /> \r\n          </div>\r\n          <div className=\"loading-text\">\r\n            {\"Loading\"}\r\n          </div>\r\n          \r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingPopup;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { SIGNIN_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\"\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(6),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: 450,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Signin2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signInEmail: \"\",\r\n      signInPassword: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ signInEmail: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ signInPassword: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendSigninInfoToBackend = () => {\r\n    const { signInEmail, signInPassword } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(SIGNIN_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: signInEmail,\r\n        password: signInPassword,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n          this.setState({\r\n            emailErrorMsg: \"\",\r\n            passwordErrorMsg: \"\",\r\n          });\r\n        } else {\r\n          // there is an error loggin in\r\n          console.log(\"Login Failed\", data);\r\n          if (data === \"email is not yet registered\") {\r\n            this.setState({ emailErrorMsg: data });\r\n          } else if (data === \"incorrect password\") {\r\n            this.setState({\r\n              passwordErrorMsg: data,\r\n              emailErrorMsg: \"\",\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onSignIn = (event) => {\r\n    event.preventDefault();\r\n    const { signInEmail, signInPassword } = this.state;\r\n\r\n    // check that fields are not empty\r\n    if (!signInEmail) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!signInPassword) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (signInEmail && signInPassword) {\r\n      this.sendSigninInfoToBackend();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana characters with a tailor tutor model\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2} elevation={3}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={this.state.emailErrorMsg}\r\n                      helperText={this.state.emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      // autoFocus\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={this.state.passwordErrorMsg}\r\n                      helperText={this.state.passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <FormControlLabel\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                      label=\"Remember me\"\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onSignIn}\r\n                      style={{ color: \"white\" }}\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                    <Grid\r\n                      container\r\n                      alignItems=\"center\"\r\n                      direction=\"column\"\r\n                      justify=\"center\"\r\n                    >\r\n                      <Grid item>\r\n                        {\"Don't have an account? \"}\r\n                        <Link\r\n                          component=\"button\"\r\n                          variant=\"body2\"\r\n                          onClick={() => this.props.onRouteChange(\"register\")}\r\n                        >\r\n                          {\"Register Here\"}\r\n                        </Link>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app.\"\r\n            />\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Signin2);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { REGISTER_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: 450,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Register2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      nameError: false,\r\n      emailError: false,\r\n      passwordError: false,\r\n      nameErrorMsg: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  onNameInput = (event) => {\r\n    this.setState({ name: event.target.value, nameErrorMsg: \"\" });\r\n  };\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ email: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ password: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendFormDataToBackEnd = () => {\r\n    const { name, email, password } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(REGISTER_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.setState({ emailErrorMsg: \"\" });\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n        } else {\r\n          // if user already exist\r\n          this.setState({ emailErrorMsg: data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { name, email, password } = this.state;\r\n\r\n    if (!name) {\r\n      this.setState({ nameErrorMsg: \"please fill out your name\" });\r\n    } else {\r\n      this.setState({ nameErrorMsg: \"\" });\r\n    }\r\n    if (!email) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!password) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (!this.validateEmail(email)) {\r\n      this.setState({ emailErrorMsg: \"please enter a valid email address\" });\r\n      return;\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n\r\n    if (name && password && email) {\r\n      this.sendFormDataToBackEnd();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { nameErrorMsg, emailErrorMsg, passwordErrorMsg } = this.state;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana characters in an interactive way\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Register\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={nameErrorMsg}\r\n                      helperText={nameErrorMsg}\r\n                      variant=\"outlined\"\r\n                      id=\"name\"\r\n                      label=\"Your Name\"\r\n                      // autoFocus\r\n                      fullWidth\r\n                      onChange={this.onNameInput}\r\n                    />\r\n                    <TextField\r\n                      error={emailErrorMsg}\r\n                      helperText={emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={passwordErrorMsg}\r\n                      helperText={passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onFormSubmit}\r\n                      style={{ color: \"#ffffff\" }}\r\n                    >\r\n                      Get started\r\n                    </Button>\r\n                    <Grid\r\n                      container\r\n                      alignItems=\"center\"\r\n                      direction=\"column\"\r\n                      justify=\"center\"\r\n                    >\r\n                      <Grid item>\r\n                        {\"Already registered? \"}\r\n                        <Link\r\n                          component=\"button\"\r\n                          variant=\"body2\"\r\n                          onClick={() => this.props.onRouteChange(\"signin\")}\r\n                        >\r\n                          {\"Sign In\"}\r\n                        </Link>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app.\"\r\n            />\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Register2);\r\n","// https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass OutsideAlerter extends React.Component {\r\n  componentDidMount = () => {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  setWrapperRef = (node) => {\r\n    this.wrapperRef = node;\r\n  };\r\n\r\n  handleClickOutside = (event) => {\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      // for some reason, need setTimeout to work, even if 0 delay\r\n      setTimeout(() => {\r\n        this.props.focusInputBox();\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>;\r\n  }\r\n}\r\n\r\nOutsideAlerter.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default OutsideAlerter;\r\n","import React from \"react\";\r\nimport \"../scss/components/Footer.scss\";\r\nimport { TOFUGU_LINK, WORD_LINK, MARSHALSITE_LINK } from \"../constants\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"main-footer\">\r\n      <div>\r\n        <p>\r\n          {\"Mnemonics taken from \"}\r\n          <a href={TOFUGU_LINK}>tofugu.com</a>\r\n        </p>\r\n        <p>\r\n          {\"Japanese words taken from \"}\r\n          <a href={WORD_LINK}>reddit.com/r/LearnJapanese</a>\r\n          {\", and \"}\r\n          <a href={MARSHALSITE_LINK}>marshallyin.com/katakana-list</a>\r\n        </p>\r\n      </div>\r\n      <hr />\r\n      <div className=\"copyright\">\r\n        <small>\r\n          Copyright © 2020 Tuan Le, Lien Tran. All Rights Reserved.\r\n        </small>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport \"../scss/components/MessageBar.scss\";\r\nimport shortid from \"shortid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { PRIMARYCOLOR } from \"../constants\";\r\n\r\nconst useStyles = makeStyles({\r\n  // typing effect taken from \r\n  // https://css-tricks.com/snippets/css/typewriter-effect/\r\n  messageText: {\r\n    fontSize: \"calc(10px + 1vh)\",\r\n    textAlign: \"center\",\r\n    margin: \"0 auto\",\r\n  },\r\n  // add this to have typing animation\r\n  messageAnimation: {\r\n    borderRight: \"2px solid rgba(255, 255, 255, 0.75)\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    animation: `$typewriter 4s steps(100) 0s 1 normal both,\r\n      $blinkTextCursor 1s steps(100) infinite normal`\r\n    ,\r\n    maxWidth: (props) => {\r\n      return `${convertMessageLengthToEm(props.message)}em`;\r\n    },\r\n  },\r\n  \"@keyframes typewriter\": {\r\n    \"from\": {\r\n      width: \"0\",\r\n    },\r\n    \"to\": {\r\n      width: `100%` \r\n    },\r\n  },\r\n  \"@keyframes blinkTextCursor\": {\r\n    \"0%\": {\r\n    borderRightColor: PRIMARYCOLOR,\r\n    },\r\n      \"49%\": {\r\n      borderRightColor: PRIMARYCOLOR,\r\n    },\r\n      \"50%\": {\r\n      borderRightColor: \"transparent\",\r\n    },\r\n  }\r\n})\r\n\r\nconst convertMessageLengthToEm = (message) => {\r\n  // base em\r\n  var length_in_em = message.length/2.29;\r\n\r\n  // fine-grain adjustment based on message\r\n  if (message.includes(\"mnemonic\")) {\r\n    length_in_em += 0.75;\r\n  } else if (message.includes(\"corresponds\")) {\r\n    length_in_em += 1.1;\r\n  } else if (message.includes(\"exist\")) {\r\n    length_in_em -= 0.2;\r\n  } else if (message.includes(\"Press spacebar again\")) {\r\n    length_in_em += 0.8;\r\n  } else if (message.includes(\"stuck\")) {\r\n    length_in_em -= 0.2;\r\n  } else if (message.includes(\"!\")) {\r\n    length_in_em += 0.5;\r\n  }\r\n  return length_in_em;\r\n}\r\n\r\nconst MessageBar = (props) => {\r\n  const classes = useStyles(props);\r\n\r\n  return (\r\n    <div className=\"container\" style={{ color: \"#5D5D5D\" }}>\r\n      <Paper elevation={0} />\r\n      <div className=\"welcome-text\">\r\n        {props.displayHelpMessages ? (\r\n          <p \r\n            className={`${classes.messageText}`} \r\n            key={shortid.generate()}\r\n          >\r\n            {props.message}\r\n          </p>\r\n        ) : (\r\n          <p className={`${classes.messageText}`}>\r\n            {`Welcome, ${props.userName}.`}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageBar;\r\n","import React from \"react\";\r\nimport \"../scss/components/SmallChar.scss\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\n\r\n// links below shows how to transition between gradient background\r\n// https://medium.com/@dave_lunny/animating-css-gradients-using-only-css-d2fd7671e759\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  cardBG: {\r\n    background: (props) => {\r\n      return props.correctPercent === 0 && props.hintedPercent === 0\r\n        ? \"#d6d6d6\"\r\n        : `linear-gradient(0deg, green 0% ${props.correctPercent}%, #f2b50c ${props.correctPercent}% ${props.hintedPercent}%)`;\r\n    },\r\n  },\r\n}));\r\n\r\nfunction SmallChar(props) {\r\n  const { char, correctNum, hintedNum, isLoading } = props;\r\n  const classes = useStyles(props);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      { isLoading ? (\r\n        <Skeleton \r\n          variant=\"wave\" \r\n          width={75} \r\n          height={80} \r\n          style={{ borderRadius: \"15px\"}}\r\n        />\r\n      ) : (\r\n        <div>\r\n          <div className={`noselect flipcard`} id={id} onClick={handleClick}>\r\n            <div className=\"flipcard-content\">\r\n              <div className={`flipcard-front ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{char}</b>\r\n                </span>\r\n              </div>\r\n              <div className=\"flipcard-back\">\r\n                <p>\r\n                  {correctNum} <span className=\"dot correct-color\"></span>\r\n                </p>\r\n                <p>\r\n                  {hintedNum} <span className=\"dot hinted-color\"></span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Popover\r\n            id={id}\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            }}\r\n          >\r\n            <Typography className={classes.typography}>\r\n              {`${correctNum} correct, ${hintedNum} hinted`}\r\n            </Typography>\r\n          </Popover>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default SmallChar;\r\n","import React from \"react\";\r\nimport SmallChar from \"../components/SmallChar.js\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { katakanaToRomaji, limitedKatakanaList } from \"../jap-char\";\r\nimport { GETCHARSCORE_URL } from \"../constants\";\r\nimport \"../scss/components/SmallChar.scss\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\n\r\nclass SmallCharList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      charResultList: {},\r\n    };\r\n  }\r\n\r\n  requestGetCharScore = () => {\r\n    fetch(GETCHARSCORE_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: this.props.user_uid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((charResultList) => {\r\n        this.setState({ charResultList: charResultList });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in getting characters' familiarity\", err);\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.requestGetCharScore();\r\n  };\r\n\r\n  computeCorrectPercentage = (resultList) => {\r\n    var total_correct = 0;\r\n    if (resultList.length === 0) {\r\n      return -1;\r\n    }\r\n    resultList.forEach((result) => {\r\n      if (result === \"correct\") total_correct += 1;\r\n    });\r\n    return Math.round((total_correct / resultList.length) * 100);\r\n  };\r\n\r\n  computeCorrectNum = (resultList) => {\r\n    return resultList.length === 0\r\n      ? 0\r\n      : resultList.reduce((acc, val) => {\r\n          if (val === \"correct\") {\r\n            acc += 1;\r\n          }\r\n          return acc;\r\n        }, 0);\r\n  };\r\n\r\n  render() {\r\n    var charsArrayDisplay = null;\r\n\r\n    if (Object.keys(this.state.charResultList).length === 0) {\r\n      // return <LoadingPopup isOpen={true} />;\r\n      charsArrayDisplay = limitedKatakanaList.map((kana, idx) => {\r\n          return (\r\n            <Grid item key={idx}>\r\n              <SmallChar\r\n                char={kana}\r\n                key={idx}\r\n                hintedPercent={0}\r\n                correctPercent={0}\r\n                correctNum={0}\r\n                hintedNum={0}\r\n                isLoading={true}\r\n              />\r\n            </Grid>\r\n          ); \r\n      });\r\n    } else {\r\n      charsArrayDisplay = limitedKatakanaList.map((kana, idx) => {\r\n        if (kana !== \"clearBuffer\") {\r\n          var correctPercentage = 0;\r\n          var hintedPercentage = 0;\r\n          var correctNum = this.computeCorrectNum(\r\n            this.state.charResultList[kana]\r\n          );\r\n          var hintedNum = this.state.charResultList[kana].length - correctNum;\r\n  \r\n          if (Object.keys(this.state.charResultList).length > 0) {\r\n            correctPercentage = this.computeCorrectPercentage(\r\n              this.state.charResultList[kana]\r\n            );\r\n            hintedPercentage = 100 - correctPercentage;\r\n            if (correctPercentage === -1) {\r\n              correctPercentage = 0;\r\n              hintedPercentage = 0;\r\n            }\r\n          }\r\n          return (\r\n            <Grid item key={idx}>\r\n              <SmallChar\r\n                char={kana}\r\n                key={idx}\r\n                hintedPercent={hintedPercentage}\r\n                correctPercent={correctPercentage}\r\n                correctNum={correctNum}\r\n                hintedNum={hintedNum}\r\n                isLoading={false}\r\n              />\r\n            </Grid>\r\n          );\r\n        } else {\r\n          return null;\r\n        }\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"characters-list\">\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing=\"2\"\r\n        >\r\n          {charsArrayDisplay}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SmallCharList;\r\n","import React from \"react\";\r\nimport { katakanaToRomaji } from \"../jap-char\"\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"../scss/components/KatakanaChar.scss\";\r\nimport { PRIMARYCOLOR } from \"../constants\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardBG: {\r\n    background: (props) => {\r\n      return props.isEncountered ? PRIMARYCOLOR : \"#d6d6d6\"\r\n    }\r\n  }\r\n}))\r\n\r\nconst KatakanaChar = (props) => {\r\n  const { char, isLoading } = props;\r\n  const classes = useStyles(props);\r\n\r\n  return (\r\n    <div>\r\n      { isLoading ? (\r\n        <Skeleton \r\n          variant=\"wave\" \r\n          width={75} \r\n          height={80} \r\n          style={{ borderRadius: \"15px\"}}\r\n        />\r\n      ) : (\r\n        <div>\r\n          <div className={`noselect flipcard2`}>\r\n            <div className=\"flipcard-content2\">\r\n              <div className={`flipcard-front2 ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{char}</b>\r\n                </span>\r\n              </div>\r\n              <div className={`flipcard-back2 ${classes.cardBG}`}>\r\n                <span>\r\n                  <b>{katakanaToRomaji[char]}</b>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default KatakanaChar;","import React from \"react\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\nimport { GETCHARSCORE_URL } from \"../constants\";\r\nimport { limitedKatakanaList } from \"../jap-char\";\r\nimport KatakanaChar from \"./KatakanaChar\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport \"../scss/components/KatakanaChar.scss\";\r\n\r\nclass KatakanaChart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      charResultList: {},\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  requestGetCharScore = () => {\r\n    fetch(GETCHARSCORE_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: this.props.user_uid,\r\n      })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((charResultList) => {\r\n        this.setState({ charResultList: charResultList });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in fetching data about characters' familiarity\", err)\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.requestGetCharScore();\r\n  }\r\n\r\n  render() {\r\n    var katakanaArray = null;\r\n    var kana_filteredResultList = null;\r\n\r\n    if (Object.keys(this.state.charResultList).length === 0) {\r\n      // return <LoadingPopup isOpen={true} />\r\n      // if haven't receive data\r\n      katakanaArray = limitedKatakanaList.map((kana, idx) => {\r\n        return (\r\n          <Grid item key={idx}>\r\n            <KatakanaChar\r\n              char={kana}\r\n              key={idx}\r\n              isEncountered={false}\r\n              isLoading={true}\r\n            />\r\n          </Grid>\r\n        );\r\n      });\r\n    } else {\r\n      katakanaArray = limitedKatakanaList.map((kana, idx) => {\r\n        kana_filteredResultList = this.state.charResultList[kana].filter(resultType => resultType !== \"incorrect\")\r\n        return (\r\n          <Grid item key={idx}>\r\n            <KatakanaChar\r\n              char={kana}\r\n              key={idx}\r\n              isEncountered={kana_filteredResultList.length > 0}\r\n              isLoading={false}\r\n            />\r\n          </Grid>\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"characters-list\">\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing=\"2\"\r\n        >\r\n          {katakanaArray}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  };\r\n\r\n}\r\n\r\nexport default KatakanaChart;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nconst calculateProgress = (totalRep, remainingRep) => {\r\n  return (totalRep - remainingRep) / totalRep * 100;\r\n}\r\n\r\nexport default function LinearDeterminate(props) {\r\n  const classes = useStyles();\r\n  const { moduleInfo } = props;\r\n  var totalRepetition = null;\r\n  var totalRemainingRepetition = null;\r\n\r\n  if (moduleInfo) {\r\n    totalRepetition = moduleInfo.totalRepetition/2; // could use 1\r\n    totalRemainingRepetition = moduleInfo.totalRemainingRepetition;\r\n  }\r\n  \r\n  const progressPercent = calculateProgress(totalRepetition, totalRemainingRepetition);\r\n  // console.log(`got ${totalRepetition-totalRemainingRepetition} out of ${totalRepetition}`)\r\n  // console.log(`progressPercent ${progressPercent}%`)\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <LinearProgress variant=\"determinate\" value={progressPercent} />\r\n    </div>\r\n  );\r\n}","const listOfPraises = [\r\n  \"Great job!\",\r\n  \"You're a pro!\",\r\n  \"You're getting better!\",\r\n  \"You're getting good at this!\",\r\n  \"You're getting good!\",\r\n  \"Well done!\",\r\n  \"Nicely done!\",\r\n  \"Good job!\",\r\n]\r\n\r\nconst listOfSoftPraises = [\r\n  \"Nice!\",\r\n  \"Good!\",\r\n  \"Awesome!\",\r\n  \"Well done!\",\r\n  \"Great!\",\r\n  \"Good job!\",\r\n  \"Correct!\",\r\n]\r\n\r\nconst listOfEncouragements = [\r\n  \"You got this!\",\r\n  \"Let's try again.\",\r\n  \"You can do this!\",\r\n  \"Try again.\",\r\n]\r\nconst Introduction = [\r\n  {\r\n    intro: \"Welcome! Your challenging is to type out the pronunciation of Japanese words.\",\r\n  },\r\n  {\r\n    intro: \"If you don't know a Japanese character, just press SPACEBAR to learn them.\",\r\n  },\r\n  // {\r\n  //   element: \".nav-button-walkthrough\",\r\n  //   intro: \"You can click this tab anytime for a walkthrough.\",\r\n  //   position: \"bottom\"\r\n  // }\r\n]\r\nconst WALKTHROUGH_PART_1 = [\r\n  {\r\n    intro: \"Welcome to the walkthrough! Click next to continue.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".inputbox-and-word\",\r\n    intro: \"Your challenge is to type out the pronunciation of the word. But not yet!\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-button\",\r\n    intro: \"Click this button to see the pronunciation of the highlighted character.\",\r\n    position: \"left\",\r\n  },\r\n];\r\n\r\nconst WALKTHROUGH_PART_2 = [\r\n  {\r\n    element: \".hint-card\",\r\n    intro: \"A character card pops up! You can click on it to play the audio.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-button\",\r\n    intro: \"Click this button again to move on\",\r\n    position: \"left\",\r\n  },\r\n];\r\nconst WALKTHROUGH_PART_3 =  [\r\n  {\r\n    element: \".inputbox-div\",\r\n    intro: \"Notice that the character is automatically filled out for you.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".japanese-word\",\r\n    intro: \"The next character is now highlighted. \",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".main-area\",\r\n    intro: \"Can you try to finish the rest? Keep clicking the button if you don't know the character.\",\r\n    position: \"left\",\r\n  },\r\n]\r\n\r\nconst WALKTHROUGH_PART_4 = [\r\n  {\r\n    intro: \"Now you know the general flow of the webapp. Just one last thing: You can press spacebar instead of clicking the button.\",\r\n    position: \"left\",\r\n  },\r\n  {\r\n    element: \".nav-button-home\",\r\n    intro: \"You are currently on the 'Home' tab.\",\r\n    position: \"bottom\",\r\n  },\r\n  {\r\n    element: \".nav-button-chart\",\r\n    intro: \"These two tabs show your progress.\",\r\n    position: \"bottom\",\r\n  },\r\n  {\r\n    element: \".nav-button-walkthrough\",\r\n    intro: \"Click this tab anytime to replay this walkthrough.\",\r\n    position: \"bottom\",\r\n  },\r\n];\r\n\r\nexport { \r\n  WALKTHROUGH_PART_1,\r\n  WALKTHROUGH_PART_2,\r\n  WALKTHROUGH_PART_3,\r\n  WALKTHROUGH_PART_4,\r\n  listOfPraises,\r\n  listOfSoftPraises,\r\n  listOfEncouragements,\r\n  Introduction,\r\n};","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport CharList from \"./CharList\";\nimport CharInput from \"./CharInput\";\nimport NavBar from \"../components/NavBar\";\nimport Hint from \"../components/Hint\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport Signin2 from \"../components/Signin2\";\nimport Register2 from \"../components/Register2\";\nimport OutsideAlerter from \"../components/OutsideAlerter\";\nimport Footer from \"../components/Footer\";\nimport MessageBar from \"../components/MessageBar\";\nimport SmallCharList from \"../components/SmallCharList\";\nimport KatakanaChart from \"../components/KatakanaChart\";\nimport { Button } from \"@material-ui/core\";\nimport LoadingPopup from \"../components/LoadingPopup\"\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport LinearDeterminate from \"../components/LinearDeterminate\";\nimport Box from '@material-ui/core/Box';\n\n// dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport \"../scss/containers/App.scss\";\nimport {\n  updateChar,\n  updateWord,\n  resetStore,\n  loadUserToStore,\n} from \"../actions\";\nimport {\n  GETCHAR_URL,\n  UPDATECHARSCORE_URL,\n  USER_TIME_LIMIT_IN_MINUTES,\n  GETMODULEINFO_URL,\n} from \"../constants\";\nimport {\n  listOfPraises,\n  listOfSoftPraises,\n  WALKTHROUGH_PART_1,\n  WALKTHROUGH_PART_2,\n  WALKTHROUGH_PART_3,\n  WALKTHROUGH_PART_4,\n  Introduction,\n} from \"../constants/App-constants\"\n\nimport LogRocket from \"logrocket\";\n\n// test introjs\nimport 'intro.js/introjs.css';\nimport { Steps } from 'intro.js-react';\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst mapStateToProps = (state) => {\n  return {\n    currentJapChar: state.changeCardState.currentJapChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    currentWord: state.changeCardState.currentWord,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    romajiNotInDict: state.changeInputBox.romajiNotInDict,\n    cardStateList: state.changeCardState.cardStateList,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    wrongCharList: state.changeCardState.wrongCharList,\n    romajiList: state.changeCardState.romajiList,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    resetStore: () => {\n      dispatch(resetStore());\n    },\n    loadUserToStore: (userInfo) => {\n      dispatch(loadUserToStore(userInfo));\n    },\n  };\n};\n\nclass App2 extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      route: \"register\", // should be register\n      userInfo: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        joined: \"\",\n      },\n      requestedWord: `place_holder`,\n\n      currentWordInfo: null,\n      openEndDialogue: false,\n      isFetchingWord: false,\n      checkedAudioAutoPlay: false,\n      checkedEnableMessage: true,\n      checkedEnableBlueButton: false,\n      walkThroughEnabled: false,\n\n      // introjs test\n      initialStep: 0,\n      steps1Enabled: false,\n      steps2Enabled: false,\n      steps3Enabled: false,\n      steps4Enabled: false,\n      transitionedFromSteps1ToSteps2: false,\n      transitionedFromSteps2ToSteps3: false,\n      transitionedFromSteps3ToSteps5: false,\n      steps1: WALKTHROUGH_PART_1,\n      steps2: WALKTHROUGH_PART_2,\n      steps3: WALKTHROUGH_PART_3,\n      steps4: WALKTHROUGH_PART_4,\n      introductory_steps: Introduction,\n      disableAllAction: false,\n      firstTimeCompleteWordSinceWalkThru: false,\n      firstIntroductionEnabled: false,\n    };\n    this.charInputRef = React.createRef();\n    this.hintCardRef = React.createRef();\n    this.wordCardRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    console.log(\"Running char-based version...\");\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n    this.requestModuleInfo();\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    // check if it's user's first time logging in\n    if (this.state.route === \"home\"\n        && prevState.route === \"register\") {\n      this.setState({ walkThroughEnabled: false }) // TODO should be true, if want to enable by default when login first time\n      this.setState({ steps1Enabled: true });\n      this.setState({ steps2Enabled: false });\n      this.setState({ steps3Enabled: false });\n      this.setState({ steps4Enabled: false });\n      this.setState({ firstIntroductionEnabled: true });\n      this.requestModuleInfo();\n    } \n    if (this.state.userInfo.id !== prevState.userInfo.id) {\n      this.props.resetStore();\n      this.requestAndUpdateWord();\n      this.requestModuleInfo();\n    }\n    if (this.props.wordCompleted \n        && this.props.wordCompleted !== prevProps.wordCompleted) {\n      this.requestNewWord();\n    }\n    if (this.state.route === \"home\") {\n      setTimeout(() => {\n        this.setState({ openEndDialogue: true });\n      }, USER_TIME_LIMIT_IN_MINUTES * 60000);\n    }\n    if (this.state.steps1Enabled === prevState.steps1Enabled\n        && !this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current !== null) {\n        this.setState({ steps1Enabled: false })\n        this.setState({ steps2Enabled: true })\n        this.setState({ transitionedFromSteps1ToSteps2: true })\n      }\n    }\n    if (this.state.steps2Enabled === prevState.steps2Enabled\n        && !this.state.transitionedFromSteps2ToSteps3\n        && this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current === null) {\n        this.setState({ steps2Enabled: false })\n        this.setState({ steps3Enabled: true })\n        this.setState({ transitionedFromSteps2ToSteps3: true })\n      }\n    }\n    if (this.state.steps3Enabled === prevState.steps3Enabled\n        && !this.state.transitionedFromSteps3ToSteps4\n        && this.state.transitionedFromSteps1ToSteps2\n        && this.state.transitionedFromSteps2ToSteps3\n        && this.state.firstTimeCompleteWordSinceWalkThru\n        ) {\n      if (this.wordCardRef.current === null) {\n        this.setState({ steps3Enabled: false })\n        this.setState({ steps4Enabled: true })\n        this.setState({ transitionedFromSteps3ToSteps4: true })\n        this.setState({ firstTimeCompleteWordSinceWalkThru: false }) // for future walkthru\n      }\n    }\n  };\n\n  loadUser = (user) => {\n    const { user_uid, name, email, joined } = user;\n    this.setState((prevState) => {\n      let userInfo = { ...prevState.userInfo };\n      userInfo.name = name;\n      userInfo.id = user_uid;\n      userInfo.email = email;\n      userInfo.joined = joined;\n      return { userInfo };\n    });\n\n    this.props.loadUserToStore(user);\n\n    LogRocket.identify(user_uid, {\n      name: name,\n      email: email,\n      joined: joined,\n    });\n    console.log(\"userInfo\", this.state.userInfo);\n  };\n\n  onRouteChange = (route) => {\n    this.setState({ route: route });\n  };\n\n  parseJapaneseWord = (word) => {\n    var charsToRead = [];\n    for (const c of word) {\n      var c_romaji = katakanaToRomaji[c] || \"??\";\n      charsToRead.push({ char: c, romaji: c_romaji });\n    }\n    return charsToRead;\n  };\n\n  updateCharScore = (user_uid, katakana_char, score) => {\n    fetch(UPDATECHARSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        char: katakana_char,\n        score: score,\n      }),\n    }).then((res) => res.json())\n      .then((data) => {\n        console.log(\"Update Char Score:\", data);\n      })\n      .catch((error) => {\n        console.log(\"Failed to update char score\", error);\n      });\n  };\n\n  parseAudio = (audio_string) => {\n    return audio_string.slice(7, audio_string.length - 1);\n  };\n\n  requestModuleInfo = () => {\n    console.log(`REQUESTING MODULE INFO for user ${this.state.userInfo.id}`)\n    fetch(GETMODULEINFO_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        userId: this.state.userInfo.id,\n        version: \"2\",\n      }),\n    })\n    .then((res) => res.json())\n    .then((moduleInfoObject) => {\n      this.setState({ moduleInfo: moduleInfoObject });\n    })\n    .catch((error) => {\n      console.log(`Error in requestModuleInfo: ${error}`);\n    });\n  }\n  \n  requestNewWord = async() => {\n    console.log(`Requesting char for user with id ${this.state.userInfo.id}`)\n    return new Promise(resolve => {\n      this.setState({ clickedJapChar: \"\" });\n      this.setState({ isFetchingWord: true })\n      const wordRequestTime = Date.now();\n      console.log(\"Word requested at time:\", wordRequestTime)\n      this.setState({ wordRequestTimeStamp: wordRequestTime})\n  \n      fetch(GETCHAR_URL, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user_uid: this.state.userInfo.id,\n        }),\n      }).then((res) => res.json())\n        .then((word) => {         \n          this.setState({ isFetchingWord: false });\n          this.setState({ requestedWord: word }); // not sure if should use await here\n          resolve();\n        })\n        .catch((err) => {\n          console.log(\"Error in getting next char\", err);\n        });\n    });\n  };\n\n  moveToNextWord = async(word) => {\n    this.requestModuleInfo();\n    console.log(`DEBUG ${JSON.stringify(word)}`)\n    const { setCurrentChar, updateWord } = this.props;\n    setCurrentChar(word, katakanaToRomaji[word]);\n    updateWord(word, [katakanaToRomaji[word]]);\n    this.setState({ currentWordInfo: word });\n    this.setState({ currentWord_unix_time: Date.now() });\n  }\n\n  requestAndUpdateWord = async() => {\n    await this.requestNewWord();\n    this.moveToNextWord(this.state.requestedWord);\n  }\n\n  focusInputBox = () => {\n    this.charInputRef.current.formRef.current.focus();\n  };\n\n  onClickCard = (event) => {\n    const kana_char = event.target.innerText;\n    this.setState({ clickedJapChar: kana_char });\n\n    // unclick\n    if (this.state.clickedJapChar === kana_char) {\n      this.setState({ clickedJapChar: \"\" });\n    }\n  };\n\n  showHint = () => {\n    // once user completed word, can review hint card\n    if (this.props.wordCompleted && this.state.clickedJapChar) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.state.clickedJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n    if (this.props.onHintedCard) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.props.currentJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n  };\n\n  displayWordInfo = () => {\n    console.log(`DEBUG ${this.props.currentWord}`)\n    if (this.props.wordCompleted) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.props.currentWord} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  getKeyByValue = (object, value) => {\n    return Object.keys(object).find((key) => object[key] === value);\n  };\n\n  randomItem = (aList) => {\n    return aList[Math.floor(Math.random() * aList.length)];\n  }\n\n  displayMessage = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      curWrongChar,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n      cardStateList,\n      indexCurrentCard,\n      wrongCharList,\n      romajiList,\n    } = this.props;\n    if (this.state.walkThroughEnabled) {\n      return \"...\"\n    }\n    if (audioIsPlaying) {\n      return `Playing audio...`;\n    }\n    if (onIncorrectCard) {\n      return (romajiNotInDict \n        ? `${curWrongChar} does not exist in the Japanese alphabet. Try again.`\n        : `${curWrongChar} corresponds to ${this.getKeyByValue(katakanaToRomaji, curWrongChar)}, not ${currentJapChar}. Try again.`\n      );\n    } else if (onHintedCard) {\n      return \"Type the character.\"\n    } else if (romajiList[indexCurrentCard] in wrongCharList) {\n      return \"Press spacebar if you're stuck.\"\n    } else if (indexCurrentCard > 0 \n      && indexCurrentCard < cardStateList.length\n      && cardStateList[indexCurrentCard - 1] === \"correct\") {\n        return this.randomItem(listOfSoftPraises);\n    } else if (wordCompleted && !audioIsPlaying) {\n      const cardStateSet = new Set(cardStateList);\n      if (cardStateSet.size === 1 && cardStateSet.has(\"correct\")) {\n        return `${this.randomItem(listOfPraises)} Press spacebar to continue.`;\n      } else {\n        return \"Click on the character or press spacebar to continue.\";\n      }\n    } else {\n      // return `I will be giving you feedback as you use the app.`;\n      return `Press spacebar if you're stuck.`;\n    }\n  };\n  setButtonText = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      currentJapChar,\n    } = this.props;\n\n    if (onIncorrectCard) {\n      return \"Try Again\";\n    } else if (onHintedCard && !audioIsPlaying) {\n      return \"Got it\";\n    } else if (wordCompleted && !audioIsPlaying) {\n      return \"Next Word\";\n    } else if (!onHintedCard && !wordCompleted) {\n      return `LEARN ${currentJapChar}`;\n    } else {\n      return \"\";\n    }\n  };\n  displayLoadingPopup = () => {\n    console.log(`BEFORE`)\n    setTimeout(() => {\n      console.log(\"after 1 sec\");\n      return this.state.isFetchingWord;\n    }, 1000);\n  }\n  handleAudioAutoplaySwitch = (event) => {\n    this.setState(\n      { checkedAudioAutoPlay: !this.state.checkedAudioAutoPlay }\n    );\n  }\n  handleEnableMessageSwitch = () => {\n    this.setState(\n      { checkedEnableMessage: !this.state.checkedEnableMessage }\n    );\n  }\n  handleEnableBlueButtonSwitch = () => {\n    this.setState(\n      {checkedEnableBlueButton: !this.state.checkedEnableBlueButton }\n    )\n  }\n\n  onExitIntroduction = () => {\n    this.setState({ firstIntroductionEnabled: false });\n  }\n  onExitIntro1 = () => {\n    this.setState({ steps1Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ checkedEnableMessage: true });\n  }\n  onExitIntro2 = () => {\n    this.setState({ steps2Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro3 = () => {\n    this.setState({ steps3Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro4 = () => {\n    this.setState({ steps4Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ walkThroughEnabled: false });\n  }\n  \n  handleClickWalkthrough = () => {\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: true });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: true });\n    this.setState({ checkedEnableBlueButton: true });\n    this.setState({ firstIntroductionEnabled: false });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  endWalkThrough = () => {\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: false });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: false });\n    this.setState({ checkedEnableBlueButton: true });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  onBeforeChange1 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      // select dynamically created elements\n      this.steps1.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 4) {\n      if (!this.hintCardRef.current) {\n        return false;\n      } else {\n        this.steps1.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange2 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps2.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.hintCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps2.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange3 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps3.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.wordCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps3.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange4 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps4.updateStepElement(nextStepIndex);\n    }\n  }\n  onChangeInSteps = (specialIndex) => (index, _) => {\n    if (index !== specialIndex) {\n      this.setState({ disableAllAction: true });\n    } else {\n      this.setState({ disableAllAction: false });\n    }\n  }\n  firstTimeCompleteWordSinceWalkThrough = () => {\n    this.setState({ firstTimeCompleteWordSinceWalkThru : true })\n  }\n  \n  renderRoute = (route) => {\n    switch (route) {\n      case \"progress\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"progress\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <SmallCharList user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        );\n      case \"katakanaChart\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"katakanaChart\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <KatakanaChart user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        )\n        case \"signin\":\n          console.log(`DEBUG1`)\n          return (\n          <Signin2 onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n          );\n        case \"register\":\n          console.log(`DEBUG1`)\n          return (\n          <Register2\n            onRouteChange={this.onRouteChange}\n            loadUser={this.loadUser}\n          />\n        );\n      case \"home\":\n        const { currentWord } = this.props;\n        const {\n          steps1Enabled,\n          steps2Enabled,\n          steps3Enabled,\n          steps4Enabled,\n          steps1,\n          steps2,\n          steps3,\n          steps4,\n          initialStep\n        } = this.state;\n        const generalStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          exitOnOverlayClick: false,\n          exitOnEsc: false,\n          showButtons: true,\n          overlayOpacity: 0.5,\n          skipLabel: \"Skip\",\n          doneLabel: \"Got it!\",\n        };\n        const lastStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          showButtons: false,\n          overlayOpacity: 0.2,\n        };\n        return (\n          <div className=\"page-container\" style={{ position: \"relative\" }}>\n            <LoadingPopup isOpen={this.displayLoadingPopup()}/>\n            <Steps\n              enabled={this.state.firstIntroductionEnabled}\n              steps={this.state.introductory_steps}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.introductory_steps = steps)}\n              // onBeforeChange={this.onBeforeChange1}\n            >\n            </Steps>\n            <Steps\n              enabled={steps1Enabled && this.state.walkThroughEnabled}\n              steps={steps1}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.steps1 = steps)}\n              onBeforeChange={this.onBeforeChange1}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps2Enabled && this.state.walkThroughEnabled}\n              steps={steps2}\n              initialStep={initialStep}\n              onExit={this.onExitIntro2}\n              options={generalStepsOptions}\n              ref={steps => (this.steps2 = steps)}\n              onBeforeChange={this.onBeforeChange2}\n              onChange={this.onChangeInSteps(1)}\n            />\n            <Steps\n              enabled={steps3Enabled && this.state.walkThroughEnabled}\n              steps={steps3}\n              initialStep={initialStep}\n              onExit={this.onExitIntro3}\n              options={generalStepsOptions}\n              ref={steps => (this.steps3 = steps)}\n              onBeforeChange={this.onBeforeChange3}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps4Enabled && this.state.walkThroughEnabled}\n              steps={steps4}\n              initialStep={initialStep}\n              onExit={this.onExitIntro4}\n              options={generalStepsOptions}\n              ref={steps => (this.steps4 = steps)}\n              onBeforeChange={this.onBeforeChange4}\n            />\n            <Dialog\n              open={this.state.openEndDialogue}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">\n                {\"Time's Up!\"}\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  <p>\n                    {`You have used the app for ${USER_TIME_LIMIT_IN_MINUTES} minute. Please click the link\n                    below to take a short test that will assess your Katakana\n                    knowledge. Thank you for using the app!`}\n                  </p>\n                  <a\n                    href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"\n                    className=\"survey-link\"\n                  >\n                    {\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"}\n                  </a>\n                </DialogContentText>\n              </DialogContent>\n            </Dialog>\n            <div className=\"content-wrap\">\n              <NavBar \n                onRouteChange={this.onRouteChange} \n                currentTab=\"home\"\n                handleClickWalkthrough={this.handleClickWalkthrough}\n              />\n              <div className=\"message-bar\">\n                <MessageBar \n                  userName={this.state.userInfo.name}\n                  message={this.displayMessage()}\n                  displayHelpMessages={this.state.checkedEnableMessage}\n                />\n              </div>\n              <FormControlLabel\n                className=\"audio-control switch-control\"\n                label=\"Autoplay Audio\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    // disabled\n                    checked={this.state.checkedAudioAutoPlay}\n                    onChange={this.handleAudioAutoplaySwitch}\n                    name=\"autoplay-audio\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              <FormControlLabel\n                className=\"message-control switch-control\"\n                label=\"Help Message\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableMessage}\n                    onChange={this.handleEnableMessageSwitch}\n                    name=\"enable-message\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              {/* <FormControlLabel\n                className=\"blue-button-visibility-control switch-control\"\n                label=\"Display Button\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableBlueButton}\n                    onChange={this.handleEnableBlueButtonSwitch}\n                    name=\"enable-bluebutton\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel> */}\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <div className=\"main-area\">\n                  <div className=\"inputbox-and-word\">\n                    <Grid item className=\"inputbox-div\">\n                      <OutsideAlerter focusInputBox={this.focusInputBox}>\n                        <CharInput\n                          updateCharScore={this.updateCharScore}\n                          getKeyByValue={this.getKeyByValue}\n                          user_uid={this.state.userInfo.id}\n                          ref={this.charInputRef}\n                          setClick={(click) => (this.clickChild = click)}\n                          matchClearFormInputFunction={(childFunc) => (this.clearFormInput = childFunc)}\n                          disableAllAction={this.state.disableAllAction}\n                          endWalkThrough={this.endWalkThrough}\n                          walkThroughEnabled={this.state.walkThroughEnabled}\n                          moveToNextWord = {this.moveToNextWord}\n                          requestedWord = {this.state.requestedWord}\n                          firstTimeCompleteWordSinceWalkThrough = \n                          {this.firstTimeCompleteWordSinceWalkThrough}\n                          requestModuleInfo={this.requestModuleInfo}\n                        />\n                      </OutsideAlerter>\n                    </Grid>\n                    <Grid item className=\"japanese-word-area\">\n                      <CharList\n                        charsToRead={this.parseJapaneseWord(currentWord)}\n                        onClickCard={this.onClickCard}\n                        clickedJapChar={this.state.clickedJapChar}\n                      />\n                    </Grid>\n                    <div className=\"module-level\">\n                      {`Level ${this.state.moduleInfo ? this.state.moduleInfo.moduleIndex : 0}`}\n                    </div>\n                    <Grid item>\n                      <Box\n                        className=\"progress-bar\"\n                        // width=\"30vw\" \n                      >\n                        <LinearDeterminate \n                          moduleInfo={this.state.moduleInfo} \n                        />\n                      </Box>\n                    </Grid>\n                  </div>\n                  {this.state.checkedEnableBlueButton ? (<Grid item > \n                    {!this.props.audioIsPlaying ? (\n                      <Button\n                        className=\"main-button\"\n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => this.clickChild(this.charInputRef.current.formRef.current)}\n                        style={{ color: \"white\" }}\n                      >\n                        {this.setButtonText()}\n                      </Button>\n                    ) : (\n                      <Button\n                        className=\"main-button\"\n                        disabled                       \n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() =>\n                          this.clickChild(\n                            this.charInputRef.current.formRef.current\n                          )\n                        }\n                        style={{ color: \"white\" }}\n                      >\n                        {\"Got it\"}\n                      </Button>\n                    )}\n                  </Grid>) : null}\n                  <Grid item className=\"card-area\">\n                    <Grid\n                      container\n                      direction=\"row\"\n                      justify=\"center\"\n                      alignItems=\"center\"\n                      spacing={2}\n                    >                      \n                      {this.showHint()}\n                      {/* {this.displayWordInfo()} */}\n                    </Grid>                  \n                  </Grid>\n                </div>\n              </Grid>\n            </div>\n            <Footer />\n          </div>\n        );\n      default:\n        return <div>Default</div>;\n    }\n  };\n\n  render() {\n    return <div className=\"tc\">{this.renderRoute(this.state.route)}</div>;\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App2);\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { SIGNIN_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\"\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(6),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: \"auto\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Signin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signInEmail: \"\",\r\n      signInPassword: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ signInEmail: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ signInPassword: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendSigninInfoToBackend = () => {\r\n    const { signInEmail, signInPassword } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(SIGNIN_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: signInEmail,\r\n        password: signInPassword,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n          this.setState({\r\n            emailErrorMsg: \"\",\r\n            passwordErrorMsg: \"\",\r\n          });\r\n        } else {\r\n          // there is an error loggin in\r\n          console.log(\"Login Failed\", data);\r\n          if (data === \"email is not yet registered\") {\r\n            this.setState({ emailErrorMsg: data });\r\n          } else if (data === \"incorrect password\") {\r\n            this.setState({\r\n              passwordErrorMsg: data,\r\n              emailErrorMsg: \"\",\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onSignIn = (event) => {\r\n    event.preventDefault();\r\n    const { signInEmail, signInPassword } = this.state;\r\n\r\n    // check that fields are not empty\r\n    if (!signInEmail) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!signInPassword) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (signInEmail && signInPassword) {\r\n      this.sendSigninInfoToBackend();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana as you explore English-like Japanese words\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2} elevation={3}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={this.state.emailErrorMsg}\r\n                      helperText={this.state.emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      // autoFocus\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={this.state.passwordErrorMsg}\r\n                      helperText={this.state.passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    {/* <FormControlLabel\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                      label=\"Remember me\"\r\n                    /> */}\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onSignIn}\r\n                      style={{ color: \"white\" }}\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                    <div className=\"router\">\r\n                      {\"Don't have an account? \"}\r\n                      <Link\r\n                        component=\"button\"\r\n                        variant=\"body2\"\r\n                        onClick={() => this.props.onRouteChange(\"register\")}\r\n                      >\r\n                        {\"Register Here\"}\r\n                      </Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FontDownloadIcon fontSize=\"large\" />}\r\n              title=\"Learn words that sound like English\"\r\n              description=\"You'd be surprised how many common Japanese words you've already known. For example, the Japnese word for tomato is トマト, which is pronounced 'to-mah-to'.\"\r\n            />\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Signin);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { REGISTER_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\nimport LoadingPopup from \"./LoadingPopup\";\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\", // ???\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: \"auto\",\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      nameError: false,\r\n      emailError: false,\r\n      passwordError: false,\r\n      nameErrorMsg: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n      openLoadingPopup: false,\r\n    };\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  onNameInput = (event) => {\r\n    this.setState({ name: event.target.value, nameErrorMsg: \"\" });\r\n  };\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ email: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ password: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendFormDataToBackEnd = () => {\r\n    const { name, email, password } = this.state;\r\n    this.setState({ openLoadingPopup: true })\r\n\r\n    fetch(REGISTER_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ openLoadingPopup: false })\r\n\r\n        if (Object.keys(data).length === 4) {\r\n          this.setState({ emailErrorMsg: \"\" });\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n        } else {\r\n          // if user already exist\r\n          this.setState({ emailErrorMsg: data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { name, email, password } = this.state;\r\n\r\n    if (!name) {\r\n      this.setState({ nameErrorMsg: \"please fill out your name\" });\r\n    } else {\r\n      this.setState({ nameErrorMsg: \"\" });\r\n    }\r\n    if (!email) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!password) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (!this.validateEmail(email)) {\r\n      this.setState({ emailErrorMsg: \"please enter a valid email address\" });\r\n      return;\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n\r\n    if (name && password && email) {\r\n      this.sendFormDataToBackEnd();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(\"IS THIS RENDERING?\")\r\n    const { classes } = this.props;\r\n    const { nameErrorMsg, emailErrorMsg, passwordErrorMsg } = this.state;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <LoadingPopup isOpen={this.state.openLoadingPopup} />\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana as you explore English-like Japanese words\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\" >\r\n                    <div className=\"form-title\">\r\n\r\n                    Register\r\n                    </div>\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={nameErrorMsg}\r\n                      helperText={nameErrorMsg}\r\n                      variant=\"outlined\"\r\n                      id=\"name\"\r\n                      label=\"Your Name\"\r\n                      // autoFocus\r\n                      fullWidth\r\n                      onChange={this.onNameInput}\r\n                    />\r\n                    <TextField\r\n                      error={emailErrorMsg}\r\n                      helperText={emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={passwordErrorMsg}\r\n                      helperText={passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onFormSubmit}\r\n                      style={{ color: \"#ffffff\" }}\r\n                    >\r\n                      Get started\r\n                    </Button>\r\n                    <div className=\"router\">\r\n                      {\"Already registered? \"}\r\n                      <Link\r\n                        component=\"button\"\r\n                        variant=\"body2\"\r\n                        onClick={() => this.props.onRouteChange(\"signin\")}\r\n                      >\r\n                        {\"Sign In\"}\r\n                      </Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FontDownloadIcon fontSize=\"large\" />}\r\n              title=\"Learn words that sound like English\"\r\n              description=\"You'd be surprised how many common Japanese words you've already known. For example, the Japnese word for tomato is トマト, which is pronounced 'to-mah-to'.\"\r\n            />\r\n            <TextBlock\r\n              icon={<InsertChartIcon fontSize=\"large\" />}\r\n              title=\"Easily keep track of your progress\"\r\n              description=\"You can view your learning progress through interactive and animated visuals and charts.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Register);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Music from \"./Music\";\r\nimport { MEDIA_BASE_URL_SENTENCE, MEDIA_BASE_URL_WORD } from \"../constants\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport \"../scss/components/WordCard.scss\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nconst parseoutBoldText = (sentence) => {\r\n  // replace <b> and </b> with comma\r\n  sentence = sentence.replace(/<\\/?b>/g, \",\");\r\n  return sentence.split(\",\");\r\n};\r\n\r\nexport default function WordCard({ wordInfo, word_audio_duration, autoplayAudio }) {\r\n  const classes = useStyles();\r\n  var el = document.createElement(\"html\");\r\n  el.innerHTML = \"<b>bolded text</b>\";\r\n  const sentenceSegments = parseoutBoldText(wordInfo.sentence_expression);\r\n\r\n  const parseAudio = (audio_string) => {\r\n    return audio_string.slice(7, audio_string.length - 1);\r\n  };\r\n\r\n  return (\r\n    <Card className={`${classes.root} word-card `}>\r\n      <CardContent>\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Word Meaning</div>\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          <div className=\"wordcard-text\">\r\n            {wordInfo.vocab_meaning} ({wordInfo.vocab_pos})\r\n          </div>\r\n        </Typography>\r\n        <Music\r\n          audioLink={`${MEDIA_BASE_URL_WORD}${parseAudio(\r\n            wordInfo.vocab_sound_local\r\n          )}`}\r\n          delay={0}\r\n          noStoreUpdateWhenEnded={true}\r\n          autoplay={autoplayAudio}\r\n        />\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Sample Sentence</div>\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          <div className=\"wordcard-text\">\r\n            {sentenceSegments[0]}\r\n            <b className=\"vocab-word\">{sentenceSegments[1]}</b>\r\n            {sentenceSegments[2]}\r\n          </div>\r\n        </Typography>\r\n        <Music\r\n          audioLink={`${MEDIA_BASE_URL_SENTENCE}${parseAudio(\r\n            wordInfo.sentence_sound_local\r\n          )}`}\r\n          delay={word_audio_duration * 1000 + 750}\r\n          noStoreUpdateWhenEnded={false}\r\n          autoplay={autoplayAudio}\r\n        />\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Sentence Meaning</div>\r\n        </Typography>\r\n        <Typography variant=\"body2\" component=\"p\">\r\n          <div style={{ fontSize: \"calc(12px + 0.4vh)\" }}>\r\n            {wordInfo.sentence_meaning}\r\n          </div>\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Music from \"./Music\";\r\nimport { MEDIA_BASE_URL_SENTENCE, MEDIA_BASE_URL_WORD } from \"../constants\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport \"../scss/components/WordCard.scss\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default function WordCard2({ wordInfo, word_audio_duration, autoplayAudio }) {\r\n  const classes = useStyles();\r\n  var el = document.createElement(\"html\");\r\n  el.innerHTML = \"<b>bolded text</b>\";\r\n\r\n  var katakana_word = null;\r\n  var word_meaning = null;\r\n  var word_pos = null;\r\n\r\n  if (Object.keys(wordInfo).includes(\"word\")) {\r\n    katakana_word = wordInfo.word;\r\n    word_meaning = wordInfo.meaning;\r\n    word_pos = wordInfo.part_of_speech;\r\n  } else {\r\n    katakana_word = wordInfo.vocab_kana;\r\n    word_meaning = wordInfo.vocab_meaning;\r\n    word_pos = wordInfo.vocab_pos;\r\n  }\r\n\r\n  // fix pos format from marshallyin site\r\n  if (word_pos.includes(\"&\")) {\r\n    word_pos = word_pos.replace(/&/g, \" & \");\r\n  }\r\n  if (word_pos.includes(\"suru-Verb\")) {\r\n    word_pos = word_pos.replace(/suru-Verb/g, \"Verb\");\r\n  }\r\n  if (word_pos.includes(\"na-Adj\")) {\r\n    word_pos = word_pos.replace(/na-Adj/g, \"Adj\");\r\n  }\r\n\r\n  return (\r\n    <Card className={`${classes.root} word-card `}>\r\n      <CardContent>\r\n        \r\n        <Typography\r\n          className={`${classes.title}`}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext subtext-meaning\">Word Meaning</div>\r\n        </Typography>\r\n        <h3 className=\"bolded-style\">{word_meaning}</h3>\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext subtext-pos\">Part of Speech</div>\r\n        </Typography>\r\n        <Typography variant=\"h3\" component=\"h4\">\r\n          <div className=\"wordcard-pos\">\r\n            {word_pos}\r\n          </div>\r\n        </Typography>\r\n\r\n        {/* <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography \r\n          variant=\"h5\" \r\n          component=\"h2\"\r\n        >\r\n          <div className=\"wordcard-kana\">\r\n            {katakana_word}\r\n          </div>\r\n        </Typography> */}\r\n\r\n      \r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport CharList from \"./CharList\";\nimport CharInput from \"./CharInput\";\nimport NavBar from \"../components/NavBar\";\nimport Hint from \"../components/Hint\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport Signin from \"../components/Signin\";\nimport Register from \"../components/Register\";\nimport WordCard from \"../components/WordCard\";\nimport WordCard2 from \"../components/WordCard2\";\nimport OutsideAlerter from \"../components/OutsideAlerter\";\nimport Footer from \"../components/Footer\";\nimport MessageBar from \"../components/MessageBar\";\nimport SmallCharList from \"../components/SmallCharList\";\nimport KatakanaChart from \"../components/KatakanaChart\";\nimport { Button } from \"@material-ui/core\";\nimport LoadingPopup from \"../components/LoadingPopup\"\nimport Switch from \"@material-ui/core/Switch\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport LinearDeterminate from \"../components/LinearDeterminate\";\nimport Box from '@material-ui/core/Box';\n\n// dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport \"../scss/containers/App.scss\";\nimport {\n  updateChar,\n  updateWord,\n  resetStore,\n  loadUserToStore,\n} from \"../actions\";\nimport {\n  GETWORD_URL,\n  UPDATECHARSCORE_URL,\n  WORDSCORE_URL,\n  MEDIA_BASE_URL_WORD,\n  USER_TIME_LIMIT_IN_MINUTES,\n  GETMODULEINFO_URL,\n} from \"../constants\";\nimport {\n  listOfPraises,\n  listOfSoftPraises,\n  WALKTHROUGH_PART_1,\n  WALKTHROUGH_PART_2,\n  WALKTHROUGH_PART_3,\n  WALKTHROUGH_PART_4,\n  Introduction,\n} from \"../constants/App-constants\"\n\nimport LogRocket from \"logrocket\";\n\n// test introjs\nimport 'intro.js/introjs.css';\nimport { Steps } from 'intro.js-react';\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst mapStateToProps = (state) => {\n  return {\n    currentJapChar: state.changeCardState.currentJapChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    currentWord: state.changeCardState.currentWord,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    romajiNotInDict: state.changeInputBox.romajiNotInDict,\n    cardStateList: state.changeCardState.cardStateList,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    wrongCharList: state.changeCardState.wrongCharList,\n    romajiList: state.changeCardState.romajiList,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    resetStore: () => {\n      dispatch(resetStore());\n    },\n    loadUserToStore: (userInfo) => {\n      dispatch(loadUserToStore(userInfo));\n    },\n  };\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      route: \"register\", // should be register\n      // userInfo: {\n      //   id: \"ac73af88-9b41-418f-909e-902ed5f6d446\",\n      //   name: \"Dev\",\n      //   email: \"dev@g.com\",\n      //   joined: \"2020-10-25T14:57:22.578Z\",\n      // },\n      userInfo: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        joined: \"\",\n      },\n      requestedWord: `place_holder`,\n\n      currentWordInfo: null,\n      openEndDialogue: false,\n      isFetchingWord: false,\n      checkedAudioAutoPlay: false,\n      checkedEnableMessage: true,\n      checkedEnableBlueButton: false,\n      walkThroughEnabled: false,\n\n      // introjs test\n      initialStep: 0,\n      steps1Enabled: false,\n      steps2Enabled: false,\n      steps3Enabled: false,\n      steps4Enabled: false,\n      transitionedFromSteps1ToSteps2: false,\n      transitionedFromSteps2ToSteps3: false,\n      transitionedFromSteps3ToSteps5: false,\n      steps1: WALKTHROUGH_PART_1,\n      steps2: WALKTHROUGH_PART_2,\n      steps3: WALKTHROUGH_PART_3,\n      steps4: WALKTHROUGH_PART_4,\n      introductory_steps: Introduction,\n      disableAllAction: false,\n      firstTimeCompleteWordSinceWalkThru: false,\n      firstIntroductionEnabled: false,\n      \n      moduleInfo: null,\n    };\n    this.charInputRef = React.createRef();\n    this.hintCardRef = React.createRef();\n    this.wordCardRef = React.createRef();\n  }\n\n  componentDidMount = () => {\n    console.log(\"Running word-based version...\")\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n    this.requestModuleInfo();\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    // check if it's user's first time logging in\n    if (this.state.route === \"home\"\n        && prevState.route === \"register\") {\n      this.setState({ walkThroughEnabled: false }) // TODO should be true, if want to enable by default when login first time\n      this.setState({ steps1Enabled: true });\n      this.setState({ steps2Enabled: false });\n      this.setState({ steps3Enabled: false });\n      this.setState({ steps4Enabled: false });\n      this.setState({ firstIntroductionEnabled: true });\n      this.requestModuleInfo();\n    } \n    if (this.state.userInfo.id !== prevState.userInfo.id) {\n      this.props.resetStore();\n      this.requestAndUpdateWord();\n      this.requestModuleInfo();\n    }\n    if (this.props.wordCompleted \n        && this.props.wordCompleted !== prevProps.wordCompleted) {\n      this.requestNewWord();\n    }\n    if (this.state.route === \"home\") {\n      setTimeout(() => {\n        this.setState({ openEndDialogue: true });\n      }, USER_TIME_LIMIT_IN_MINUTES * 60000);\n    }\n    if (this.state.steps1Enabled === prevState.steps1Enabled\n        && !this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current !== null) {\n        this.setState({ steps1Enabled: false })\n        this.setState({ steps2Enabled: true })\n        this.setState({ transitionedFromSteps1ToSteps2: true })\n      }\n    }\n    if (this.state.steps2Enabled === prevState.steps2Enabled\n        && !this.state.transitionedFromSteps2ToSteps3\n        && this.state.transitionedFromSteps1ToSteps2) {\n      if (this.hintCardRef.current === null) {\n        this.setState({ steps2Enabled: false })\n        this.setState({ steps3Enabled: true })\n        this.setState({ transitionedFromSteps2ToSteps3: true })\n      }\n    }\n    if (this.state.steps3Enabled === prevState.steps3Enabled\n        && !this.state.transitionedFromSteps3ToSteps4\n        && this.state.transitionedFromSteps1ToSteps2\n        && this.state.transitionedFromSteps2ToSteps3\n        && this.state.firstTimeCompleteWordSinceWalkThru\n        ) {\n      if (this.wordCardRef.current === null) {\n        this.setState({ steps3Enabled: false })\n        this.setState({ steps4Enabled: true })\n        this.setState({ transitionedFromSteps3ToSteps4: true })\n        this.setState({ firstTimeCompleteWordSinceWalkThru: false }) // for future walkthru\n      }\n    }\n  };\n\n  loadUser = (user) => {\n    const { user_uid, name, email, joined } = user;\n    this.setState((prevState) => {\n      let userInfo = { ...prevState.userInfo };\n      userInfo.name = name;\n      userInfo.id = user_uid;\n      userInfo.email = email;\n      userInfo.joined = joined;\n      return { userInfo };\n    });\n\n    this.props.loadUserToStore(user);\n\n    LogRocket.identify(user_uid, {\n      name: name,\n      email: email,\n      joined: joined,\n    });\n    console.log(\"userInfo\", this.state.userInfo);\n  };\n\n  onRouteChange = (route) => {\n    this.setState({ route: route });\n  };\n\n  parseJapaneseWord = (katakana_word) => {\n    var charsToRead = [];\n    for (const katakana_char of katakana_word) {\n      var katakana_romaji = katakanaToRomaji[katakana_char] || \"??\";\n      charsToRead.push({ \n        char: katakana_char, \n        romaji: katakana_romaji \n      });\n    }\n    return charsToRead;\n  };\n\n  updateCharScore = (user_uid, katakana_char, score) => {\n    fetch(UPDATECHARSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        char: katakana_char,\n        score: score,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n      })\n      .catch((error) => {\n        console.log(\"Failed to update char score\", error);\n      });\n  };\n\n  // not used\n  updateWordScore = (user_uid, word) => {\n    fetch(WORDSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        word: word,\n        unix_time: this.state.currentWord_unix_time,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Update Word Score:\", data);\n        // once score is updated, request new word\n        this.requestNewWord();\n      })\n      .catch((error) => {\n        console.log(\"Failed to update word score\", error);\n      });\n  };\n\n  parseAudio = (audio_string) => {\n    return audio_string.slice(7, audio_string.length - 1);\n  };\n\n  requestModuleInfo = () => {\n    console.log(`REQUESTING MODULE INFO for user ${this.state.userInfo.id}`)\n    fetch(GETMODULEINFO_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        userId: this.state.userInfo.id,\n        version: \"\",\n      }),\n    })\n    .then((res) => res.json())\n    .then((moduleInfoObject) => {\n      this.setState({ moduleInfo: moduleInfoObject });\n    })\n    .catch((error) => {\n      console.log(`Error in requestModuleInfo: ${error}`);\n    });\n  }\n\n  requestNewWord = async() => {\n    console.log(`Requesting word for user with id ${this.state.userInfo.id}`)\n    return new Promise(resolve => {\n      console.log('requesting new word...')\n      this.setState({ clickedJapChar: \"\" });\n      this.setState({ isFetchingWord: true })\n      const wordRequestTime = Date.now();\n      console.log(\"Word requested at time:\", wordRequestTime)\n      this.setState({ wordRequestTimeStamp: wordRequestTime})\n  \n      fetch(GETWORD_URL, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          user_uid: this.state.userInfo.id,\n        }),\n      })\n      .then((res) => res.json())\n      .then((word) => {\n        console.log('sucessfully requested new word...')\n\n        if (word === \"END GAME\") {\n          this.setState({ openEndDialogue: true });\n        }\n        this.setState({ isFetchingWord: false });\n        this.setState({ requestedWord: word }); // not sure if should use await here\n        resolve();\n      })\n      .catch((err) => {\n        console.log(\"Error in getting next word\", err);\n      });\n    });\n  };\n\n  moveToNextWord = async(word) => {\n    this.requestModuleInfo();\n    const { setCurrentChar, updateWord } = this.props;\n    var romajiList = [];\n    \n    if (Object.keys(word).includes(\"word\")) {\n      romajiList = this.parseJapaneseWord(word.word).map(\n      (kana_char) => kana_char.romaji\n      );\n      updateWord(word.word, romajiList);\n      setCurrentChar(word.word.charAt(0), romajiList[0]);\n    } else {\n      romajiList = this.parseJapaneseWord(word.vocab_kana).map(\n        (kana_char) => kana_char.romaji\n      );\n      updateWord(word.vocab_kana, romajiList);\n      setCurrentChar(word.vocab_kana.charAt(0), romajiList[0]);\n      const audio_url = `${MEDIA_BASE_URL_WORD}${this.parseAudio(word.vocab_sound_local)}`\n      const word_audio = new Audio(audio_url);\n  \n      word_audio.addEventListener(\"loadedmetadata\", (event) => {\n        console.log(\"audio duration\", event.target.duration)\n        this.setState({\n          word_audio_duration: event.target.duration,\n        });\n      });\n    }\n\n    this.setState({ currentWordInfo: word });\n    this.setState({ currentWord_unix_time: Date.now() });\n    \n  }\n\n  requestAndUpdateWord = async() => {\n    await this.requestNewWord();\n    this.moveToNextWord(this.state.requestedWord);\n  }\n\n  focusInputBox = () => {\n    this.charInputRef.current.formRef.current.focus();\n  };\n\n  onClickCard = (event) => {\n    const kana_char = event.target.innerText;\n    this.setState({ clickedJapChar: kana_char });\n\n    // unclick\n    if (this.state.clickedJapChar === kana_char) {\n      this.setState({ clickedJapChar: \"\" });\n    }\n  };\n\n  showHint = () => {\n    // once user completed word, can review hint card\n    if (this.props.wordCompleted && this.state.clickedJapChar) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.state.clickedJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n    if (this.props.onHintedCard) {\n      return (\n        <Grid item>\n          <Paper elevation={1} />\n          <Hint \n            currentHintedChar={this.props.currentJapChar} \n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.hintCardRef}\n          />\n        </Grid>\n      );\n    }\n  };\n\n  displayWordInfo = () => {\n    if (this.props.wordCompleted) {\n      return (\n        <Grid item>\n          <WordCard2\n            wordInfo={this.state.currentWordInfo}\n            word_audio_duration={this.state.word_audio_duration}\n            autoplayAudio={this.state.checkedAudioAutoPlay}\n            ref={this.wordCardRef}\n          />\n        </Grid>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  getKeyByValue = (object, value) => {\n    return Object.keys(object).find((key) => object[key] === value);\n  };\n\n  randomItem = (aList) => {\n    return aList[Math.floor(Math.random() * aList.length)];\n  }\n\n  displayMessage = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      curWrongChar,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n      cardStateList,\n      indexCurrentCard,\n      wrongCharList,\n      romajiList,\n    } = this.props;\n    if (this.state.walkThroughEnabled) {\n      return \"...\"\n    }\n    if (audioIsPlaying) {\n      return `Playing audio...`;\n    }\n    if (onIncorrectCard) {\n      return (romajiNotInDict \n        ? `${curWrongChar} does not exist in the Japanese alphabet. Delete your input and try again.`\n        : `${curWrongChar} corresponds to ${this.getKeyByValue(katakanaToRomaji, curWrongChar)}, not ${currentJapChar}. Delete your input and try again.`\n      );\n    } else if (onHintedCard) {\n      return \"Type the character.\"\n    } else if (romajiList[indexCurrentCard] in wrongCharList) {\n      return \"Press spacebar if you're stuck.\"\n    } else if (indexCurrentCard > 0 \n      && indexCurrentCard < cardStateList.length\n      && cardStateList[indexCurrentCard - 1] === \"correct\") {\n        return this.randomItem(listOfSoftPraises);\n    } else if (wordCompleted && !audioIsPlaying) {\n      const cardStateSet = new Set(cardStateList);\n      if (cardStateSet.size === 1 && cardStateSet.has(\"correct\")) {\n        return `${this.randomItem(listOfPraises)} Press spacebar to continue.`;\n      } else {\n        return \"Click on a character or press spacebar to continue.\";\n      }\n    } else {\n      // return `I will be giving you feedback as you use the app.`;\n      return `Press spacebar if you're stuck.`;\n    }\n  };\n  setButtonText = () => {\n    const {\n      onIncorrectCard,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      currentJapChar,\n    } = this.props;\n\n    if (onIncorrectCard) {\n      return \"Try Again\";\n    } else if (onHintedCard && !audioIsPlaying) {\n      return \"Got it\";\n    } else if (wordCompleted && !audioIsPlaying) {\n      return \"Next Word\";\n    } else if (!onHintedCard && !wordCompleted) {\n      return `LEARN ${currentJapChar}`;\n    } else {\n      return \"\";\n    }\n  };\n  displayLoadingPopup = () => {\n    setTimeout(() => {\n      return this.state.isFetchingWord;\n    }, 1000);\n  } // not used\n\n  handleAudioAutoplaySwitch = (event) => {\n    this.setState(\n      { checkedAudioAutoPlay: !this.state.checkedAudioAutoPlay }\n    );\n  }\n  handleEnableMessageSwitch = () => {\n    this.setState(\n      { checkedEnableMessage: !this.state.checkedEnableMessage }\n    );\n  }\n  handleEnableBlueButtonSwitch = () => {\n    this.setState(\n      {checkedEnableBlueButton: !this.state.checkedEnableBlueButton }\n    )\n  }\n\n  onExitIntroduction = () => {\n    this.setState({ firstIntroductionEnabled: false });\n  }\n  onExitIntro1 = () => {\n    this.setState({ steps1Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ checkedEnableMessage: true });\n  }\n  onExitIntro2 = () => {\n    this.setState({ steps2Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro3 = () => {\n    this.setState({ steps3Enabled: false });\n    this.setState({ disableAllAction: false });\n  }\n  onExitIntro4 = () => {\n    this.setState({ steps4Enabled: false });\n    this.setState({ disableAllAction: false });\n    this.setState({ walkThroughEnabled: false });\n  }\n  \n  handleClickWalkthrough = () => {\n    // this.clickChild(this.charInputRef.current.formRef.current);\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: true });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: true });\n    this.setState({ checkedEnableBlueButton: true });\n    this.setState({ firstIntroductionEnabled: false });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  endWalkThrough = () => {\n    this.clearFormInput(this.charInputRef.current.formRef.current);\n    this.setState({ steps1Enabled: false });\n    this.setState({ steps2Enabled: false });\n    this.setState({ steps3Enabled: false });\n    this.setState({ steps4Enabled: false });\n    this.setState({ transitionedFromSteps1ToSteps2: false });\n    this.setState({ transitionedFromSteps2ToSteps3: false });\n    this.setState({ transitionedFromSteps3ToSteps4: false });\n    this.setState({ walkThroughEnabled: false });\n    this.setState({ checkedEnableBlueButton: true });\n    this.props.resetStore();\n    this.requestAndUpdateWord();\n  }\n\n  onBeforeChange1 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      // select dynamically created elements\n      this.steps1.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 4) {\n      if (!this.hintCardRef.current) {\n        return false;\n      } else {\n        this.steps1.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange2 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps2.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.hintCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps2.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange3 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps3.updateStepElement(nextStepIndex);\n    }\n    if (nextStepIndex === 3) {\n      if (this.wordCardRef.current !== null) {\n        return false;\n      } else {\n        this.steps3.updateStepElement(nextStepIndex);\n      }\n    }\n  }\n  onBeforeChange4 = (nextStepIndex) => {\n    if (nextStepIndex) {\n      this.steps4.updateStepElement(nextStepIndex);\n    }\n  }\n  onChangeInSteps = (specialIndex) => (index, _) => {\n    if (index !== specialIndex) {\n      this.setState({ disableAllAction: true });\n    } else {\n      this.setState({ disableAllAction: false });\n    }\n  }\n  firstTimeCompleteWordSinceWalkThrough = () => {\n    this.setState({ firstTimeCompleteWordSinceWalkThru : true })\n  }\n  \n  renderRoute = (route) => {\n    switch (route) {\n      case \"progress\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"progress\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <SmallCharList user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        );\n      case \"katakanaChart\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"katakanaChart\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <KatakanaChart user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        )\n      case \"signin\":\n        return (\n          <Signin onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n        );\n      case \"register\":\n        return (\n          <Register\n            onRouteChange={this.onRouteChange}\n            loadUser={this.loadUser}\n          />\n        );\n      case \"home\":\n        const { currentWord } = this.props;\n        const {\n          steps1Enabled,\n          steps2Enabled,\n          steps3Enabled,\n          steps4Enabled,\n          steps1,\n          steps2,\n          steps3,\n          steps4,\n          initialStep\n        } = this.state;\n        const generalStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          exitOnOverlayClick: false,\n          exitOnEsc: false,\n          showButtons: true,\n          overlayOpacity: 0.5,\n          skipLabel: \"Skip\",\n          doneLabel: \"Got it!\",\n        };\n        const lastStepsOptions = {\n          showStepNumbers: false,\n          hidePrev: true,\n          hideNext: true,\n          showButtons: false,\n          overlayOpacity: 0.2,\n        };\n        return (\n          <div className=\"page-container\" style={{ position: \"relative\" }}>\n            <LoadingPopup isOpen={this.displayLoadingPopup()}/>\n            <Steps\n              enabled={this.state.firstIntroductionEnabled}\n              steps={this.state.introductory_steps}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.introductory_steps = steps)}\n              // onBeforeChange={this.onBeforeChange1}\n            >\n            </Steps>\n            <Steps\n              enabled={steps1Enabled && this.state.walkThroughEnabled}\n              steps={steps1}\n              initialStep={initialStep}\n              onExit={this.onExitIntroduction}\n              options={generalStepsOptions}\n              ref={steps => (this.steps1 = steps)}\n              onBeforeChange={this.onBeforeChange1}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps2Enabled && this.state.walkThroughEnabled}\n              steps={steps2}\n              initialStep={initialStep}\n              onExit={this.onExitIntro2}\n              options={generalStepsOptions}\n              ref={steps => (this.steps2 = steps)}\n              onBeforeChange={this.onBeforeChange2}\n              onChange={this.onChangeInSteps(1)}\n            />\n            <Steps\n              enabled={steps3Enabled && this.state.walkThroughEnabled}\n              steps={steps3}\n              initialStep={initialStep}\n              onExit={this.onExitIntro3}\n              options={generalStepsOptions}\n              ref={steps => (this.steps3 = steps)}\n              onBeforeChange={this.onBeforeChange3}\n              onChange={this.onChangeInSteps(2)}\n            />\n            <Steps\n              enabled={steps4Enabled && this.state.walkThroughEnabled}\n              steps={steps4}\n              initialStep={initialStep}\n              onExit={this.onExitIntro4}\n              options={generalStepsOptions}\n              ref={steps => (this.steps4 = steps)}\n              onBeforeChange={this.onBeforeChange4}\n            />\n            <Dialog\n              open={this.state.openEndDialogue}\n              aria-labelledby=\"alert-dialog-title\"\n              aria-describedby=\"alert-dialog-description\"\n            >\n              <DialogTitle id=\"alert-dialog-title\">\n                {\"Time's Up!\"}\n              </DialogTitle>\n              <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                  <p>\n                    {`You have used the app for ${USER_TIME_LIMIT_IN_MINUTES} minute. Please click the link\n                    below to take a short test that will assess your Katakana\n                    knowledge. Thank you for using the app!`}\n                  </p>\n                  <a\n                    href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"\n                    className=\"survey-link\"\n                  >\n                    {\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"}\n                  </a>\n                </DialogContentText>\n              </DialogContent>\n            </Dialog>\n            <div className=\"content-wrap\">\n              <NavBar \n                onRouteChange={this.onRouteChange} \n                currentTab=\"home\"\n                handleClickWalkthrough={this.handleClickWalkthrough}\n              />\n              <div className=\"message-bar\">\n                <MessageBar \n                  userName={this.state.userInfo.name}\n                  message={this.displayMessage()}\n                  displayHelpMessages={this.state.checkedEnableMessage}\n                />\n              </div>\n              <FormControlLabel\n                className=\"audio-control switch-control\"\n                label=\"Autoplay Audio\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    // disabled\n                    checked={this.state.checkedAudioAutoPlay}\n                    onChange={this.handleAudioAutoplaySwitch}\n                    name=\"autoplay-audio\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              <FormControlLabel\n                className=\"message-control switch-control\"\n                label=\"Help Message\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableMessage}\n                    onChange={this.handleEnableMessageSwitch}\n                    name=\"enable-message\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel>\n              {/* <FormControlLabel\n                className=\"blue-button-visibility-control switch-control\"\n                label=\"Display Button\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch \n                    checked={this.state.checkedEnableBlueButton}\n                    onChange={this.handleEnableBlueButtonSwitch}\n                    name=\"enable-bluebutton\" \n                    color=\"primary\"\n                  />\n                }\n              >\n              </FormControlLabel> */}\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <div className=\"main-area\">\n                  <div className=\"inputbox-and-word\"\n                  >\n                    <Grid item className=\"inputbox-div\">\n                      <OutsideAlerter focusInputBox={this.focusInputBox}>\n                        <CharInput\n                          updateCharScore={this.updateCharScore}\n                          updateWordScore={this.updateWordScore}\n                          getKeyByValue={this.getKeyByValue}\n                          user_uid={this.state.userInfo.id}\n                          ref={this.charInputRef}\n                          setClick={(click) => (this.clickChild = click)}\n                          matchClearFormInputFunction={(childFunc) => (this.clearFormInput = childFunc)}\n                          disableAllAction={this.state.disableAllAction}\n                          endWalkThrough={this.endWalkThrough}\n                          walkThroughEnabled={this.state.walkThroughEnabled}\n                          moveToNextWord = {this.moveToNextWord}\n                          requestedWord = {this.state.requestedWord}\n                          firstTimeCompleteWordSinceWalkThrough = \n                          {this.firstTimeCompleteWordSinceWalkThrough}\n                          requestModuleInfo={this.requestModuleInfo}\n                        />\n                      </OutsideAlerter>\n                    </Grid>\n                    <Grid item className=\"japanese-word-area\">\n                      <CharList\n                        charsToRead={this.parseJapaneseWord(currentWord)}\n                        onClickCard={this.onClickCard}\n                        clickedJapChar={this.state.clickedJapChar}\n                      />\n                    </Grid>\n                    <div className=\"module-level\">\n                      {`Level ${this.state.moduleInfo ? this.state.moduleInfo.moduleIndex : 0}`}\n                    </div>\n                    <Grid item>\n                      <Box\n                        className=\"progress-bar\"\n                        // width=\"30vw\" \n                      >\n                        <LinearDeterminate \n                          moduleInfo={this.state.moduleInfo} \n                        />\n                      </Box>\n                    </Grid>\n                  </div>\n                  {this.state.checkedEnableBlueButton ? (<Grid item > \n                    {!this.props.audioIsPlaying ? (\n                      <Button\n                        className=\"main-button\"\n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => this.clickChild(this.charInputRef.current.formRef.current)}\n                        style={{ color: \"white\" }}\n                      >\n                        {this.setButtonText()}\n                      </Button>\n                    ) : (\n                      <Button\n                        className=\"main-button\"\n                        disabled                       \n                        size=\"large\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() =>\n                          this.clickChild(\n                            this.charInputRef.current.formRef.current\n                          )\n                        }\n                        style={{ color: \"white\" }}\n                      >\n                        {\"Got it\"}\n                      </Button>\n                    )}\n                  </Grid>) : null}\n                  <Grid item className=\"card-area\">\n                    <Grid\n                      container\n                      direction=\"row\"\n                      justify=\"center\"\n                      alignItems=\"center\"\n                      spacing={2}\n                    >                      \n                      {this.showHint()}\n                      {this.displayWordInfo()}\n                    </Grid>                  \n                  </Grid>\n                </div>\n              </Grid>\n            </div>\n            <Footer />\n          </div>\n        );\n      default:\n        return <div>Default</div>;\n    }\n  };\n\n  render() {\n    return <div className=\"tc\">{this.renderRoute(this.state.route)}</div>;\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { USER_INPUT } from \"./constants\";\r\n// import update from \"react-addons-update\";\r\n\r\nconst initialInputBox = {\r\n  inputBox: \"\",\r\n  keyPressed: \"\",\r\n  romajiNotInDict: false,\r\n};\r\n\r\nconst initialGeneralState = {\r\n  audioIsPlaying: false,\r\n  userInfo: null,\r\n};\r\n\r\nconst initialCardState = {\r\n  currentJapChar: \"\",\r\n  currentRomaji: \"\",\r\n  currentWord: \"\",\r\n  curWrongChar: \"\",\r\n  hintedCharList: [],\r\n  wrongCharList: {},\r\n  onIncorrectCard: false,\r\n  onHintedCard: false,\r\n  wordCompleted: false,\r\n  prevTimestamp: null,\r\n  charTimestamp: [],\r\n  allCharTimestamp: [],\r\n  romajiList: [],\r\n  indexCurrentCard: 0,\r\n  cardStateList: [],\r\n};\r\n\r\nexport const changeGeneralState = (\r\n  state = initialGeneralState,\r\n  action = {}\r\n) => {\r\n  switch (action.type) {\r\n    case \"PLAY_AUDIO\":\r\n      return { ...state, audioIsPlaying: true };\r\n    case \"PAUSE_AUDIO\":\r\n      return { ...state, audioIsPlaying: false };\r\n    case \"LOAD_USER\":\r\n      return { ...state, userInfo: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeInputBox = (state = initialInputBox, action = {}) => {\r\n  switch (action.type) {\r\n    case USER_INPUT:\r\n      return { ...state, inputBox: action.payload };\r\n    case \"PRESS_KEY\":\r\n      return { ...state, keyPressed: action.payload };\r\n    case \"RESET_STORE\":\r\n      return { ...state, inputBox: \"\", keyPressed: \"\" };\r\n    case \"ALERT_NOT_IN_DICT\":\r\n      return { ...state, romajiNotInDict: true };\r\n    case \"RESET_NOT_IN_DICT_ALERT\":\r\n      return { ...state, romajiNotInDict: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeCardState = (state = initialCardState, action = {}) => {\r\n  switch (action.type) {\r\n    case \"CHAR_UPDATE\":\r\n      return {\r\n        ...state,\r\n        currentJapChar: action.currentJapChar,\r\n        currentRomaji: action.currentRomaji,\r\n      };\r\n    case \"ENTER_PRESS\":\r\n      state.cardStateList[state.indexCurrentCard] = \"hinted\";\r\n      return {\r\n        ...state,\r\n        hintedCharList: [...state.hintedCharList, state.currentRomaji],\r\n        onHintedCard: false,\r\n        prevTimestamp: action.time,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n      };\r\n    case \"WRONG_INPUT\":\r\n      state.wrongCharList[action.currentChar] = action.userInput;\r\n      state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        onIncorrectCard: true,\r\n        curWrongChar: action.userInput,\r\n      };\r\n    case \"SPACE_PRESS_TO_CONTINUE\":\r\n      state.cardStateList[state.indexCurrentCard] = \"\";\r\n      return { ...state, onIncorrectCard: false };\r\n    case \"SPACE_PRESS_FOR_HINT\":\r\n      return { ...state, onHintedCard: true };\r\n    case \"SPACE_PRESS_TO_GO_NEXT\":\r\n      return {\r\n        ...state,\r\n        wordCompleted: false,\r\n        charTimestamp: [],\r\n        allCharTimestamp: [...state.allCharTimestamp, state.charTimestamp],\r\n        // prevTimestamp: action.time,\r\n        hintedCharList: [],\r\n      };\r\n    case \"COMPLETE_WORD\":\r\n      return { ...state, wordCompleted: true };\r\n    case \"UPDATE_WORD\":\r\n      return {\r\n        ...state,\r\n        currentWord: action.payload,\r\n        romajiList: action.romajiList,\r\n        cardStateList: action.cardStateList,\r\n        indexCurrentCard: 0,\r\n      };\r\n    case \"COMPLETE_CHAR\":\r\n      const newTimestamp = {\r\n        char: state.currentJapChar,\r\n        time: action.time - state.prevTimestamp,\r\n        type: action.completionType,\r\n      };\r\n      console.log(\"TIME STAMP\", newTimestamp);\r\n      return {\r\n        ...state,\r\n        charTimestamp: [...state.charTimestamp, newTimestamp],\r\n        prevTimestamp: action.time,\r\n      };\r\n    case \"SET_NEW_WORD_TIME\":\r\n      return { ...state, prevTimestamp: action.time };\r\n    case \"INPUT_CORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"correct\";\r\n      return {\r\n        ...state,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"correct\" : item\r\n        ),\r\n      };\r\n    case \"INPUT_INCORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"incorrect\" : item\r\n        ),\r\n      };\r\n    case \"RESET_STORE\":\r\n      return {\r\n        ...state,\r\n        allCharTimestamp: [],\r\n        charTimestamp: [],\r\n        curWrongChar: null,\r\n        onHintedCard: false,\r\n        onIncorrectCard: false,\r\n        wordCompleted: false,\r\n        wrongCharList: {},\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport \"./scss/index.scss\";\nimport * as serviceWorker from \"./serviceWorker\";\n// import \"tachyons\"; // mess with material-ui Textfield\nimport App2 from \"./containers/App2.js\"; // char-based version\nimport App from \"./containers/App.js\"; // word-based version\nimport {\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n} from \"./reducers\";\nimport { PRIMARYCOLOR } from \"./constants.js\"\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport \"typeface-roboto\";\nimport LogRocket from \"logrocket\";\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst theme = createMuiTheme({\n  palette: {\n    // type: \"dark\",\n    primary: {\n      main: PRIMARYCOLOR,\n    },\n    secondary: {\n      main: \"#ffffff\",\n    },\n  },\n  overrides: {\n    MuiButton: {\n      iconSizeMedium: {\n        \"& > *:first-child\": {\n          fontSize: 22 // change global icon size\n        }\n      }\n    }\n  }\n});\n\nconst rootReducer = combineReducers({\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n});\n\nconst logger = createLogger();\n\n// const store = createStore(rootReducer, applyMiddleware(logger));\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(logger, LogRocket.reduxMiddleware())\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}