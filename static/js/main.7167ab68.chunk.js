(this["webpackJsonpKatakana-Teaching-Webapp"]=this["webpackJsonpKatakana-Teaching-Webapp"]||[]).push([[0],{131:function(e,t,a){e.exports=a(163)},140:function(e,t,a){},142:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),s=a(24),c=a(47),l=a(96);a(140),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=a(18),d=a.n(u),p=a(31),m=a(7),h=a(12),g=a(13),f=a(28),E=a(16),b=a(15),C=(a(76),a(86),"https://localhost:3000/register"),v="https://localhost:3000/signin",y="https://shrouded-harbor-11572.herokuapp.com/getcharscore";C="https://shrouded-harbor-11572.herokuapp.com/register",v="https://shrouded-harbor-11572.herokuapp.com/signin";var S=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e="card".concat("2"," ").concat(this.props.cardState," ").concat(this.props.wordCompleted?"card-button":"");return r.a.createElement("div",{className:e,onClick:this.props.onClickCard},r.a.createElement("h1",{className:"char"},this.props.char))}}]),a}(r.a.Component),k=a(200),w=function(e,t){return{type:"CHAR_UPDATE",currentJapChar:e,currentRomaji:t}},j=function(e,t){var a=t.map((function(e){return""}));return{type:"UPDATE_WORD",payload:e,romajiList:t,cardStateList:a}},I=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.setNewWordTime(Date.now())},n.componentDidUpdate=function(e){JSON.stringify(n.props.charsToRead)!==JSON.stringify(e.charsToRead)&&n.props.setNewWordTime(Date.now())},n.setCardState=function(e,t){var a=n.props,r=a.indexCurrentCard,o=a.cardStateList,i=a.onHintedCard,s=a.wordCompleted,c="";s&&(c=c.concat(" completed ")),s&&""!==n.props.clickedJapChar&&(c=t===n.props.clickedJapChar?c.concat(" clicked "):c.concat(" o-100 ")),c=e===r?c.concat(i?" current-hinted ":" highlighted "):c.concat(i?" o-30 ":s?"":" o-60 ");var l=o[e];return c=c.concat(" ".concat(l," "))},n.state={dispatchTime:0},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.charsToRead.map((function(t,a){return r.a.createElement(k.a,{item:!0,key:a},r.a.createElement(S,{char:t.char,key:a,cardState:e.setCardState(a,t.char),onClickCard:e.props.onClickCard,wordCompleted:e.props.wordCompleted}))}));return r.a.createElement(k.a,{container:!0,className:"japanese-word",direction:"row",justify:"center",alignItems:"center",spacing:"0"},t)}}]),a}(r.a.Component),T=Object(s.b)((function(e){return{indexCurrentCard:e.changeCardState.indexCurrentCard,cardStateList:e.changeCardState.cardStateList,onHintedCard:e.changeCardState.onHintedCard,wordCompleted:e.changeCardState.wordCompleted}}),(function(e){return{setNewWordTime:function(t){e(function(e){return{type:"SET_NEW_WORD_TIME",time:e}}(t))}}}))(I),O=a(203);function N(e){this.key=e,this.parent=null,this.children={},this.end=!1}function A(){this.root=new N(null)}N.prototype.getWord=function(){for(var e=[],t=this;null!==t;)e.unshift(t.key),t=t.parent;return e.join("")},A.prototype.insert=function(e){for(var t=this.root,a=0;a<e.length;a++)t.children[e[a]]||(t.children[e[a]]=new N(e[a]),t.children[e[a]].parent=t),t=t.children[e[a]],a===e.length-1&&(t.end=!0)},A.prototype.contains=function(e){for(var t=this.root,a=0;a<e.length;a++){if(!t.children[e[a]])return!1;t=t.children[e[a]]}return t.end},A.prototype.find=function(e){for(var t=this.root,a=[],n=0;n<e.length;n++){if(!t.children[e[n]])return a;t=t.children[e[n]]}return function e(t,a){t.end&&a.unshift(t.getWord());for(var n in t.children)e(t.children[n],a)}(t,a),a};var R=function(){function e(t,a,n){var r=this;Object(h.a)(this,e),this.dict=t,this.checkFunction=a,this.buffer="",this.charTrie=new A,this.wordNotInDictAlert=n,Object.values(this.dict).forEach((function(e){r.charTrie.insert(e)}))}return Object(g.a)(e,[{key:"checkInput",value:function(e){if("clearBuffer"!==e)if(this.buffer+=e,this.charTrie.contains(this.buffer))this.checkFunction(this.buffer),this.buffer="";else{var t=this.charTrie.find(this.buffer);Array.isArray(t)&&t.length||(this.wordNotInDictAlert(),this.checkFunction(this.buffer),this.buffer="")}else this.buffer=""}}]),e}(),x={"\u30a2":"a","\u30a4":"i","\u30a6":"u","\u30a8":"e","\u30aa":"o","\u30ab":"ka","\u30ad":"ki","\u30af":"ku","\u30b1":"ke","\u30b3":"ko","\u30b5":"sa","\u30b7":"shi","\u30b9":"su","\u30bb":"se","\u30bd":"so","\u30bf":"ta","\u30c1":"chi","\u30c4":"tsu","\u30c6":"te","\u30c8":"to","\u30ca":"na","\u30cb":"ni","\u30cc":"nu","\u30cd":"ne","\u30ce":"no","\u30cf":"ha","\u30d2":"hi","\u30d5":"fu","\u30d8":"he","\u30db":"ho","\u30de":"ma","\u30df":"mi","\u30e0":"mu","\u30e1":"me","\u30e2":"mo","\u30e4":"ya","\u30e6":"yu","\u30e8":"yo","\u30e9":"ra","\u30ea":"ri","\u30eb":"ru","\u30ec":"re","\u30ed":"ro","\u30ef":"wa","\u30f2":"wo","\u30f3":"n'",clearBuffer:"clearBuffer"},L=["\u30a2","\u30a4","\u30a6","\u30a8","\u30aa","\u30ab","\u30ad","\u30af","\u30b1","\u30b3","\u30b7","\u30b9","\u30bd","\u30bf","\u30c6","\u30c8","\u30ca","\u30cb","\u30cd","\u30cf","\u30d5","\u30db","\u30de","\u30df","\u30e0","\u30e1","\u30e2","\u30e4","\u30e9","\u30ea","\u30eb","\u30ec","\u30ed","\u30c4","\u30ce","\u30d8","\u30e6","\u30d2","\u30bb","\u30cc","\u30c1","\u30e8","\u30b5","\u30ef","\u30f2"],W={"\u30a2":{romaji:"a",imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A2.jpg",shortHint:"Find the capital 'A'"},"\u30a4":{romaji:"i",imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A4.jpg",shortHint:"It looks like an <u>ea</u>gle (i)"},"\u30a6":{romaji:"u",imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A6.jpg",shortHint:"\u30a6 looks like \u3046 (u)"},"\u30a8":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A8.jpg",shortHint:"Imagine this is the girders an <u>e</u>ngineer would use to build buildings"},"\u30aa":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AA.jpg",shortHint:'A dude flapping open his trench coat to flash you. "<u>Oh</u> MY GOD!" you say. '},"\u30ab":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AB.jpg",shortHint:"It looks just like the Hiragana \u304b"},"\u30ad":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AD.jpg",shortHint:"A key (ki)"},"\u30af":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AF.jpg",shortHint:"A long <u>coo</u>ks's (ku) hat"},"\u30b1":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B1.jpg",shortHint:"It looks like the letter <u>K</u> (ke)"},"\u30b3":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B3.jpg",shortHint:"Two 90 degrees <u>co</u>rners (ko)"},"\u30b5":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B5.jpg",shortHint:"Three <u>sa</u>rdines stacked on top of each other"},"\u30b7":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B7.jpg",shortHint:"<u>She</u> has a very werid face (shi)"},"\u30b9":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B9.jpg",shortHint:"A hanger where you hang up your fancy <u>su</u>it (su)"},"\u30bb":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BB.jpg",shortHint:"It looks like the Hiragana \u305b"},"\u30bd":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BD.jpg",shortHint:"One needle and a long thread which you use to <u>sew</u> (so)"},"\u30bf":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BF.jpg",shortHint:"A <u>ti</u>dal wave racing across the sea (ta)"},"\u30c1":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%81.jpg",shortHint:"A <u>chee</u>rleader doing a <u>chee</u>r (chi)"},"\u30c4":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%84.jpg",shortHint:"<u>Two</u> (tsu) needles"},"\u30c6":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%86.jpg",shortHint:"A <u>te</u>lephone pole"},"\u30c8":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%88.jpg",shortHint:"A <u>to</u>tem pole"},"\u30ca":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8A.jpg",shortHint:"A majestic <u>na</u>rwhal"},"\u30cb":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8B.jpg",shortHint:"Two <u>nee</u>dles (ni) laying on their side"},"\u30cc":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8C.jpg",shortHint:"The chopsticks are grabbing onto some <u>noo</u>dles & pulling them out of a bowl. (nu)"},"\u30cd":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8D.jpg",shortHint:"A <u>ne</u>cromancer has summoned this zombie"},"\u30ce":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8E.jpg",shortHint:"A really long <u>no</u>se"},"\u30cf":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8F.jpg",shortHint:"A rice paddy <u>ha</u>t"},"\u30d2":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%92.jpg",shortHint:"<u>He</u> (hi) has no head. <u>He</u> is reaching out to you."},"\u30d5":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%95.jpg",shortHint:"A <u>fu</u>nny looking owl"},"\u30d8":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%98.jpg",shortHint:"This looks like the Hiragana \u3078"},"\u30db":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9B.jpg",shortHint:"A <u>ho</u>ly cross"},"\u30de":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9E.jpg",shortHint:"Look at all those angles! Those lengths! All that <u>ma</u>th!"},"\u30df":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9F.jpg",shortHint:"Three <u>mi</u>ssiles, flying towards you. Be careful!"},"\u30e0":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A0.jpg",shortHint:"It is shaped like a pile of poop. Cow poop. <u>Moo</u>. (mu)"},"\u30e1":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A1.jpg",shortHint:'\u3081 <u>Me</u> is Japnese for "eye"'},"\u30e2":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A2.jpg",shortHint:"This looks like the Hiragana \u3082"},"\u30e4":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A4.jpg",shortHint:"This looks just like the Hiragana \u3084"},"\u30e6":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A6.jpg",shortHint:"You (yu) have a hook for a hand"},"\u30e8":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A8.jpg",shortHint:"A <u>yo</u>gurt containers"},"\u30e9":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A9.jpg",shortHint:"It is a <u>ra</u>ptor wearing sweet ray-ban"},"\u30ea":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AA.jpg",shortHint:"It looks like the Hiragana \u308a"},"\u30eb":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AB.jpg",shortHint:"There are two <u>rou</u>tes (ru) you can take. Route 1 & Route 2."},"\u30ec":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AC.jpg",shortHint:"Look at that beautiful <u>re</u>d hair that <u>Re</u>i has!"},"\u30ed":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AD.jpg",shortHint:"This <u>ro</u>ad goes around in a square, never ending. What a terrible <u>ro</u>ad this is."},"\u30ef":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AF.jpg",shortHint:"You often begin your question with the word <u>wha</u>t (wa). <u>Wha</u>t are you doing?"},"\u30f2":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B2.jpg",shortHint:"A dog <u>wo</u>ofing (wo) so hard its tongue is flying out"},"\u30f3":{imageLink:"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B3.jpg",shortHint:"This guy only has one eye. <u>N</u>oooo!"}},P=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){n.props.user_uid,e.user_uid},n.fillHintedCharacter=function(e){var t=n.props,a=t.onHintedCard,r=t.indexCurrentCard,o=t.romajiList,i=t.onWordCompletion,s=t.currentRomaji,c=t.onInputBoxChange,l=t.onEnterPress,u=t.setCurrentChar,d=t.currentWord;if(a){r===o.length-1&&i(),e.target.value=e.target.value.concat(s),c(e.target.value),l(Date.now());var p=o[r+1];u(d[r+1],p)}},n.checkFunction=function(e){var t=n.props,a=t.romajiList,r=t.indexCurrentCard,o=t.onCorrectChar,i=t.onWrongInput,s=t.onWordCompletion,c=t.currentWord,l=t.setCurrentChar,u=t.onCompleteChar,d=t.getKeyByValue,p=t.updateCharScore,m=t.user_uid,h=t.onHintedCard,g=t.onEnterPress,f=d(x,e);if(e!==a[r]||h)if(e===a[r]&&h){r===a.length-1&&s(),g(Date.now());var E=a[r+1];l(c[r+1],E)}else{i(e,a[r]);var b=d(x,a[r]);p(m,f,"0"),p(m,b,"0"),n.props.requestModuleInfo(n.props.thisApp)}else{p(m,f,"+1"),o(),u(Date.now(),"correct");var C=a[r+1];l(c[r+1],C),r===a.length-1&&s(),console.log("CORRECT!"),n.props.requestModuleInfo(n.props.thisApp)}},n.onKeyDown=function(e){var t=n.props,a=t.onIncorrectCard,r=t.wordCompleted,o=t.romajiList,i=t.indexCurrentCard,s=t.onWordCompletion,c=t.audioIsPlaying,l=t.cardStateList,u=t.disableAllAction,d=t.walkThroughEnabled,p=t.endWalkThrough,m=t.onInputBoxChange,h=e.which,g=l[l.length-1];if(d)if(27===h)p();else if(u)return e.preventDefault();if(c)return e.preventDefault();if(i!==o.length-1||"correct"!==g&&"hinted"!==g||s(),!(h>=65&&h<=90||222===h)||a||r)e.preventDefault(),32===h?n.buttonClickOrSpacePressHandler(e):8===h?n.deleteIncorrectInput(e):13===h&&n.goToNextWord(e);else{var f=222===h?"'":String.fromCharCode(h).toLowerCase();n.props.onKeyPress(f),n.inputChecker.checkInput(f),m(e.target.value)}},n.buttonClickOrSpacePressHandler=function(e){var t=n.props,a=t.onIncorrectCard,r=t.onSpacePress,o=t.onCompleteChar,i=t.wordCompleted,s=t.onHintedCard,c=t.romajiList,l=t.indexCurrentCard,u=t.user_uid,d=t.updateCharScore,p=t.getKeyByValue;if(!t.disableAllAction)if(a)n.deleteIncorrectInput(e);else if(a||s||i)i&&n.goToNextWord(e);else{n.props.requestModuleInfo(n.props.thisApp),r("REQUEST_HINT"),o(Date.now(),"hinted"),d(u,p(x,c[l]),"+0"),n.props.requestModuleInfo(n.props.thisApp),n.clearCurrentInput(e)}},n.clearCurrentInput=function(e){var t=n.props.onInputBoxChange;e.target.value=n.inputChecker.buffer.length?e.target.value.slice(0,-n.inputChecker.buffer.length):e.target.value,t(e.target.value),n.inputChecker.checkInput("clearBuffer")},n.formRef=r.a.createRef(),n.inputChecker=new R(x,n.checkFunction,n.props.alertRomajiNotInDict),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCurrentChar,a=e.romajiList,n=e.indexCurrentCard,r=e.currentWord,o=a[n];t(r[n],o),this.props.setClick(this.buttonClickOrSpacePressHandler),this.props.matchClearFormInputFunction(this.clearInputBox)}},{key:"deleteIncorrectInput",value:function(e){var t=this.props,a=t.onIncorrectCard,n=t.curWrongChar,r=t.onInputBoxChange,o=t.onSpacePress,i=t.resetRomajiNotInDictAlert,s=e.target.value;a?(e.target.value=s.slice(0,-n.length),r(s),o("CONTINUE_AFTER_ERROR"),i()):this.clearCurrentInput(e)}},{key:"clearInputBox",value:function(e){e.target.value=""}},{key:"goToNextWord",value:function(e){var t=this.props,a=t.onSpacePress,n=t.onInputBoxChange,r=t.wordCompleted,o=t.moveToNextWord,i=t.requestedWord,s=t.firstTimeCompleteWordSinceWalkThrough,c=t.thisApp;r&&(s(),o(i,c),a("CONTINUE_AFTER_COMPLETE"),e.target.value="",n(e.target.value))}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement(O.a,{className:"input-box",placeholder:"Your input...",inputProps:{"aria-label":"description"},onKeyDown:this.onKeyDown,spellCheck:!1,autoFocus:!0,inputRef:this.formRef,onPaste:function(e){e.preventDefault()}}))}}]),a}(r.a.Component),_=Object(s.b)((function(e){return{indexCurrentCard:e.changeCardState.indexCurrentCard,romajiList:e.changeCardState.romajiList,cardStateList:e.changeCardState.cardStateList,curWrongChar:e.changeCardState.curWrongChar,onIncorrectCard:e.changeCardState.onIncorrectCard,wordCompleted:e.changeCardState.wordCompleted,onHintedCard:e.changeCardState.onHintedCard,currentRomaji:e.changeCardState.currentRomaji,currentWord:e.changeCardState.currentWord,audioIsPlaying:e.changeGeneralState.audioIsPlaying,inputBox:e.changeInputBox.inputBox}}),(function(e){return{onInputBoxChange:function(t){e({type:"USER_INPUT",payload:t})},onKeyPress:function(t){e(function(e){return{type:"PRESS_KEY",payload:e}}(t))},onCorrectChar:function(){e({type:"INPUT_CORRECT_CHAR"})},onSpacePress:function(t){e(function(e){switch(e){case"REQUEST_HINT":return{type:"SPACE_PRESS_FOR_HINT",time:Date.now()};case"CONTINUE_AFTER_ERROR":return{type:"SPACE_PRESS_TO_CONTINUE",time:Date.now()};case"CONTINUE_AFTER_COMPLETE":return{type:"SPACE_PRESS_TO_GO_NEXT",time:Date.now()};default:return{type:"SPACE_PRESS"}}}(t))},onWrongInput:function(t,a){e(function(e,t){return{type:"WRONG_INPUT",userInput:e,currentChar:t,time:Date.now()}}(t,a))},onCompleteChar:function(t,a){e({type:"COMPLETE_CHAR",time:t,completionType:a})},onEnterPress:function(t){e(function(e){return{type:"ENTER_PRESS",time:e}}(t))},setCurrentChar:function(t,a){e(w(t,a))},updateWord:function(t,a){e(j(t,a))},onWordCompletion:function(){e({type:"COMPLETE_WORD",time:Date.now()})},alertRomajiNotInDict:function(){e({type:"ALERT_NOT_IN_DICT"})},resetRomajiNotInDictAlert:function(){e({type:"RESET_NOT_IN_DICT_ALERT"})}}}),null,{forwardRef:!0})(P),H=a(73),B=a(205),M=a(206),D=a(75),z=a(207),F=a(204),U=(a(142),a(227)),J=a(211),q=a(209),G=a(210),K=a(208),Y=a(104),V=a.n(Y),Z=a(101),$=a.n(Z),Q=a(102),X=a.n(Q),ee=a(100),te=a.n(ee),ae=a(103),ne=a.n(ae),re=Object(F.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}})),oe=function(e){var t=re(),a=e.onRouteChange,n=e.currentTab,o=(e.handleClickWalkthrough,r.a.useState(!1)),i=Object(H.a)(o,2),s=i[0],c=i[1],l=function(){c(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(B.a,{position:"static"},r.a.createElement(M.a,null,r.a.createElement(D.a,{variant:"h6",color:"secondary",className:t.title,align:"left"},r.a.createElement("div",{className:"navbar-title"},"JapanEZ")),r.a.createElement(z.a,{variant:"text",color:"secondary",onClick:function(){c(!0)},startIcon:r.a.createElement(te.a,null)},r.a.createElement("div",{className:"navbar-button-text"},"Help")),r.a.createElement(z.a,{className:"nav-button-home",variant:"home"===n?"outlined":"text",color:"secondary",onClick:function(){return a("home")},startIcon:r.a.createElement($.a,null)},r.a.createElement("div",{className:"navbar-button-text"},"Home")),r.a.createElement("div",{className:"nav-button-chart"},r.a.createElement(z.a,{className:"nav-button-progress",variant:"progress"===n?"outlined":"text",color:"secondary",onClick:function(){return a("progress")},startIcon:r.a.createElement(X.a,null)},r.a.createElement("div",{className:"navbar-button-text"},"Progress")),r.a.createElement(z.a,{className:"nav-button-katakanaChart",variant:"katakanaChart"===n?"outlined":"text",color:"secondary",onClick:function(){return a("katakanaChart")},startIcon:r.a.createElement(ne.a,null)},r.a.createElement("div",{className:"navbar-button-text"},"Katakana"))),r.a.createElement(z.a,{color:"secondary",variant:"signout"===n?"outlined":"text",onClick:function(){return a("signin")},className:"nav-button",startIcon:r.a.createElement(V.a,null)},r.a.createElement("div",{className:"navbar-button-text"},"Signout"))),r.a.createElement(U.a,{open:s,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(K.a,{id:"alert-dialog-title"},"Instruction"),r.a.createElement(q.a,null,r.a.createElement(G.a,{id:"alert-dialog-description"},r.a.createElement("p",null,"Your task is to type the pronunciation of Japanese Katakana characters."),r.a.createElement("p",null,"If you don't know a Japanese character, press SPACE to learn it. But don't abuse this feature! Try to learn the character and type them out. That's the only way you can progress through this app!"),r.a.createElement("p",null,"If you have any issue using the app, go to this link: ",r.a.createElement("a",{style:{color:"black"},href:"https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7"},"https://harvard.az1.qualtrics.com/jfe/form/SV_26xpmT4DEWO35n7")),r.a.createElement("p",null,"Happy learning!"))),r.a.createElement(J.a,null,r.a.createElement(z.a,{onClick:l,color:"primary",autoFocus:!0},"Close")))))},ie=a(212),se=a(215),ce=(a(144),function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={play:!1,audio:new Audio(e.props.audioLink)},e.stopAudioHandler=function(){e.setState({play:!1}),e.props.noStoreUpdateWhenEnded||e.props.onAudioPause()},e.simpleStopAudioHandler=function(){e.setState({play:!1}),e.props.onAudioPause()},e.componentDidUpdate=function(e){},e.togglePlay=function(){e.setState({play:!e.state.play},(function(){e.state.play?(e.state.audio.play(),e.props.onAudioPlay(),e.state.audio.removeEventListener("ended",e.stopAudioHandler),e.state.audio.removeEventListener("ended",e.simpleStopAudioHandler),e.state.audio.addEventListener("ended",e.simpleStopAudioHandler)):(e.state.audio.pause(),e.props.onAudioPause())}))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.bindMethod(this.togglePlay),this.state.audio.addEventListener("ended",this.stopAudioHandler),setTimeout((function(){e.props.autoplay&&(e.state.audio.play(),e.props.onAudioPlay())}),this.props.delay)}},{key:"componentWillUnmount",value:function(){this.state.audio.removeEventListener("ended",this.stopAudioHandler),this.state.audio.removeEventListener("ended",this.simpleStopAudioHandler),this.props.onAudioPause()}},{key:"render",value:function(){return null}}]),a}(r.a.Component)),le=Object(s.b)((function(e){return{audioIsPlaying:e.changeGeneralState.audioIsPlaying}}),(function(e){return{onAudioPlay:function(){e({type:"PLAY_AUDIO"})},onAudioPause:function(){e({type:"PAUSE_AUDIO"})}}}))(ce),ue=a(214),de=(a(145),a(213)),pe=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).audioComponent=r.a.createRef(),n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=x[this.props.currentHintedChar],a=W[this.props.currentHintedChar].shortHint.replace(/<\/?u>/g,",").split(","),n="https://s3.amazonaws.com/media.japanesereading.com/character-sound/kanasound-"+("n'"===t?"n":t)+".mp3";return r.a.createElement(ie.a,{className:"hint-card",onClick:this.onClickHandler},r.a.createElement(de.a,{onClick:function(){return e.triggerAudioComponent()}},r.a.createElement(le,{audioLink:n,delay:0,noStoreUpdateWhenEnded:!1,autoplay:this.props.autoplayAudio,bindMethod:function(t){return e.triggerAudioComponent=t}}),r.a.createElement("div",{className:"hint-card-content"},r.a.createElement("h3",{className:"hint-card-romaji"},t),r.a.createElement(ue.a,null),r.a.createElement("div",{className:"image-div"},r.a.createElement("img",{src:"".concat(W[this.props.currentHintedChar].imageLink),className:"hint-card-image",alt:"Hint Card"})),r.a.createElement(se.a,{style:{paddingTop:0,paddingBottom:0}},r.a.createElement(D.a,{variant:"body2",component:"p"},r.a.createElement("div",{className:"hint-text"},a[0],r.a.createElement("u",null,a[1]),a[2]))))))}}]),a}(r.a.Component),me=a(110),he=a(222),ge=a(228),fe=a(225),Ee=a(45),be=a(218),Ce=a(224),ve=a(219),ye=a(217),Se=a(4),ke=(a(89),a(146),function(e){var t=e.title,a=e.description,n=e.icon;return r.a.createElement("div",{className:"text-block"},n,r.a.createElement("h3",null,t),r.a.createElement("div",null,a))}),we=a(216),je=(a(147),function(e){return r.a.createElement("div",null,r.a.createElement(U.a,{open:e.isOpen,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(q.a,null,r.a.createElement("div",{className:"loading-circle"},r.a.createElement(we.a,null)),r.a.createElement("div",{className:"loading-text"},"Loading"))))}),Ie=a(69),Te=a.n(Ie),Oe=(a(71),a(70)),Ne=a.n(Oe),Ae=a(72),Re=a.n(Ae),xe=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onEmailInput=function(e){n.setState({signInEmail:e.target.value,emailErrorMsg:""})},n.onPasswordInput=function(e){n.setState({signInPassword:e.target.value,passwordErrorMsg:""})},n.sendSigninInfoToBackend=function(){var e=n.state,t=e.signInEmail,a=e.signInPassword;n.setState({openLoadingPopup:!0}),fetch(v,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then((function(e){return e.json()})).then((function(e){n.setState({openLoadingPopup:!1}),4===Object.keys(e).length?(n.props.loadUser(e),n.props.onRouteChange("home"),n.setState({emailErrorMsg:"",passwordErrorMsg:""})):(console.log("Login Failed",e),"email is not yet registered"===e?n.setState({emailErrorMsg:e}):"incorrect password"===e&&n.setState({passwordErrorMsg:e,emailErrorMsg:""}))})).catch((function(e){console.log("Error!",e)}))},n.onSignIn=function(e){e.preventDefault();var t=n.state,a=t.signInEmail,r=t.signInPassword;a?n.setState({emailErrorMsg:""}):n.setState({emailErrorMsg:"please fill out your email"}),r?n.setState({passwordErrorMsg:""}):n.setState({passwordErrorMsg:"please fill out your password"}),a&&r&&n.sendSigninInfoToBackend()},n.state={signInEmail:"",signInPassword:"",emailErrorMsg:"",passwordErrorMsg:"",openLoadingPopup:!1},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:"flex-container"},r.a.createElement(je,{isOpen:this.state.openLoadingPopup}),r.a.createElement("div",{className:"signin-box"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"JapanEZ"),r.a.createElement("p",{className:"subtitle"},"Learn Japanese Katakana in an interactive way ","")),r.a.createElement("div",{className:"signin"},r.a.createElement(me.a,{className:t.paper2,elevation:3},r.a.createElement(ye.a,{component:"main",maxWidth:"xs",className:t.container},r.a.createElement(be.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(D.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Ce.a,{error:this.state.emailErrorMsg,helperText:this.state.emailErrorMsg,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.onEmailInput}),r.a.createElement(Ce.a,{error:this.state.passwordErrorMsg,helperText:this.state.passwordErrorMsg,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onPasswordInput}),r.a.createElement(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.onSignIn,style:{color:"white"}},"Sign In"),r.a.createElement("div",{className:"router"},"Don't have an account? ",r.a.createElement(ve.a,{component:"button",variant:"body2",onClick:function(){return e.props.onRouteChange("register")}},"Register Here")))))))),r.a.createElement("div",{className:"info-panel"},r.a.createElement("div",{className:"info-panel-inner"},r.a.createElement(ke,{icon:r.a.createElement(Te.a,{fontSize:"large"}),title:"Tailored to your learning progress",description:"Either you've just started out or you've been learning for a\r while, the tool helps you master Katakana in an effective way."}),r.a.createElement(ke,{icon:r.a.createElement(Ne.a,{fontSize:"large"}),title:"Built-in mnemonics and smart feedback",description:"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters."}),null,r.a.createElement(ke,{icon:r.a.createElement(Re.a,{fontSize:"large"}),title:"Easily keep track of your progress",description:"You can view your learning progress through interactive and animated visuals and charts."}))))}}]),a}(r.a.Component),Le=Object(Se.a)((function(e){return{container:{fontFamily:"Roboto",backfround:"white"},paper:{marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},paper2:Object(Ee.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(2)),{width:500,height:"auto",marginLeft:"auto",marginRight:"auto"}),form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(xe),We=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onNameInput=function(e){n.setState({name:e.target.value,nameErrorMsg:""})},n.onEmailInput=function(e){n.setState({email:e.target.value,emailErrorMsg:""})},n.onPasswordInput=function(e){n.setState({password:e.target.value,passwordErrorMsg:""})},n.sendFormDataToBackEnd=function(){var e=n.state,t=e.name,a=e.email,r=e.password;n.setState({openLoadingPopup:!0}),fetch(C,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,password:r})}).then((function(e){return e.json()})).then((function(e){n.setState({openLoadingPopup:!1}),4===Object.keys(e).length?(n.setState({emailErrorMsg:""}),n.props.loadUser(e),n.props.onRouteChange("home")):n.setState({emailErrorMsg:e})})).catch((function(e){console.log("Error!",e)}))},n.onFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,r=t.email,o=t.password;a?n.setState({nameErrorMsg:""}):n.setState({nameErrorMsg:"please fill out your name"}),r?n.setState({emailErrorMsg:""}):n.setState({emailErrorMsg:"please fill out your email"}),o?n.setState({passwordErrorMsg:""}):n.setState({passwordErrorMsg:"please fill out your password"}),n.validateEmail(r)?(n.setState({emailErrorMsg:""}),a&&o&&r&&n.sendFormDataToBackEnd()):n.setState({emailErrorMsg:"please enter a valid email address"})},n.state={name:"",email:"",password:"",nameError:!1,emailError:!1,passwordError:!1,nameErrorMsg:"",emailErrorMsg:"",passwordErrorMsg:"",openLoadingPopup:!1},n}return Object(g.a)(a,[{key:"validateEmail",value:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}},{key:"render",value:function(){var e=this;console.log("IS THIS RENDERING?");var t=this.props.classes,a=this.state,n=a.nameErrorMsg,o=a.emailErrorMsg,i=a.passwordErrorMsg;return r.a.createElement("div",{className:"flex-container"},r.a.createElement(je,{isOpen:this.state.openLoadingPopup}),r.a.createElement("div",{className:"signin-box"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"JapanEZ"),r.a.createElement("p",{className:"subtitle"},"Learn Japanese Katakana in an interactive way ","")),r.a.createElement("div",{className:"signin"},r.a.createElement(me.a,{className:t.paper2},r.a.createElement(ye.a,{component:"main",maxWidth:"xs",className:t.container},r.a.createElement(be.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(D.a,{component:"h1",variant:"h5"},r.a.createElement("div",{className:"form-title"},"Register")),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(Ce.a,{error:n,helperText:n,variant:"outlined",id:"name",label:"Your Name",fullWidth:!0,onChange:this.onNameInput}),r.a.createElement(Ce.a,{error:o,helperText:o,variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.onEmailInput}),r.a.createElement(Ce.a,{error:i,helperText:i,variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.onPasswordInput}),r.a.createElement(z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.onFormSubmit,style:{color:"#ffffff"}},"Get started"),r.a.createElement("div",{className:"router"},"Already registered? ",r.a.createElement(ve.a,{component:"button",variant:"body2",onClick:function(){return e.props.onRouteChange("signin")}},"Sign In")))))))),r.a.createElement("div",{className:"info-panel"},r.a.createElement("div",{className:"info-panel-inner"},r.a.createElement(ke,{icon:r.a.createElement(Te.a,{fontSize:"large"}),title:"Tailored to your learning progress",description:"Either you've just started out or you've been learning for a\r while, the tool helps you master Katakana in an effective way."}),r.a.createElement(ke,{icon:r.a.createElement(Ne.a,{fontSize:"large"}),title:"Built-in mnemonics and smart feedback",description:"Receive contextual feedback as you progress through the app. Use humourous illustrations and mnemonics to help you memorize characters."}),null,r.a.createElement(ke,{icon:r.a.createElement(Re.a,{fontSize:"large"}),title:"Easily keep track of your progress",description:"You can view your learning progress through interactive and animated visuals and charts."}))))}}]),a}(r.a.Component),Pe=Object(Se.a)((function(e){return{container:{fontFamily:"Roboto",backfround:"white"},paper:{marginTop:e.spacing(5),display:"flex",flexDirection:"column",alignItems:"center"},paper2:Object(Ee.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(1)},e.breakpoints.up(600+2*e.spacing(2)),{width:500,height:"auto",marginLeft:"auto",marginRight:"auto"}),form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(We),_e=(a(148),Object(F.a)({root:{minWidth:275},title:{fontSize:14},pos:{marginBottom:12}}));function He(e){var t=e.wordInfo,a=_e();document.createElement("html").innerHTML="<b>bolded text</b>";var n=null,o=null;return Object.keys(t).includes("word")?(t.word,n=t.meaning,o=t.part_of_speech):(t.vocab_kana,n=t.vocab_meaning,o=t.vocab_pos),o.includes("&")&&(o=o.replace(/&/g," & ")),o.includes("suru-Verb")&&(o=o.replace(/suru-Verb/g,"Verb")),o.includes("na-Adj")&&(o=o.replace(/na-Adj/g,"Adj")),r.a.createElement(ie.a,{className:"".concat(a.root," word-card ")},r.a.createElement(se.a,null,r.a.createElement(D.a,{className:"".concat(a.title),color:"textSecondary",gutterBottom:!0},r.a.createElement("div",{className:"wordcard-subtext subtext-meaning"},"Word Meaning")),r.a.createElement("h3",{className:"bolded-style"},n),r.a.createElement(ue.a,{style:{marginTop:"calc(5px + 0.5vh)"}}),r.a.createElement(D.a,{className:a.title,color:"textSecondary",gutterBottom:!0},r.a.createElement("div",{className:"wordcard-subtext subtext-pos"},"Part of Speech")),r.a.createElement(D.a,{variant:"h3",component:"h4"},r.a.createElement("div",{className:"wordcard-pos"},o))))}var Be=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){document.addEventListener("mousedown",e.handleClickOutside)},e.componentWillUnmount=function(){document.removeEventListener("mousedown",e.handleClickOutside)},e.setWrapperRef=function(t){e.wrapperRef=t},e.handleClickOutside=function(t){e.wrapperRef&&!e.wrapperRef.contains(t.target)&&setTimeout((function(){e.props.focusInputBox()}),0)},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),a}(r.a.Component),Me=(a(149),function(){return r.a.createElement("div",{className:"main-footer"},r.a.createElement("div",null,r.a.createElement("p",null,"Mnemonics taken from ",r.a.createElement("a",{href:"https://www.tofugu.com/japanese/learn-katakana/"},"tofugu.com")),null),r.a.createElement("hr",null),r.a.createElement("div",{className:"copyright"},r.a.createElement("small",null,"Copyright \xa9 2020 Tuan Le, Lien Tran. All Rights Reserved.")))}),De=(a(150),a(105)),ze=a.n(De),Fe=Object(F.a)({messageText:{fontSize:"calc(10px + 1vh)",textAlign:"center",margin:"0 auto"},messageAnimation:{borderRight:"2px solid rgba(255, 255, 255, 0.75)",whiteSpace:"nowrap",overflow:"hidden",animation:"$typewriter 4s steps(100) 0s 1 normal both,\n      $blinkTextCursor 1s steps(100) infinite normal",maxWidth:function(e){return"".concat(Ue(e.message),"em")}},"@keyframes typewriter":{from:{width:"0"},to:{width:"100%"}},"@keyframes blinkTextCursor":{"0%":{borderRightColor:"#1cb0f6"},"49%":{borderRightColor:"#1cb0f6"},"50%":{borderRightColor:"transparent"}}}),Ue=function(e){var t=e.length/2.29;return e.includes("mnemonic")?t+=.75:e.includes("corresponds")?t+=1.1:e.includes("exist")?t-=.2:e.includes("Press spacebar again")?t+=.8:e.includes("stuck")?t-=.2:e.includes("!")&&(t+=.5),t},Je=function(e){var t=Fe(e);return r.a.createElement("div",{className:"container",style:{color:"#5D5D5D"}},r.a.createElement(me.a,{elevation:0}),r.a.createElement("div",{className:"welcome-text"},e.displayHelpMessages?r.a.createElement("p",{className:"".concat(t.messageText),key:ze.a.generate()},e.message):r.a.createElement("p",{className:"".concat(t.messageText)},"Welcome, ".concat(e.userName,"."))))},qe=(a(90),a(229)),Ge=a(220),Ke=Object(F.a)((function(e){return{typography:{padding:e.spacing(2)},cardBG:{background:function(e){return 0===e.correctPercent&&0===e.hintedPercent?"#d6d6d6":"linear-gradient(0deg, green 0% ".concat(e.correctPercent,"%, #f2b50c ").concat(e.correctPercent,"% ").concat(e.hintedPercent,"%)")}}}}));var Ye=function(e){var t=e.char,a=e.correctNum,n=e.hintedNum,o=e.isLoading,i=Ke(e),s=r.a.useState(null),c=Object(H.a)(s,2),l=c[0],u=c[1],d=Boolean(l),p=d?"simple-popover":void 0;return r.a.createElement("div",null,o?r.a.createElement(Ge.a,{variant:"wave",width:75,height:80,style:{borderRadius:"15px"}}):r.a.createElement("div",null,r.a.createElement("div",{className:"noselect flipcard",id:p,onClick:function(e){u(e.currentTarget)}},r.a.createElement("div",{className:"flipcard-content"},r.a.createElement("div",{className:"flipcard-front ".concat(i.cardBG)},r.a.createElement("span",null,r.a.createElement("b",null,t))),r.a.createElement("div",{className:"flipcard-back"},r.a.createElement("p",null,a," ",r.a.createElement("span",{className:"dot correct-color"})),r.a.createElement("p",null,n," ",r.a.createElement("span",{className:"dot hinted-color"}))))),r.a.createElement(qe.a,{id:p,open:d,anchorEl:l,onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(D.a,{className:i.typography},"".concat(a," correct, ").concat(n," hinted")))))},Ve=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).requestGetCharScore=function(){fetch(y,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_uid:n.props.user_uid})}).then((function(e){return e.json()})).then((function(e){n.setState({charResultList:e})})).catch((function(e){console.log("Error in getting characters' familiarity",e)}))},n.componentDidMount=function(){n.requestGetCharScore()},n.computeCorrectPercentage=function(e){var t=0;return 0===e.length?-1:(e.forEach((function(e){"correct"===e&&(t+=1)})),Math.round(t/e.length*100))},n.computeCorrectNum=function(e){return 0===e.length?0:e.reduce((function(e,t){return"correct"===t&&(e+=1),e}),0)},n.state={charResultList:{}},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=null;return t=0===Object.keys(this.state.charResultList).length?L.map((function(e,t){return r.a.createElement(k.a,{item:!0,key:t},r.a.createElement(Ye,{char:e,key:t,hintedPercent:0,correctPercent:0,correctNum:0,hintedNum:0,isLoading:!0}))})):L.map((function(t,a){if("clearBuffer"!==t){var n=0,o=0,i=e.computeCorrectNum(e.state.charResultList[t]),s=e.state.charResultList[t].length-i;return Object.keys(e.state.charResultList).length>0&&(o=100-(n=e.computeCorrectPercentage(e.state.charResultList[t])),-1===n&&(n=0,o=0)),r.a.createElement(k.a,{item:!0,key:a},r.a.createElement(Ye,{char:t,key:a,hintedPercent:o,correctPercent:n,correctNum:i,hintedNum:s,isLoading:!1}))}return null})),r.a.createElement("div",{className:"characters-list"},r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:"2"},t))}}]),a}(r.a.Component),Ze=(a(91),Object(F.a)((function(e){return{cardBG:{background:function(e){return e.isEncountered?"#1cb0f6":"#d6d6d6"}}}}))),$e=function(e){var t=e.char,a=e.isLoading,n=Ze(e);return r.a.createElement("div",null,a?r.a.createElement(Ge.a,{variant:"wave",width:75,height:80,style:{borderRadius:"15px"}}):r.a.createElement("div",null,r.a.createElement("div",{className:"noselect flipcard2"},r.a.createElement("div",{className:"flipcard-content2"},r.a.createElement("div",{className:"flipcard-front2 ".concat(n.cardBG)},r.a.createElement("span",null,r.a.createElement("b",null,t))),r.a.createElement("div",{className:"flipcard-back2 ".concat(n.cardBG)},r.a.createElement("span",null,r.a.createElement("b",null,x[t])))))))},Qe=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).requestGetCharScore=function(){fetch(y,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_uid:n.props.user_uid})}).then((function(e){return e.json()})).then((function(e){n.setState({charResultList:e})})).catch((function(e){console.log("Error in fetching data about characters' familiarity",e)}))},n.componentDidMount=function(){n.requestGetCharScore()},n.state={charResultList:{},isLoading:!1},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t=null,a=null;return t=0===Object.keys(this.state.charResultList).length?L.map((function(e,t){return r.a.createElement(k.a,{item:!0,key:t},r.a.createElement($e,{char:e,key:t,isEncountered:!1,isLoading:!0}))})):L.map((function(t,n){return a=e.state.charResultList[t].filter((function(e){return"incorrect"!==e})),r.a.createElement(k.a,{item:!0,key:n},r.a.createElement($e,{char:t,key:n,isEncountered:a.length>0,isLoading:!1}))})),r.a.createElement("div",{className:"characters-list"},r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:"2"},t))}}]),a}(r.a.Component),Xe=a(221),et=Object(F.a)({root:{width:"100%"}});function tt(e){var t=et(),a=e.moduleInfo,n=null,o=null;a&&(n=a.totalRepetition/2,o=a.totalRemainingRepetition);var i,s=((i=n)-o)/i*100;return r.a.createElement("div",{className:t.root},r.a.createElement(Xe.a,{variant:"determinate",value:s}))}var at,nt=["Great job!","You're a pro!","You're getting better!","You're getting good at this!","You're getting good!","Well done!","Nicely done!","Good job!"],rt=["Nice!","Good!","Awesome!","Well done!","Great!","Good job!","Correct!"],ot=[{intro:(at=2,1===at?"Welcome! Your challenging is to type out the pronunciation of Japanese words.":"Welcome! Your challenging is to type out the pronunciation of Japanese characters.")},{intro:"If you don't know a Japanese character, simply press SPACEBAR to learn them."}],it=[{intro:"Welcome to the walkthrough! Click next to continue.",position:"left"},{element:".inputbox-and-word",intro:"Your challenge is to type out the pronunciation of the word. But not yet!",position:"left"},{element:".main-button",intro:"Click this button to see the pronunciation of the highlighted character.",position:"left"}],st=[{element:".hint-card",intro:"A character card pops up! You can click on it to play the audio.",position:"left"},{element:".main-button",intro:"Click this button again to move on",position:"left"}],ct=[{element:".inputbox-div",intro:"Notice that the character is automatically filled out for you.",position:"left"},{element:".japanese-word",intro:"The next character is now highlighted. ",position:"left"},{element:".main-area",intro:"Can you try to finish the rest? Keep clicking the button if you don't know the character.",position:"left"}],lt=[{intro:"Now you know the general flow of the webapp. Just one last thing: You can press spacebar instead of clicking the button.",position:"left"},{element:".nav-button-home",intro:"You are currently on the 'Home' tab.",position:"bottom"},{element:".nav-button-chart",intro:"These two tabs show your progress.",position:"bottom"},{element:".nav-button-walkthrough",intro:"Click this tab anytime to replay this walkthrough.",position:"bottom"}],ut=a(106),dt=function(e){var t,a=[],n=Object(ut.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=x[r]||"??";a.push({char:r,romaji:o})}}catch(i){n.e(i)}finally{n.f()}return a},pt=function(e,t,a){fetch("https://shrouded-harbor-11572.herokuapp.com/updatecharscore",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_uid:e,char:t,score:a})}).then((function(e){return e.json()})).then((function(){})).catch((function(e){console.log("Failed to update char score",e)}))},mt=function(e){fetch("https://shrouded-harbor-11572.herokuapp.com/getmoduleinfo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.state.userInfo.id,version:"2"})}).then((function(e){return e.json()})).then((function(t){e.setState({moduleInfo:t})})).catch((function(e){console.log("Error in requestModuleInfo: ".concat(e))}))},ht=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState({clickedJapChar:""}),t.setState({isFetchingWord:!0}),t.setState({wordRequestTimeStamp:Date.now()}),fetch("https://shrouded-harbor-11572.herokuapp.com/getnextword",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_uid:t.state.userInfo.id})}).then((function(e){return e.json()})).then((function(a){"END GAME"===a&&t.setState({openEndDialogue:!0}),t.setState({isFetchingWord:!1}),t.setState({requestedWord:a}),e()})).catch((function(e){console.log("Error in getting next word",e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setState({clickedJapChar:""}),t.setState({isFetchingWord:!0}),t.setState({wordRequestTimeStamp:Date.now()}),fetch("https://shrouded-harbor-11572.herokuapp.com/getnextchar",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_uid:t.state.userInfo.id})}).then((function(e){return e.json()})).then((function(a){t.setState({isFetchingWord:!1}),t.setState({requestedWord:a}),e()})).catch((function(e){console.log("Error in getting next char",e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.props.version){e.next=4;break}return e.abrupt("return",ht(t));case 4:if(2!==t.props.version){e.next=8;break}return e.abrupt("return",gt(t));case 8:console.log("version should either be 1 or 2");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r,o,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,r=n.setCurrentChar,o=n.updateWord,i=[],a.requestModuleInfo(a),Object.keys(t).includes("word")?(i=dt(t.word).map((function(e){return e.romaji})),o(t.word,i),r(t.word.charAt(0),i[0])):(i=dt(t.vocab_kana).map((function(e){return e.romaji})),o(t.vocab_kana,i),r(t.vocab_kana.charAt(0),i[0]),s="".concat("https://s3.amazonaws.com/media.japanesereading.com/word-sound/").concat((c=t.vocab_sound_local).slice(7,c.length-1)),new Audio(s).on("loadedmetadata",(function(e){a.setState({word_audio_duration:e.target.duration})}))),a.setState({currentWordInfo:t}),a.setState({currentWord_unix_time:Date.now()});case 6:case"end":return e.stop()}var c}),e)})));return function(t,a){return e.apply(this,arguments)}}(),bt=function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,r=n.setCurrentChar,o=n.updateWord,r(t,x[t]),o(t,[x[t]]),a.setState({currentWordInfo:t}),a.setState({currentWord_unix_time:Date.now()}),a.requestModuleInfo(a);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(p.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===a.props.version?Et(t,a):2===a.props.version?bt(t,a):console.log("version should either be 1 or 2");case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=a(50),yt=a.n(vt),St=(a(159),a(51));yt.a.init("zskhtw/japanese-learning");var kt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.props.resetStore(),n.requestAndUpdateWord(),n.requestModuleInfo(Object(f.a)(n))},n.componentDidUpdate=function(e,t){"home"===n.state.route&&"register"===t.route&&(n.setState({walkThroughEnabled:!1}),n.setState({steps1Enabled:!0}),n.setState({steps2Enabled:!1}),n.setState({steps3Enabled:!1}),n.setState({steps4Enabled:!1}),n.setState({firstIntroductionEnabled:!0}),n.requestModuleInfo(Object(f.a)(n))),n.state.userInfo.id!==t.userInfo.id&&(n.props.resetStore(),n.requestAndUpdateWord(),n.requestModuleInfo(Object(f.a)(n))),n.props.wordCompleted&&n.props.wordCompleted!==e.wordCompleted&&n.requestNewWord(Object(f.a)(n)),"home"===n.state.route&&setTimeout((function(){n.setState({openEndDialogue:!0})}),18e5),n.state.steps1Enabled!==t.steps1Enabled||n.state.transitionedFromSteps1ToSteps2||null!==n.hintCardRef.current&&(n.setState({steps1Enabled:!1}),n.setState({steps2Enabled:!0}),n.setState({transitionedFromSteps1ToSteps2:!0})),n.state.steps2Enabled===t.steps2Enabled&&!n.state.transitionedFromSteps2ToSteps3&&n.state.transitionedFromSteps1ToSteps2&&null===n.hintCardRef.current&&(n.setState({steps2Enabled:!1}),n.setState({steps3Enabled:!0}),n.setState({transitionedFromSteps2ToSteps3:!0})),n.state.steps3Enabled===t.steps3Enabled&&!n.state.transitionedFromSteps3ToSteps4&&n.state.transitionedFromSteps1ToSteps2&&n.state.transitionedFromSteps2ToSteps3&&n.state.firstTimeCompleteWordSinceWalkThru&&null===n.wordCardRef.current&&(n.setState({steps3Enabled:!1}),n.setState({steps4Enabled:!0}),n.setState({transitionedFromSteps3ToSteps4:!0}),n.setState({firstTimeCompleteWordSinceWalkThru:!1}))},n.loadUser=function(e){var t=e.user_uid,a=e.name,r=e.email,o=e.joined;n.setState((function(e){var n=Object(m.a)({},e.userInfo);return n.name=a,n.id=t,n.email=r,n.joined=o,{userInfo:n}})),n.props.loadUserToStore(e),yt.a.identify(t,{name:a,email:r,joined:o}),console.log("userInfo",n.state.userInfo)},n.onRouteChange=function(e){n.setState({route:e})},n.updateCharScore=pt,n.requestModuleInfo=mt,n.requestNewWord=ft,n.moveToNextWord=Ct,n.requestAndUpdateWord=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.requestNewWord(Object(f.a)(n));case 2:n.moveToNextWord(n.state.requestedWord,Object(f.a)(n));case 3:case"end":return e.stop()}}),e)}))),n.focusInputBox=function(){n.charInputRef.current.formRef.current.focus()},n.onClickCard=function(e){var t=e.target.innerText;n.setState({clickedJapChar:t}),n.state.clickedJapChar===t&&n.setState({clickedJapChar:""})},n.showHint=function(){return n.props.wordCompleted&&n.state.clickedJapChar?r.a.createElement(k.a,{item:!0},r.a.createElement(me.a,{elevation:1}),r.a.createElement(pe,{currentHintedChar:n.state.clickedJapChar,autoplayAudio:n.state.checkedAudioAutoPlay,ref:n.hintCardRef})):n.props.onHintedCard?r.a.createElement(k.a,{item:!0},r.a.createElement(me.a,{elevation:1}),r.a.createElement(pe,{currentHintedChar:n.props.currentJapChar,autoplayAudio:n.state.checkedAudioAutoPlay,ref:n.hintCardRef})):void 0},n.displayWordInfo=function(){return n.props.wordCompleted&&1===n.props.version?r.a.createElement(k.a,{item:!0},r.a.createElement(He,{wordInfo:n.state.currentWordInfo,word_audio_duration:n.state.word_audio_duration,autoplayAudio:n.state.checkedAudioAutoPlay,ref:n.wordCardRef})):null},n.getKeyByValue=function(e,t){return Object.keys(e).find((function(a){return e[a]===t}))},n.randomItem=function(e){return e[Math.floor(Math.random()*e.length)]},n.displayMessage=function(){var e=n.props,t=e.onIncorrectCard,a=e.onHintedCard,r=e.curWrongChar,o=e.wordCompleted,i=e.audioIsPlaying,s=e.romajiNotInDict,c=e.currentJapChar,l=e.cardStateList,u=e.indexCurrentCard,d=e.wrongCharList,p=e.romajiList;if(n.state.walkThroughEnabled)return"...";if(i)return"Playing audio...";if(t)return s?"".concat(r," does not exist in the Japanese alphabet. Delete your input and try again."):"".concat(r," corresponds to ").concat(n.getKeyByValue(x,r),", not ").concat(c,". Delete your input and try again.");if(a)return"Type the character.";if(p[u]in d)return"Press spacebar if you're stuck.";if(u>0&&u<l.length&&"correct"===l[u-1])return n.randomItem(rt);if(o&&!i){var m=new Set(l);return 1===m.size&&m.has("correct")?"".concat(n.randomItem(nt)," Press spacebar to continue."):"Click on ".concat(1===n.props.version?"a":"the"," character or press spacebar to continue.")}return"Press spacebar if you're stuck."},n.setButtonText=function(){var e=n.props,t=e.onIncorrectCard,a=e.onHintedCard,r=e.wordCompleted,o=e.audioIsPlaying,i=e.currentJapChar;return t?"Try Again":a&&!o?"Got it":r&&!o?"Next Word":a||r?"":"LEARN ".concat(i)},n.displayLoadingPopup=function(){setTimeout((function(){return n.state.isFetchingWord}),1e3)},n.handleAudioAutoplaySwitch=function(e){n.setState({checkedAudioAutoPlay:!n.state.checkedAudioAutoPlay})},n.handleEnableMessageSwitch=function(){n.setState({checkedEnableMessage:!n.state.checkedEnableMessage})},n.handleEnableBlueButtonSwitch=function(){n.setState({checkedEnableBlueButton:!n.state.checkedEnableBlueButton})},n.onExitIntroduction=function(){n.setState({firstIntroductionEnabled:!1})},n.onExitIntro1=function(){n.setState({steps1Enabled:!1}),n.setState({disableAllAction:!1}),n.setState({checkedEnableMessage:!0})},n.onExitIntro2=function(){n.setState({steps2Enabled:!1}),n.setState({disableAllAction:!1})},n.onExitIntro3=function(){n.setState({steps3Enabled:!1}),n.setState({disableAllAction:!1})},n.onExitIntro4=function(){n.setState({steps4Enabled:!1}),n.setState({disableAllAction:!1}),n.setState({walkThroughEnabled:!1})},n.handleClickWalkthrough=function(){n.clearFormInput(n.charInputRef.current.formRef.current),n.setState({steps1Enabled:!0}),n.setState({steps2Enabled:!1}),n.setState({steps3Enabled:!1}),n.setState({steps4Enabled:!1}),n.setState({transitionedFromSteps1ToSteps2:!1}),n.setState({transitionedFromSteps2ToSteps3:!1}),n.setState({transitionedFromSteps3ToSteps4:!1}),n.setState({walkThroughEnabled:!0}),n.setState({checkedEnableBlueButton:!0}),n.setState({firstIntroductionEnabled:!1}),n.props.resetStore(),n.requestAndUpdateWord()},n.endWalkThrough=function(){n.clearFormInput(n.charInputRef.current.formRef.current),n.setState({steps1Enabled:!1}),n.setState({steps2Enabled:!1}),n.setState({steps3Enabled:!1}),n.setState({steps4Enabled:!1}),n.setState({transitionedFromSteps1ToSteps2:!1}),n.setState({transitionedFromSteps2ToSteps3:!1}),n.setState({transitionedFromSteps3ToSteps4:!1}),n.setState({walkThroughEnabled:!1}),n.setState({checkedEnableBlueButton:!0}),n.props.resetStore(),n.requestAndUpdateWord()},n.onBeforeChange1=function(e){if(e&&n.steps1.updateStepElement(e),4===e){if(!n.hintCardRef.current)return!1;n.steps1.updateStepElement(e)}},n.onBeforeChange2=function(e){if(e&&n.steps2.updateStepElement(e),3===e){if(null!==n.hintCardRef.current)return!1;n.steps2.updateStepElement(e)}},n.onBeforeChange3=function(e){if(e&&n.steps3.updateStepElement(e),3===e){if(null!==n.wordCardRef.current)return!1;n.steps3.updateStepElement(e)}},n.onBeforeChange4=function(e){e&&n.steps4.updateStepElement(e)},n.onChangeInSteps=function(e){return function(t,a){t!==e?n.setState({disableAllAction:!0}):n.setState({disableAllAction:!1})}},n.firstTimeCompleteWordSinceWalkThrough=function(){n.setState({firstTimeCompleteWordSinceWalkThru:!0})},n.renderRoute=function(e){switch(e){case"progress":return r.a.createElement("div",{className:"progress-flex-container"},r.a.createElement("div",{className:"progress-flex-item1"},r.a.createElement(oe,{onRouteChange:n.onRouteChange,currentTab:"progress"})),r.a.createElement("div",{className:"progress-flex-item2"},r.a.createElement(Ve,{user_uid:n.state.userInfo.id})),r.a.createElement(Me,null));case"katakanaChart":return r.a.createElement("div",{className:"progress-flex-container"},r.a.createElement("div",{className:"progress-flex-item1"},r.a.createElement(oe,{onRouteChange:n.onRouteChange,currentTab:"katakanaChart"})),r.a.createElement("div",{className:"progress-flex-item2"},r.a.createElement(Qe,{user_uid:n.state.userInfo.id})),r.a.createElement(Me,null));case"signin":return r.a.createElement(Le,{onRouteChange:n.onRouteChange,loadUser:n.loadUser});case"register":return r.a.createElement(Pe,{onRouteChange:n.onRouteChange,loadUser:n.loadUser});case"home":var t=n.props.currentWord,a=n.state,o=a.steps1Enabled,i=a.steps2Enabled,s=a.steps3Enabled,c=a.steps4Enabled,l=a.steps1,u=a.steps2,d=a.steps3,p=a.steps4,m=a.initialStep,h={showStepNumbers:!1,hidePrev:!0,hideNext:!0,exitOnOverlayClick:!1,exitOnEsc:!1,showButtons:!0,overlayOpacity:.5,skipLabel:"Skip",doneLabel:"Got it!"};return r.a.createElement("div",{className:"page-container",style:{position:"relative"}},r.a.createElement(je,{isOpen:n.displayLoadingPopup()}),r.a.createElement(St.Steps,{enabled:n.state.firstIntroductionEnabled,steps:n.state.introductory_steps,initialStep:m,onExit:n.onExitIntroduction,options:h,ref:function(e){return n.introductory_steps=e}}),r.a.createElement(St.Steps,{enabled:o&&n.state.walkThroughEnabled,steps:l,initialStep:m,onExit:n.onExitIntroduction,options:h,ref:function(e){return n.steps1=e},onBeforeChange:n.onBeforeChange1,onChange:n.onChangeInSteps(2)}),r.a.createElement(St.Steps,{enabled:i&&n.state.walkThroughEnabled,steps:u,initialStep:m,onExit:n.onExitIntro2,options:h,ref:function(e){return n.steps2=e},onBeforeChange:n.onBeforeChange2,onChange:n.onChangeInSteps(1)}),r.a.createElement(St.Steps,{enabled:s&&n.state.walkThroughEnabled,steps:d,initialStep:m,onExit:n.onExitIntro3,options:h,ref:function(e){return n.steps3=e},onBeforeChange:n.onBeforeChange3,onChange:n.onChangeInSteps(2)}),r.a.createElement(St.Steps,{enabled:c&&n.state.walkThroughEnabled,steps:p,initialStep:m,onExit:n.onExitIntro4,options:h,ref:function(e){return n.steps4=e},onBeforeChange:n.onBeforeChange4}),r.a.createElement(U.a,{open:n.state.openEndDialogue,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(K.a,{id:"alert-dialog-title"},"Time's Up!"),r.a.createElement(q.a,null,r.a.createElement(G.a,{id:"alert-dialog-description"},r.a.createElement("p",null,"You have used the app for ".concat(30," minute. Please click the link\n                    below to take a short test that will assess your Katakana\n                    knowledge. Thank you for using the app!")),r.a.createElement("a",{href:"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj",className:"survey-link"},"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj")))),r.a.createElement("div",{className:"content-wrap"},r.a.createElement(oe,{onRouteChange:n.onRouteChange,currentTab:"home",handleClickWalkthrough:n.handleClickWalkthrough}),r.a.createElement("div",{className:"message-bar"},r.a.createElement(Je,{userName:n.state.userInfo.name,message:n.displayMessage(),displayHelpMessages:n.state.checkedEnableMessage})),r.a.createElement(he.a,{className:"audio-control switch-control",label:"Autoplay Audio",labelPlacement:"start",control:r.a.createElement(ge.a,{checked:n.state.checkedAudioAutoPlay,onChange:n.handleAudioAutoplaySwitch,name:"autoplay-audio",color:"primary"})}),r.a.createElement(he.a,{className:"message-control switch-control",label:"Help Message",labelPlacement:"start",control:r.a.createElement(ge.a,{checked:n.state.checkedEnableMessage,onChange:n.handleEnableMessageSwitch,name:"enable-message",color:"primary"})}),r.a.createElement(k.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("div",{className:"main-area"},r.a.createElement("div",{className:"inputbox-and-word"},r.a.createElement(k.a,{item:!0,className:"inputbox-div"},r.a.createElement(Be,{focusInputBox:n.focusInputBox},r.a.createElement(_,{updateCharScore:n.updateCharScore,getKeyByValue:n.getKeyByValue,user_uid:n.state.userInfo.id,ref:n.charInputRef,setClick:function(e){return n.clickChild=e},matchClearFormInputFunction:function(e){return n.clearFormInput=e},disableAllAction:n.state.disableAllAction,endWalkThrough:n.endWalkThrough,walkThroughEnabled:n.state.walkThroughEnabled,moveToNextWord:n.moveToNextWord,requestedWord:n.state.requestedWord,firstTimeCompleteWordSinceWalkThrough:n.firstTimeCompleteWordSinceWalkThrough,requestModuleInfo:n.requestModuleInfo,thisApp:Object(f.a)(n)}))),r.a.createElement(k.a,{item:!0,className:"japanese-word-area"},r.a.createElement(T,{charsToRead:dt(t),onClickCard:n.onClickCard,clickedJapChar:n.state.clickedJapChar})),r.a.createElement("div",{className:"module-level"},"Level ".concat(n.state.moduleInfo?n.state.moduleInfo.moduleIndex:0)),r.a.createElement(k.a,{item:!0},r.a.createElement(fe.a,{className:"progress-bar"},r.a.createElement(tt,{moduleInfo:n.state.moduleInfo})))),n.state.checkedEnableBlueButton?r.a.createElement(k.a,{item:!0},n.props.audioIsPlaying?r.a.createElement(z.a,{className:"main-button",disabled:!0,size:"large",variant:"contained",color:"primary",onClick:function(){return n.clickChild(n.charInputRef.current.formRef.current)},style:{color:"white"}},"Got it"):r.a.createElement(z.a,{className:"main-button",size:"large",variant:"contained",color:"primary",onClick:function(){return n.clickChild(n.charInputRef.current.formRef.current)},style:{color:"white"}},n.setButtonText())):null,r.a.createElement(k.a,{item:!0,className:"card-area"},r.a.createElement(k.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},n.showHint(),n.displayWordInfo()))))),r.a.createElement(Me,null));default:return r.a.createElement("div",null,"Default")}},n.state={route:"home",userInfo:{email:"developer@g.com",joined:"2020-10-26T14:19:40.915Z",name:"Developer",id:"5ab535f5-b0eb-4a9b-98b5-b6b86cd8d328"},requestedWord:"place_holder",currentWordInfo:null,openEndDialogue:!1,isFetchingWord:!1,checkedAudioAutoPlay:!1,checkedEnableMessage:!0,checkedEnableBlueButton:!1,walkThroughEnabled:!1,initialStep:0,steps1Enabled:!1,steps2Enabled:!1,steps3Enabled:!1,steps4Enabled:!1,transitionedFromSteps1ToSteps2:!1,transitionedFromSteps2ToSteps3:!1,transitionedFromSteps3ToSteps5:!1,steps1:it,steps2:st,steps3:ct,steps4:lt,introductory_steps:ot,disableAllAction:!1,firstTimeCompleteWordSinceWalkThru:!1,firstIntroductionEnabled:!1,moduleInfo:null},n.charInputRef=r.a.createRef(),n.hintCardRef=r.a.createRef(),n.wordCardRef=r.a.createRef(),n}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"tc"},this.renderRoute(this.state.route))}}]),a}(n.Component),wt=Object(s.b)((function(e){return{currentJapChar:e.changeCardState.currentJapChar,onIncorrectCard:e.changeCardState.onIncorrectCard,curWrongChar:e.changeCardState.curWrongChar,onHintedCard:e.changeCardState.onHintedCard,wordCompleted:e.changeCardState.wordCompleted,currentWord:e.changeCardState.currentWord,audioIsPlaying:e.changeGeneralState.audioIsPlaying,romajiNotInDict:e.changeInputBox.romajiNotInDict,cardStateList:e.changeCardState.cardStateList,indexCurrentCard:e.changeCardState.indexCurrentCard,wrongCharList:e.changeCardState.wrongCharList,romajiList:e.changeCardState.romajiList}}),(function(e){return{setCurrentChar:function(t,a){e(w(t,a))},updateWord:function(t,a){e(j(t,a))},resetStore:function(){e({type:"RESET_STORE"})},loadUserToStore:function(t){e(function(e){return{type:"LOAD_USER",payload:e}}(t))}}}))(kt),jt=a(74),It={inputBox:"",keyPressed:"",romajiNotInDict:!1},Tt={audioIsPlaying:!1,userInfo:null},Ot={currentJapChar:"",currentRomaji:"",currentWord:"",curWrongChar:"",hintedCharList:[],wrongCharList:{},onIncorrectCard:!1,onHintedCard:!1,wordCompleted:!1,prevTimestamp:null,charTimestamp:[],allCharTimestamp:[],romajiList:[],indexCurrentCard:0,cardStateList:[]},Nt=a(107),At=a(223);a(162);yt.a.init("zskhtw/japanese-learning");var Rt=Object(Nt.a)({palette:{primary:{main:"#1cb0f6"},secondary:{main:"#ffffff"}},overrides:{MuiButton:{iconSizeMedium:{"& > *:first-child":{fontSize:22}}}}}),xt=Object(c.c)({changeGeneralState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"PLAY_AUDIO":return Object(m.a)(Object(m.a)({},e),{},{audioIsPlaying:!0});case"PAUSE_AUDIO":return Object(m.a)(Object(m.a)({},e),{},{audioIsPlaying:!1});case"LOAD_USER":return Object(m.a)(Object(m.a)({},e),{},{userInfo:t.payload});default:return e}},changeInputBox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_INPUT":return Object(m.a)(Object(m.a)({},e),{},{inputBox:t.payload});case"PRESS_KEY":return Object(m.a)(Object(m.a)({},e),{},{keyPressed:t.payload});case"RESET_STORE":return Object(m.a)(Object(m.a)({},e),{},{inputBox:"",keyPressed:""});case"ALERT_NOT_IN_DICT":return Object(m.a)(Object(m.a)({},e),{},{romajiNotInDict:!0});case"RESET_NOT_IN_DICT_ALERT":return Object(m.a)(Object(m.a)({},e),{},{romajiNotInDict:!1});default:return e}},changeCardState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHAR_UPDATE":return Object(m.a)(Object(m.a)({},e),{},{currentJapChar:t.currentJapChar,currentRomaji:t.currentRomaji});case"ENTER_PRESS":return e.cardStateList[e.indexCurrentCard]="hinted",Object(m.a)(Object(m.a)({},e),{},{hintedCharList:[].concat(Object(jt.a)(e.hintedCharList),[e.currentRomaji]),onHintedCard:!1,prevTimestamp:t.time,indexCurrentCard:e.indexCurrentCard+1});case"WRONG_INPUT":return e.wrongCharList[t.currentChar]=t.userInput,e.cardStateList[e.indexCurrentCard]="incorrect",Object(m.a)(Object(m.a)({},e),{},{onIncorrectCard:!0,curWrongChar:t.userInput});case"SPACE_PRESS_TO_CONTINUE":return e.cardStateList[e.indexCurrentCard]="",Object(m.a)(Object(m.a)({},e),{},{onIncorrectCard:!1});case"SPACE_PRESS_FOR_HINT":return Object(m.a)(Object(m.a)({},e),{},{onHintedCard:!0});case"SPACE_PRESS_TO_GO_NEXT":return Object(m.a)(Object(m.a)({},e),{},{wordCompleted:!1,charTimestamp:[],allCharTimestamp:[].concat(Object(jt.a)(e.allCharTimestamp),[e.charTimestamp]),hintedCharList:[]});case"COMPLETE_WORD":return Object(m.a)(Object(m.a)({},e),{},{wordCompleted:!0});case"UPDATE_WORD":return Object(m.a)(Object(m.a)({},e),{},{currentWord:t.payload,romajiList:t.romajiList,cardStateList:t.cardStateList,indexCurrentCard:0});case"COMPLETE_CHAR":var a={char:e.currentJapChar,time:t.time-e.prevTimestamp,type:t.completionType};return console.log("TIME STAMP",a),Object(m.a)(Object(m.a)({},e),{},{charTimestamp:[].concat(Object(jt.a)(e.charTimestamp),[a]),prevTimestamp:t.time});case"SET_NEW_WORD_TIME":return Object(m.a)(Object(m.a)({},e),{},{prevTimestamp:t.time});case"INPUT_CORRECT_CHAR":return Object(m.a)(Object(m.a)({},e),{},{indexCurrentCard:e.indexCurrentCard+1,cardStateList:e.cardStateList.map((function(t,a){return a===e.indexCurrentCard?"correct":t}))});case"INPUT_INCORRECT_CHAR":return Object(m.a)(Object(m.a)({},e),{},{cardStateList:e.cardStateList.map((function(t,a){return a===e.indexCurrentCard?"incorrect":t}))});case"RESET_STORE":return Object(m.a)(Object(m.a)({},e),{},{allCharTimestamp:[],charTimestamp:[],curWrongChar:null,onHintedCard:!1,onIncorrectCard:!1,wordCompleted:!1,wrongCharList:{}});default:return e}}}),Lt=Object(l.createLogger)(),Wt=Object(c.d)(xt,Object(c.a)(Lt,yt.a.reduxMiddleware()));i.a.render(r.a.createElement(s.a,{store:Wt},r.a.createElement(At.a,{theme:Rt},r.a.createElement(wt,{version:2}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.7167ab68.chunk.js.map