{"version":3,"sources":["serviceWorker.js","components/Char.js","constants.js","actions.js","containers/CharList.js","inputChecker.js","jap-char.js","containers/CharInput.js","components/NavBar.js","components/Music.js","components/Hint.js","components/TextBlock.js","components/Signin.js","components/Register.js","components/WordCard.js","components/OutsideAlerter.js","components/Footer.js","components/WelcomeBar.js","components/SmallChar.js","components/SmallCharList.js","containers/App.js","reducers.js","index.js"],"names":["Boolean","window","location","hostname","match","Char","className","this","props","cardState","wordCompleted","onClick","onClickCard","char","React","Component","REGISTER_URL","SIGNIN_URL","MEDIA_BASE_URL_WORD","typeAnswer","text","type","payload","pressSpace","context","time","Date","now","updateChar","japchar","romaji","currentJapChar","currentRomaji","updateWord","word","romajiList","cardStateList","map","item","completeChar","timestamp","completionType","CharList","componentDidMount","setNewWordTime","componentDidUpdate","prevProps","JSON","stringify","charsToRead","setCardState","idx","indexCurrentCard","onHintedCard","clickedJapChar","concat","state","dispatchTime","charsArrayDisplay","Grid","key","container","direction","justify","alignItems","spacing","connect","changeCardState","dispatch","TrieNode","parent","children","end","Trie","root","prototype","getWord","output","node","unshift","join","insert","i","length","contains","find","prefix","findAllWords","arr","child","SpellCheckerBuffer","charAndRomaji","checkFunction","wordNotInDictAlert","dict","buffer","charTrie","Object","values","forEach","element","pendingChars","Array","isArray","katakanaToRomaji","ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ラ","リ","ル","レ","ロ","ワ","ヲ","ン","clearBuffer","katakanaHint","imageLink","shortHint","CharInput","user_uid","convertTimeToScoreDelta","charTimestamp","score_delta","result_type","result_time","onCorrectChar","onWrongInput","onWordCompletion","currentWord","setCurrentChar","onCompleteChar","getKeyByValue","updateCharScore2","userInputChar","newRomaji","currentChar","onKeyDown","event","onIncorrectCard","curWrongChar","onInputBoxChange","onSpacePress","onEnterPress","updateCharScore","updateWordScore","audioIsPlaying","resetRomajiNotInDictAlert","preventDefault","lastCardState","which","spacePressHandler","target","String","fromCharCode","toLowerCase","onKeyPress","inputChecker","checkInput","eventTarget","value","slice","console","log","curRomaji","formRef","createRef","alertRomajiNotInDict","setClick","Input","placeholder","inputProps","onChange","spellCheck","autoFocus","inputRef","onPaste","changeGeneralState","inputBox","changeInputBox","pressKey","onIncorrectChar","userChar","userInput","typeWrongAnswer","pressEnter","forwardRef","useStyles","makeStyles","theme","flexGrow","title","NavBar","onRouteChange","currentTab","classes","useState","open","setOpen","handleClose","AppBar","position","Toolbar","Typography","variant","color","align","Button","startIcon","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Music","play","audio","Audio","audioLink","stopAudioHandler","setState","noStoreUpdateWhenEnded","onAudioPause","simpleStopAudioHandler","newAudio","addEventListener","setTimeout","onAudioPlay","delay","togglePlay","removeEventListener","pause","Hint","currentHintedChar","sentenceFragments","replace","split","Card","onClickHandler","Divider","src","alt","CardContent","style","paddingTop","paddingBottom","component","TextBlock","description","icon","Signin","onEmailInput","signInEmail","emailErrorMsg","onPasswordInput","signInPassword","passwordErrorMsg","sendSigninInfoToBackend","fetch","method","headers","body","email","password","then","response","json","data","keys","loadUser","catch","error","onSignIn","Paper","paper2","elevation","Container","maxWidth","CssBaseline","paper","form","noValidate","TextField","helperText","margin","fullWidth","label","name","autoComplete","FormControlLabel","control","Checkbox","submit","Link","fontSize","Register","withStyles","fontFamily","backfround","marginTop","display","flexDirection","marginBottom","padding","breakpoints","up","width","height","marginLeft","marginRight","onNameInput","nameErrorMsg","sendFormDataToBackEnd","onFormSubmit","validateEmail","nameError","emailError","passwordError","test","minWidth","pos","OutlinedCard","wordInfo","word_audio_duration","document","createElement","innerHTML","sentenceSegments","sentence_expression","parseAudio","audio_string","gutterBottom","vocab_meaning","vocab_pos","vocab_sound_local","sentence_sound_local","sentence_meaning","OutsideAlerter","handleClickOutside","componentWillUnmount","setWrapperRef","wrapperRef","focusInputBox","ref","Footer","href","WelcomeBar","userName","typography","cardBG","background","correctPercent","hintedPercent","SmallChar","correctNum","hintedNum","anchorEl","setAnchorEl","undefined","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","SmallCharList","requestGetCharScore","res","charResultList","err","computeCorrectPercentage","resultList","total_correct","result","Math","round","computeCorrectNum","reduce","acc","val","CircularProgress","kana","correctPercentage","hintedPercentage","LogRocket","init","App","prevState","userInfo","resetStore","requestNewWord","route","haveTriggered","parseJapaneseWord","c","c_romaji","push","scoreDeltaList","charScoreDeltaList","score","unix_time","currentWord_unix_time","vocab_kana","curKana","charAt","currentWordInfo","duration","user","joined","identify","charInputRef","current","focus","innerText","showHint","displayWordInfo","object","displayMessage","romajiNotInDict","displayMessage2","setButtonText","renderRoute","click","clickChild","initialInputBox","keyPressed","initialGeneralState","initialCardState","hintedCharList","wrongCharList","prevTimestamp","allCharTimestamp","createMuiTheme","palette","primary","main","secondary","rootReducer","combineReducers","action","newTimestamp","logger","createLogger","store","createStore","applyMiddleware","reduxMiddleware","ReactDOM","render","ThemeProvider","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.41ca1718.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport \"../scss/containers/App.scss\";\nimport \"../scss/components/Char.scss\";\n\n// tmw5 center bg-white br3 pa3 pa4-ns mv3 ba b--black-10\n\nclass Char extends React.Component {\n  render() {\n    const className = `card  ${this.props.cardState} ${\n      this.props.wordCompleted ? \"card-button\" : \"\"\n    }`;\n    return (\n      <div className={className} onClick={this.props.onClickCard}>\n        <h1 className=\"char\">{this.props.char}</h1>\n      </div>\n    );\n  }\n}\n\nexport default Char;\n","export const USER_INPUT = \"USER_INPUT\";\r\n\r\nconst method = \"tuanHeroku\";\r\n\r\nvar REGISTER_URL = \"https://localhost:3000/register\";\r\nvar SIGNIN_URL = \"https://localhost:3000/signin\";\r\nvar PROFILE_URL = \"https://localhost:3000/profile/\";\r\nvar GETWORD_URL = \"https://shrouded-harbor-11572.herokuapp.com/getnextword\";\r\nvar CHARSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/charscore\";\r\nvar UPDATECHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/updatecharscore\";\r\nvar WORDSCORE_URL = \"https://shrouded-harbor-11572.herokuapp.com/wordscore\";\r\nvar GETCHARSCORE_URL =\r\n  \"https://shrouded-harbor-11572.herokuapp.com/getcharscore\";\r\nvar MEDIA_BASE_URL_SENTENCE =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/sentence-sound/\";\r\nvar MEDIA_BASE_URL_WORD =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/word-sound/\";\r\n// source: https://www.learn-japanese-adventure.com/learn-how-to-speak-japanese.html\r\nvar MEDIA_BASE_URL_CHAR =\r\n  \"https://s3.amazonaws.com/media.japanesereading.com/character-sound/kanasound-\"; // add {romaji}.mp3\r\nvar WORD_LINK =\r\n  \"https://www.reddit.com/r/LearnJapanese/comments/s2iop/heres_a_spreadsheet_of_the_6000_most_common/c4ak0xd/\";\r\nvar TOFUGU_LINK = \"https://www.tofugu.com/japanese/learn-katakana/\";\r\n\r\nswitch (method) {\r\n  case \"local\":\r\n    break;\r\n  case \"tuanHeroku\":\r\n    REGISTER_URL = \"https://shrouded-harbor-11572.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://shrouded-harbor-11572.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://shrouded-harbor-11572.herokuapp.com/profile/\";\r\n    break;\r\n  case \"lienHeroku\":\r\n    REGISTER_URL = \"https://peaceful-sands-25473.herokuapp.com/register\";\r\n    SIGNIN_URL = \"https://peaceful-sands-25473.herokuapp.com/signin\";\r\n    PROFILE_URL = \"https://peaceful-sands-25473.herokuapp.com/profile/\";\r\n    break;\r\n  default:\r\n    console.log(\"method should be either tuanHeroku, lienHeroku, or local\");\r\n    break;\r\n}\r\n\r\nexport {\r\n  REGISTER_URL,\r\n  SIGNIN_URL,\r\n  PROFILE_URL,\r\n  GETWORD_URL,\r\n  MEDIA_BASE_URL_SENTENCE,\r\n  MEDIA_BASE_URL_WORD,\r\n  MEDIA_BASE_URL_CHAR,\r\n  CHARSCORE_URL,\r\n  WORDSCORE_URL,\r\n  WORD_LINK,\r\n  TOFUGU_LINK,\r\n  GETCHARSCORE_URL,\r\n  UPDATECHARSCORE_URL,\r\n};\r\n","import { USER_INPUT } from \"./constants.js\";\r\n\r\nexport const typeAnswer = (text) => {\r\n  return {\r\n    type: USER_INPUT,\r\n    payload: text,\r\n  };\r\n};\r\n\r\nexport const pressSpace = (context) => {\r\n  switch (context) {\r\n    case \"REQUEST_HINT\":\r\n      return {\r\n        type: \"SPACE_PRESS_FOR_HINT\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_ERROR\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_CONTINUE\",\r\n        time: Date.now(),\r\n      };\r\n    case \"CONTINUE_AFTER_COMPLETE\":\r\n      return {\r\n        type: \"SPACE_PRESS_TO_GO_NEXT\",\r\n        time: Date.now(),\r\n      };\r\n    default:\r\n      return {\r\n        type: \"SPACE_PRESS\",\r\n      };\r\n  }\r\n};\r\n\r\nexport const updateChar = (japchar, romaji) => {\r\n  return {\r\n    type: \"CHAR_UPDATE\",\r\n    currentJapChar: japchar,\r\n    currentRomaji: romaji,\r\n  };\r\n};\r\n\r\nexport const pressEnter = (time) => {\r\n  return {\r\n    type: \"ENTER_PRESS\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const typeWrongAnswer = (userChar, currentChar) => {\r\n  return {\r\n    type: \"WRONG_INPUT\",\r\n    userInput: userChar,\r\n    currentChar: currentChar,\r\n    time: Date.now(),\r\n  };\r\n};\r\n\r\nexport const completeWord = () => {\r\n  return {\r\n    type: \"COMPLETE_WORD\",\r\n    time: Date.now(), // when user complete last character Card\r\n  };\r\n};\r\n\r\nexport const updateWord = (word, romajiList) => {\r\n  const cardStateList = romajiList.map((item) => \"\");\r\n  return {\r\n    type: \"UPDATE_WORD\",\r\n    payload: word,\r\n    romajiList: romajiList,\r\n    cardStateList: cardStateList,\r\n  };\r\n};\r\n\r\nexport const completeChar = (timestamp, completionType) => {\r\n  return {\r\n    type: \"COMPLETE_CHAR\",\r\n    time: timestamp,\r\n    completionType: completionType,\r\n  };\r\n};\r\n\r\nexport const setNewWordTime = (time) => {\r\n  return {\r\n    type: \"SET_NEW_WORD_TIME\",\r\n    time: time,\r\n  };\r\n};\r\n\r\nexport const onAudioPlay = () => {\r\n  return {\r\n    type: \"PLAY_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const onAudioPause = () => {\r\n  return {\r\n    type: \"PAUSE_AUDIO\",\r\n  };\r\n};\r\n\r\nexport const pressKey = (key) => {\r\n  return {\r\n    type: \"PRESS_KEY\",\r\n    payload: key,\r\n  };\r\n};\r\n\r\nexport const onCorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_CORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const onIncorrectChar = () => {\r\n  return {\r\n    type: \"INPUT_INCORRECT_CHAR\",\r\n  };\r\n};\r\n\r\nexport const resetStore = () => {\r\n  return {\r\n    type: \"RESET_STORE\",\r\n  };\r\n};\r\n\r\nexport const alertRomajiNotInDict = () => {\r\n  return {\r\n    type: \"ALERT_NOT_IN_DICT\",\r\n  };\r\n};\r\n\r\nexport const resetRomajiNotInDictAlert = () => {\r\n  return {\r\n    type: \"RESET_NOT_IN_DICT_ALERT\",\r\n  };\r\n};\r\n","import React from \"react\";\nimport Char from \"../components/Char.js\";\nimport { Grid } from \"@material-ui/core\";\nimport { connect } from \"react-redux\";\nimport { setNewWordTime } from \"../actions\";\nimport \"../scss/components/Char.scss\";\n\nconst mapStateToProps = (state) => {\n  return {\n    // charTimestamp: state.changeCardState.charTimestamp,\n    // keyPressed: state.changeInputBox.keyPressed,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    cardStateList: state.changeCardState.cardStateList,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setNewWordTime: (time) => {\n      dispatch(setNewWordTime(time));\n    },\n  };\n};\n\nclass CharList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dispatchTime: 0,\n    };\n  }\n\n  componentDidMount = () => {\n    this.props.setNewWordTime(Date.now());\n  };\n\n  componentDidUpdate = (prevProps) => {\n    if (\n      JSON.stringify(this.props.charsToRead) !==\n      JSON.stringify(prevProps.charsToRead)\n    ) {\n      this.props.setNewWordTime(Date.now());\n    }\n  };\n\n  setCardState = (idx, char) => {\n    const {\n      indexCurrentCard,\n      cardStateList,\n      onHintedCard,\n      wordCompleted,\n    } = this.props;\n    var className = \"\";\n\n    if (wordCompleted && this.props.clickedJapChar !== \"\") {\n      if (char === this.props.clickedJapChar) {\n        className = className.concat(` clicked `);\n      } else {\n        className = className.concat(` o-100 `); // default o-100\n      }\n    }\n    if (idx === indexCurrentCard) {\n      className = className.concat(` highlighted `);\n    } else {\n      className = className.concat(\n        onHintedCard ? ` o-30 ` : wordCompleted ? \"\" : ` o-60 `\n      );\n    }\n    var cardState = cardStateList[idx];\n    className = className.concat(` ${cardState} `);\n    return className;\n  };\n\n  render() {\n    const charsArrayDisplay = this.props.charsToRead.map((item, idx) => {\n      return (\n        <Grid item key={idx}>\n          <Char\n            char={item.char}\n            key={idx}\n            cardState={this.setCardState(idx, item.char)}\n            onClickCard={this.props.onClickCard}\n            wordCompleted={this.props.wordCompleted}\n          />\n        </Grid>\n      );\n    });\n\n    return (\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing=\"1\"\n      >\n        {charsArrayDisplay}\n      </Grid>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CharList);\n","// Trie.js - super simple JS implementation\r\n// https://en.wikipedia.org/wiki/Trie\r\n// https://gist.github.com/tpae/72e1c54471e88b689f85ad2b3940a8f0\r\n\r\n// -----------------------------------------\r\n\r\n// const katakanaToRomaji = {\r\n//   ア: \"a\",\r\n//   イ: \"i\",\r\n//   ウ: \"u\",\r\n//   エ: \"e\",\r\n//   オ: \"o\",\r\n//   ン: \"n'\",\r\n//   カ: \"ka\",\r\n//   キ: \"ki\",\r\n//   ク: \"ku\",\r\n//   ケ: \"ke\",\r\n//   コ: \"ko\",\r\n//   サ: \"sa\",\r\n//   シ: \"shi\",\r\n//   ス: \"su\",\r\n//   セ: \"se\",\r\n//   ソ: \"so\",\r\n//   タ: \"ta\",\r\n//   チ: \"chi\",\r\n//   ツ: \"tsu\",\r\n//   テ: \"te\",\r\n//   ト: \"to\",\r\n//   ナ: \"na\",\r\n//   ニ: \"ni\",\r\n//   ヌ: \"nu\",\r\n//   ネ: \"ne\",\r\n//   ノ: \"no\",\r\n//   ハ: \"ha\",\r\n//   ヒ: \"hi\",\r\n//   フ: \"fu\",\r\n//   ヘ: \"he\",\r\n//   ホ: \"ho\",\r\n//   マ: \"ma\",\r\n//   ミ: \"mi\",\r\n//   ム: \"mu\",\r\n//   メ: \"me\",\r\n//   モ: \"mo\",\r\n//   ヤ: \"ya\",\r\n//   ユ: \"yu\",\r\n//   ヨ: \"yo\",\r\n//   ラ: \"ra\",\r\n//   リ: \"ri\",\r\n//   ル: \"ru\",\r\n//   レ: \"re\",\r\n//   ロ: \"ro\",\r\n//   ワ: \"wa\",\r\n//   ヲ: \"wo\",\r\n// };\r\n\r\n// we start with the TrieNode\r\nfunction TrieNode(key) {\r\n  // the \"key\" value will be the character in sequence\r\n  this.key = key;\r\n\r\n  // we keep a reference to parent\r\n  this.parent = null;\r\n\r\n  // we have hash of children\r\n  this.children = {};\r\n\r\n  // check to see if the node is at the end\r\n  this.end = false;\r\n}\r\n\r\n// iterates through the parents to get the word.\r\n// time complexity: O(k), k = word length\r\nTrieNode.prototype.getWord = function () {\r\n  var output = [];\r\n  var node = this;\r\n\r\n  while (node !== null) {\r\n    output.unshift(node.key);\r\n    node = node.parent;\r\n  }\r\n\r\n  return output.join(\"\");\r\n};\r\n\r\n// -----------------------------------------\r\n\r\n// we implement Trie with just a simple root with null value.\r\nfunction Trie() {\r\n  this.root = new TrieNode(null);\r\n}\r\n\r\n// inserts a word into the trie.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.insert = function (word) {\r\n  var node = this.root; // we start at the root\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (!node.children[word[i]]) {\r\n      // if it doesn't exist, we then create it.\r\n      node.children[word[i]] = new TrieNode(word[i]);\r\n\r\n      // we also assign the parent to the child node.\r\n      node.children[word[i]].parent = node;\r\n    }\r\n\r\n    // proceed to the next depth in the trie.\r\n    node = node.children[word[i]];\r\n\r\n    // finally, we check to see if it's the last word.\r\n    if (i === word.length - 1) {\r\n      // if it is, we set the end flag to true.\r\n      node.end = true;\r\n    }\r\n  }\r\n};\r\n\r\n// check if it contains a whole word.\r\n// time complexity: O(k), k = word length\r\nTrie.prototype.contains = function (word) {\r\n  var node = this.root;\r\n\r\n  // for every character in the word\r\n  for (var i = 0; i < word.length; i++) {\r\n    // check to see if character node exists in children.\r\n    if (node.children[word[i]]) {\r\n      // if it exists, proceed to the next depth of the trie.\r\n      node = node.children[word[i]];\r\n    } else {\r\n      // doesn't exist, return false since it's not a valid word.\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // we finished going through all the words, but is it a whole word?\r\n  return node.end;\r\n};\r\n\r\n// returns every word with given prefix\r\n// time complexity: O(p + n), p = prefix length, n = number of child paths\r\nTrie.prototype.find = function (prefix) {\r\n  var node = this.root;\r\n  var output = [];\r\n\r\n  // for every character in the prefix\r\n  for (var i = 0; i < prefix.length; i++) {\r\n    // make sure prefix actually has words\r\n    if (node.children[prefix[i]]) {\r\n      node = node.children[prefix[i]];\r\n    } else {\r\n      // there's none. just return it.\r\n      return output;\r\n    }\r\n  }\r\n\r\n  // recursively find all words in the node\r\n  findAllWords(node, output);\r\n\r\n  return output;\r\n};\r\n\r\n// recursive function to find all words in the given node.\r\nfunction findAllWords(node, arr) {\r\n  // base case, if node is at a word, push to output\r\n  if (node.end) {\r\n    arr.unshift(node.getWord());\r\n  }\r\n\r\n  // iterate through each children, call recursive findAllWords\r\n  for (var child in node.children) {\r\n    findAllWords(node.children[child], arr);\r\n  }\r\n}\r\n\r\n// -----------------------------------------\r\n\r\n// instantiate our trie\r\n//   var trie = new Trie();\r\n\r\n//   // insert few values\r\n//   trie.insert(\"hello\");\r\n//   trie.insert(\"helium\");\r\n\r\n// check contains method\r\n//console.log(trie.contains(\"helium\"));  // true\r\n//console.log(trie.contains(\"kickass\")); // false\r\n\r\n// check find method\r\n//console.log(trie.find(\"hel\"));  // [ 'helium', 'hello' ]\r\n//console.log(trie.find(\"hell\")); // [ 'hello' ]\r\n\r\nclass SpellCheckerBuffer {\r\n  constructor(charAndRomaji, checkFunction, wordNotInDictAlert) {\r\n    this.dict = charAndRomaji;\r\n    this.checkFunction = checkFunction;\r\n    this.buffer = \"\";\r\n    this.charTrie = new Trie();\r\n    this.wordNotInDictAlert = wordNotInDictAlert;\r\n    Object.values(this.dict).forEach((element) => {\r\n      this.charTrie.insert(element);\r\n    });\r\n    //console.log(this.charTrie.find(\"\"));\r\n  }\r\n  checkInput(char) {\r\n    if (char === \"clearBuffer\") {\r\n      this.buffer = \"\";\r\n      return;\r\n    }\r\n    this.buffer += char;\r\n    if (this.charTrie.contains(this.buffer)) {\r\n      this.checkFunction(this.buffer);\r\n      this.buffer = \"\";\r\n    } else {\r\n      var pendingChars = this.charTrie.find(this.buffer);\r\n      if (!Array.isArray(pendingChars) || !pendingChars.length) {\r\n        this.wordNotInDictAlert();\r\n        this.checkFunction(this.buffer);\r\n        this.buffer = \"\";\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// uncomment below to test\r\n// const sp = new SpellCheckerBuffer(katakanaToRomaji, console.log);\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"i\");\r\n// sp.checkInput(\"n\");\r\n// sp.checkInput(\"a\");\r\n// sp.checkInput(\"t\");\r\n// sp.checkInput(\"s\");\r\n// sp.checkInput(\"u\");\r\n\r\nexport default SpellCheckerBuffer;\r\n","const katakanaToRomaji = {\r\n  ア: \"a\",\r\n  イ: \"i\",\r\n  ウ: \"u\",\r\n  エ: \"e\",\r\n  オ: \"o\",\r\n  カ: \"ka\",\r\n  キ: \"ki\",\r\n  ク: \"ku\",\r\n  ケ: \"ke\",\r\n  コ: \"ko\",\r\n  サ: \"sa\",\r\n  シ: \"shi\",\r\n  ス: \"su\",\r\n  セ: \"se\",\r\n  ソ: \"so\",\r\n  タ: \"ta\",\r\n  チ: \"chi\",\r\n  ツ: \"tsu\",\r\n  テ: \"te\",\r\n  ト: \"to\",\r\n  ナ: \"na\",\r\n  ニ: \"ni\",\r\n  ヌ: \"nu\",\r\n  ネ: \"ne\",\r\n  ノ: \"no\",\r\n  ハ: \"ha\",\r\n  ヒ: \"hi\",\r\n  フ: \"fu\",\r\n  ヘ: \"he\",\r\n  ホ: \"ho\",\r\n  マ: \"ma\",\r\n  ミ: \"mi\",\r\n  ム: \"mu\",\r\n  メ: \"me\",\r\n  モ: \"mo\",\r\n  ヤ: \"ya\",\r\n  ユ: \"yu\",\r\n  ヨ: \"yo\",\r\n  ラ: \"ra\",\r\n  リ: \"ri\",\r\n  ル: \"ru\",\r\n  レ: \"re\",\r\n  ロ: \"ro\",\r\n  ワ: \"wa\",\r\n  ヲ: \"wo\",\r\n  ン: \"n'\",\r\n  clearBuffer: \"clearBuffer\",\r\n};\r\n\r\nconst katakanaHint = {\r\n  ア: {\r\n    romaji: \"a\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A2.jpg\",\r\n    shortHint: \"Find the capital 'A'\",\r\n  },\r\n  イ: {\r\n    romaji: \"i\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A4.jpg\",\r\n    shortHint: \"It looks like an <u>ea</u>gle (i)\",\r\n  },\r\n  ウ: {\r\n    romaji: \"u\",\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A6.jpg\",\r\n    shortHint: \"ウ looks like う (u)\",\r\n  },\r\n  エ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%A8.jpg\",\r\n    shortHint:\r\n      \"Imagine this is the girders an <u>e</u>ngineer would use to build buildings\",\r\n  },\r\n  オ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AA.jpg\",\r\n    shortHint:\r\n      'A dude flapping open his trench coat to flash you. \"<u>Oh</u> MY GOD!\" you say. ',\r\n  },\r\n  カ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AB.jpg\",\r\n    shortHint: \"It looks just like the Hiragana か\",\r\n  },\r\n  キ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AD.jpg\",\r\n    shortHint: \"A key (ki)\",\r\n  },\r\n  ク: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%AF.jpg\",\r\n    shortHint: \"A long <u>coo</u>ks's (ku) hat\",\r\n  },\r\n  ケ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B1.jpg\",\r\n    shortHint: \"It looks like the letter <u>K</u> (ke)\",\r\n  },\r\n  コ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B3.jpg\",\r\n    shortHint: \"Two 90 degrees <u>co</u>rners (ko)\",\r\n  },\r\n  サ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B5.jpg\",\r\n    shortHint: \"Three <u>sa</u>rdines stacked on top of each other\",\r\n  },\r\n  シ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B7.jpg\",\r\n    shortHint: \"<u>She</u> has a very werid face (shi)\",\r\n  },\r\n  ス: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%B9.jpg\",\r\n    shortHint: \"A hanger where you hang up your fancy <u>su</u>it (su)\",\r\n  },\r\n  セ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BB.jpg\",\r\n    shortHint: \"It looks like the Hiragana せ\",\r\n  },\r\n  ソ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BD.jpg\",\r\n    shortHint: \"One needle and a long thread which you use to <u>sew</u> (so)\",\r\n  },\r\n  タ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%82%BF.jpg\",\r\n    shortHint: \"A <u>ti</u>dal wave racing across the sea (ta)\",\r\n  },\r\n  チ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%81.jpg\",\r\n    shortHint: \"A <u>chee</u>rleader doing a <u>chee</u>r (chi)\",\r\n  },\r\n  ツ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%84.jpg\",\r\n    shortHint: \"<u>Two</u> (tsu) needles\",\r\n  },\r\n  テ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%86.jpg\",\r\n    shortHint: \"A <u>te</u>lephone pole\",\r\n  },\r\n  ト: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%88.jpg\",\r\n    shortHint: \"A <u>to</u>tem pole\",\r\n  },\r\n  ナ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8A.jpg\",\r\n    shortHint: \"A majestic <u>na</u>rwhal\",\r\n  },\r\n  ニ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8B.jpg\",\r\n    shortHint: \"Two <u>nee</u>dles (ni) laying on their side\",\r\n  },\r\n  ヌ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8C.jpg\",\r\n    shortHint:\r\n      \"The chopsticks are grabbing onto some <u>noo</u>dles & pulling them out of a bowl. (nu)\",\r\n  },\r\n  ネ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8D.jpg\",\r\n    shortHint: \"A <u>ne</u>cromancer has summoned this zombie\",\r\n  },\r\n  ノ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8E.jpg\",\r\n    shortHint: \"A really long <u>no</u>se\",\r\n  },\r\n  ハ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%8F.jpg\",\r\n    shortHint: \"A rice paddy <u>ha</u>t\",\r\n  },\r\n  ヒ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%92.jpg\",\r\n    shortHint: \"<u>He</u> (hi) has no head. <u>He</u> is reaching out to you.\",\r\n  },\r\n  フ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%95.jpg\",\r\n    shortHint: \"A <u>fu</u>nny looking owl\",\r\n  },\r\n  ヘ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%98.jpg\",\r\n    shortHint: \"This looks like the Hiragana へ\",\r\n  },\r\n  ホ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9B.jpg\",\r\n    shortHint: \"A <u>ho</u>ly cross\",\r\n  },\r\n  マ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9E.jpg\",\r\n    shortHint: \"Look at all those angles! Those lengths! All that <u>ma</u>th!\",\r\n  },\r\n  ミ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%9F.jpg\",\r\n    shortHint: \"Three <u>mi</u>ssiles, flying towards you. Be careful!\",\r\n  },\r\n  ム: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A0.jpg\",\r\n    shortHint: \"It is shaped like a pile of poop. Cow poop. <u>Moo</u>. (mu)\",\r\n  },\r\n  メ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A1.jpg\",\r\n    shortHint: 'め <u>Me</u> is Japnese for \"eye\"',\r\n  },\r\n  モ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A2.jpg\",\r\n    shortHint: \"This looks like the Hiragana も\",\r\n  },\r\n  ヤ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A4.jpg\",\r\n    shortHint: \"This looks just like the Hiragana や\",\r\n  },\r\n  ユ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A6.jpg\",\r\n    shortHint: \"You (yu) have a hook for a hand\",\r\n  },\r\n  ヨ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A8.jpg\",\r\n    shortHint: \"A <u>yo</u>gurt containers\",\r\n  },\r\n  ラ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%A9.jpg\",\r\n    shortHint: \"It is a <u>ra</u>ptor wearing sweet <u>ra</u>y-bans\",\r\n  },\r\n  リ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AA.jpg\",\r\n    shortHint: \"It looks like the Hiragana り\",\r\n  },\r\n  ル: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AB.jpg\",\r\n    shortHint:\r\n      \"There are two <u>rou</u>tes (ru) you can take. Route 1 & Route 2.\",\r\n  },\r\n  レ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AC.jpg\",\r\n    shortHint: \"Look at that beautiful <u>re</u>d hair that <u>Re</u>i has!\",\r\n  },\r\n  ロ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AD.jpg\",\r\n    shortHint:\r\n      \"This <u>ro</u>ad goes around in a square, never ending. What a terrible <u>ro</u>ad this is.\",\r\n  },\r\n  ワ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%AF.jpg\",\r\n    shortHint:\r\n      \"You often begin your question with the word <u>wha</u>t (wa). <u>Wha</u>t are you doing?\",\r\n  },\r\n  ヲ: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B2.jpg\",\r\n    shortHint: \"A dog <u>wo</u>ofing (wo) so hard its tongue is flying out\",\r\n  },\r\n  ン: {\r\n    imageLink:\r\n      \"https://s3.amazonaws.com/image.japanesereading.com/%E3%83%B3.jpg\",\r\n    shortHint: \"This guy only has one eye. <u>N</u>oooo!\",\r\n  },\r\n};\r\n\r\nexport { katakanaToRomaji, katakanaHint };\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"../scss/containers/App.scss\";\nimport { Input } from \"@material-ui/core\";\nimport SpellCheckerBuffer from \"../inputChecker\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport {\n  pressKey,\n  onCorrectChar,\n  onIncorrectChar,\n  typeAnswer,\n  pressSpace,\n  typeWrongAnswer,\n  completeChar,\n  pressEnter,\n  updateChar,\n  updateWord,\n  completeWord,\n  alertRomajiNotInDict,\n  resetRomajiNotInDictAlert,\n} from \"../actions\";\n\nconst mapStatestoProps = (state) => {\n  return {\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    romajiList: state.changeCardState.romajiList,\n    cardStateList: state.changeCardState.cardStateList,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    onHintedCard: state.changeCardState.onHintedCard,\n    currentRomaji: state.changeCardState.currentRomaji,\n    currentWord: state.changeCardState.currentWord,\n    charTimestamp: state.changeCardState.charTimestamp,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    inputBox: state.changeInputBox.inputBox,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onInputBoxChange: (value) => {\n      dispatch(typeAnswer(value));\n    },\n    onKeyPress: (key) => {\n      dispatch(pressKey(key));\n    },\n    onCorrectChar: () => {\n      dispatch(onCorrectChar());\n    },\n    onIncorrectChar: () => {\n      dispatch(onIncorrectChar());\n    },\n    onSpacePress: (context) => {\n      dispatch(pressSpace(context));\n    },\n    onWrongInput: (userChar, currentChar) => {\n      dispatch(typeWrongAnswer(userChar, currentChar));\n    },\n    onCompleteChar: (time, type) => {\n      dispatch(completeChar(time, type));\n    },\n    onEnterPress: (time) => {\n      dispatch(pressEnter(time));\n    },\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    onWordCompletion: () => {\n      dispatch(completeWord());\n    },\n    alertRomajiNotInDict: () => {\n      dispatch(alertRomajiNotInDict());\n    },\n    resetRomajiNotInDictAlert: () => {\n      dispatch(resetRomajiNotInDictAlert());\n    },\n  };\n};\n\nclass CharInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n    this.inputChecker = new SpellCheckerBuffer(\n      katakanaToRomaji,\n      this.checkFunction,\n      this.props.alertRomajiNotInDict\n    );\n  }\n\n  componentDidMount() {\n    const {\n      setCurrentChar,\n      romajiList,\n      indexCurrentCard,\n      currentWord,\n    } = this.props;\n\n    const curRomaji = romajiList[indexCurrentCard];\n    const curKana = currentWord[indexCurrentCard];\n    setCurrentChar(curKana, curRomaji);\n\n    // https://stackoverflow.com/questions/37949981/call-child-method-from-parent\n    this.props.setClick(this.spacePressHandler);\n  }\n\n  componentDidUpdate = (prevProps) => {\n    if (this.props.user_uid === prevProps.user_uid) {\n    }\n  };\n\n  convertTimeToScoreDelta = (charTimestamp) => {\n    return charTimestamp.map((item) => {\n      var score_delta = 20000 / item.time;\n      if (item.type === \"hinted\") {\n        score_delta *= -1;\n      }\n      return {\n        char: item.char,\n        score_delta: score_delta,\n        result_type: item.type,\n        result_time: item.time,\n      };\n    });\n  };\n\n  checkFunction = (char) => {\n    const {\n      romajiList,\n      indexCurrentCard,\n      onCorrectChar,\n      onWrongInput,\n      onWordCompletion,\n      currentWord,\n      setCurrentChar,\n      onCompleteChar,\n      getKeyByValue,\n      updateCharScore2,\n      user_uid,\n    } = this.props;\n    const userInputChar = getKeyByValue(katakanaToRomaji, char);\n\n    if (char === romajiList[indexCurrentCard]) {\n      updateCharScore2(user_uid, userInputChar, \"+1\");\n      onCorrectChar();\n      onCompleteChar(Date.now(), \"correct\");\n      const newRomaji = romajiList[indexCurrentCard + 1];\n      const newKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(newKana, newRomaji);\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n    } else {\n      // onIncorrectChar();\n      onWrongInput(char, romajiList[indexCurrentCard]);\n      var userWrongChar = getKeyByValue(katakanaToRomaji, char);\n      var currentChar = getKeyByValue(\n        katakanaToRomaji,\n        romajiList[indexCurrentCard]\n      );\n      updateCharScore2(user_uid, userInputChar, \"0\");\n      updateCharScore2(user_uid, currentChar, \"0\");\n    }\n  };\n\n  onKeyDown = (event) => {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onInputBoxChange,\n      onSpacePress,\n      onCompleteChar,\n      wordCompleted,\n      onHintedCard,\n      currentRomaji,\n      onEnterPress,\n      currentWord,\n      romajiList,\n      indexCurrentCard,\n      setCurrentChar,\n      charTimestamp,\n      updateWord,\n      updateCharScore,\n      updateWordScore,\n      onWordCompletion,\n      audioIsPlaying,\n      user_uid,\n      cardStateList,\n      resetRomajiNotInDictAlert,\n    } = this.props;\n\n    // disable input\n    if (audioIsPlaying) {\n      event.preventDefault();\n      return;\n    }\n\n    if (wordCompleted) {\n      event.preventDefault();\n    }\n    var lastCardState = cardStateList[cardStateList.length - 1];\n\n    if (\n      indexCurrentCard === romajiList.length - 1 &&\n      (lastCardState === \"correct\" || lastCardState === \"hinted\")\n    ) {\n      onWordCompletion();\n    }\n\n    // keycode 65 to 90 represents a-z\n    if (\n      ((event.which >= 65 && event.which <= 90) || event.which === 222) &&\n      !onIncorrectCard &&\n      !wordCompleted &&\n      !onHintedCard\n    ) {\n      var key =\n        event.which === 222\n          ? \"'\"\n          : String.fromCharCode(event.which).toLowerCase();\n      this.props.onKeyPress(key);\n      this.inputChecker.checkInput(key);\n    } else {\n      event.preventDefault();\n\n      if (event.which === 32) {\n        this.spacePressHandler(event.target);\n      }\n\n      // handle ENTER press (13)\n      // if (event.which === 13) {\n      //   if (onHintedCard) {\n      //     if (indexCurrentCard === romajiList.length - 1) {\n      //       onWordCompletion();\n      //     }\n      //     // autofill correct answer\n      //     event.target.value = event.target.value.concat(currentRomaji);\n      //     onInputBoxChange(event.target.value);\n      //     onEnterPress(Date.now());\n\n      //     const curRomaji = romajiList[indexCurrentCard + 1];\n      //     const curKana = currentWord[indexCurrentCard + 1];\n      //     setCurrentChar(curKana, curRomaji);\n      //   }\n      // }\n    }\n  };\n\n  spacePressHandler = (eventTarget) => {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onInputBoxChange,\n      onSpacePress,\n      onCompleteChar,\n      wordCompleted,\n      onHintedCard,\n      currentRomaji,\n      onEnterPress,\n      currentWord,\n      romajiList,\n      indexCurrentCard,\n      setCurrentChar,\n      charTimestamp,\n      updateWord,\n      updateCharScore,\n      updateWordScore,\n      onWordCompletion,\n      audioIsPlaying,\n      user_uid,\n      cardStateList,\n      resetRomajiNotInDictAlert,\n    } = this.props;\n    // handle SPACE press\n\n    if (onIncorrectCard) {\n      // delete wrong input from inputBox\n      eventTarget.value = eventTarget.value.slice(0, -curWrongChar.length);\n      onInputBoxChange(eventTarget.value);\n      onSpacePress(\"CONTINUE_AFTER_ERROR\");\n      resetRomajiNotInDictAlert();\n    } else if (!onIncorrectCard && !onHintedCard && !wordCompleted) {\n      // ask for hint\n      onSpacePress(\"REQUEST_HINT\");\n      onCompleteChar(Date.now(), \"hinted\");\n\n      // clear inputBox\n      eventTarget.value = this.inputChecker.buffer.length\n        ? eventTarget.value.slice(0, -this.inputChecker.buffer.length)\n        : eventTarget.value;\n      onInputBoxChange(eventTarget.value);\n\n      // clear inputChecker buffer\n      this.inputChecker.checkInput(\"clearBuffer\");\n    } else if (wordCompleted) {\n      // move on to next word\n      updateWord(\"\", [\"\"]);\n      const scoreDeltaList = this.convertTimeToScoreDelta(charTimestamp);\n      console.log(\"DEBUG\", charTimestamp);\n      // updateCharScore(user_uid, scoreDeltaList);\n      updateWordScore(user_uid, currentWord);\n\n      onSpacePress(\"CONTINUE_AFTER_COMPLETE\");\n\n      eventTarget.value = \"\";\n      onInputBoxChange(eventTarget.value);\n      const newRomaji = romajiList[0];\n      const newKana = currentWord[0];\n      setCurrentChar(newKana, newRomaji);\n    } else if (onHintedCard) {\n      if (indexCurrentCard === romajiList.length - 1) {\n        onWordCompletion();\n      }\n      // autofill correct answer\n      eventTarget.value = eventTarget.value.concat(currentRomaji);\n      onInputBoxChange(eventTarget.value);\n      onEnterPress(Date.now());\n\n      const curRomaji = romajiList[indexCurrentCard + 1];\n      const curKana = currentWord[indexCurrentCard + 1];\n      setCurrentChar(curKana, curRomaji);\n    }\n  };\n\n  render() {\n    return (\n      <form>\n        <Input\n          placeholder=\"Your input...\"\n          // defaultValue={this.props.inputBox}\n          inputProps={{ \"aria-label\": \"description\" }}\n          onChange={this.props.onInputBoxChange}\n          onKeyDown={this.onKeyDown}\n          spellCheck={false}\n          autoFocus\n          inputRef={this.formRef}\n          onPaste={(event) => {\n            event.preventDefault();\n          }}\n        />\n      </form>\n    );\n  }\n}\n\nexport default connect(mapStatestoProps, mapDispatchToProps, null, {\n  forwardRef: true,\n})(CharInput);\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport \"../scss/components/NavBar.scss\";\n\n// make help dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\n// icons\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\nimport AssessmentOutlinedIcon from \"@material-ui/icons/AssessmentOutlined\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst NavBar = ({ onRouteChange, currentTab }) => {\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography\n            variant=\"h6\"\n            color=\"secondary\"\n            className={classes.title}\n            align=\"left\"\n          >\n            <div className=\"navbar-title\">Japanese vs. English words</div>\n          </Typography>\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            onClick={handleClickOpen}\n            startIcon={<HelpOutlineOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Help</div>\n          </Button>\n          <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">{\"Instruction\"}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                <p>\n                  In this app, you will learn Japanese Katakana alphabet. At\n                  each iteration, the app will display all the Katakana\n                  characters that make up a certain Japanese word.\n                </p>\n                <p>If you know the katakana, simply type romaji </p>\n                <p>If you don't know it, press SPACE to learn the romaji. </p>\n                <p>If your input is incorrect, press SPACE to retry.</p>\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose} color=\"primary\" autoFocus>\n                Close\n              </Button>\n            </DialogActions>\n          </Dialog>\n          <Button\n            variant={currentTab === \"home\" ? \"outlined\" : \"text\"}\n            color=\"secondary\"\n            onClick={() => onRouteChange(\"home\")}\n            startIcon={<HomeOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Home</div>\n          </Button>\n          <Button\n            variant={currentTab === \"progress\" ? \"outlined\" : \"text\"}\n            color=\"secondary\"\n            onClick={() => onRouteChange(\"progress\")}\n            startIcon={<AssessmentOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Progress</div>\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant={currentTab === \"signout\" ? \"outlined\" : \"text\"}\n            onClick={() => onRouteChange(\"signin\")}\n            className=\"nav-button\"\n            startIcon={<ExitToAppOutlinedIcon />}\n          >\n            <div className=\"navbar-button-text\">Signout</div>\n          </Button>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\nexport default NavBar;\n","// Taken from this https://stackoverflow.com/questions/47686345/playing-sound-in-reactjs\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { onAudioPlay, onAudioPause } from \"../actions\";\r\nimport \"../scss/components/Music.scss\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onAudioPlay: () => {\r\n      dispatch(onAudioPlay());\r\n    },\r\n    onAudioPause: () => {\r\n      dispatch(onAudioPause());\r\n    },\r\n  };\r\n};\r\n\r\nclass Music extends React.Component {\r\n  state = {\r\n    play: false,\r\n    audio: new Audio(this.props.audioLink),\r\n  };\r\n\r\n  stopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    if (!this.props.noStoreUpdateWhenEnded) {\r\n      this.props.onAudioPause();\r\n    }\r\n  };\r\n\r\n  simpleStopAudioHandler = () => {\r\n    this.setState({ play: false });\r\n    this.props.onAudioPause();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.state.audio.addEventListener(\"ended\", this.stopAudioHandler);\r\n    setTimeout(() => {\r\n      this.state.audio.play();\r\n      this.props.onAudioPlay();\r\n    }, this.props.delay);\r\n  }\r\n\r\n  componentDidUpdate = (prevProps) => {\r\n    if (prevProps.audioLink !== this.props.audioLink) {\r\n      var newAudio = new Audio(this.props.audioLink);\r\n      newAudio.addEventListener(\"ended\", this.stopAudioHandler);\r\n      this.setState({ audio: newAudio });\r\n      setTimeout(() => {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay();\r\n      }, this.props.delay);\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n    this.state.audio.removeEventListener(\"ended\", this.simpleStopAudioHandler);\r\n    this.props.onAudioPause();\r\n  }\r\n\r\n  togglePlay = () => {\r\n    this.setState({ play: !this.state.play }, () => {\r\n      if (this.state.play) {\r\n        this.state.audio.play();\r\n        this.props.onAudioPlay();\r\n\r\n        // this is a wacky way of doing it, but basically I'm replacing the \"ended\" event listener\r\n        this.state.audio.removeEventListener(\"ended\", this.stopAudioHandler);\r\n        this.state.audio.removeEventListener(\r\n          \"ended\",\r\n          this.simpleStopAudioHandler\r\n        );\r\n        this.state.audio.addEventListener(\"ended\", this.simpleStopAudioHandler);\r\n      } else {\r\n        this.state.audio.pause();\r\n        this.props.onAudioPause();\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={this.togglePlay}\r\n          className=\"music-button\"\r\n        >\r\n          <div className=\"button-text\">\r\n            {this.state.play ? \"Pause Audio\" : \"Play Audio\"}\r\n          </div>\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Music);\r\n","import React from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Music from \"./Music\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { katakanaToRomaji, katakanaHint } from \"../jap-char\";\nimport { MEDIA_BASE_URL_CHAR } from \"../constants\";\nimport \"../scss/components/Hint.scss\";\n\nconst parseoutUnderlineText = (sentence) => {\n  // replace <b> and </b> with comma\n  sentence = sentence.replace(/<\\/?u>/g, \",\");\n  return sentence.split(\",\");\n};\n\nclass Hint extends React.Component {\n  render() {\n    const romaji = katakanaToRomaji[this.props.currentHintedChar];\n    const sentenceFragments = parseoutUnderlineText(\n      katakanaHint[this.props.currentHintedChar].shortHint\n    );\n    const modified_romaji = romaji === \"n'\" ? \"n\" : romaji;\n    const audioLink = MEDIA_BASE_URL_CHAR + modified_romaji + \".mp3\";\n\n    return (\n      <Card className={`hint-card`} onClick={this.onClickHandler}>\n        <div className=\"hint-card-content\">\n          <h3 className=\"hint-card-romaji\">{romaji}</h3>\n          <Divider />\n          <div>\n            <img\n              src={`${katakanaHint[this.props.currentHintedChar].imageLink}`}\n              className={`hint-card-image`}\n              alt=\"Hint Card\"\n            />\n          </div>\n          <CardContent style={{ paddingTop: 0, paddingBottom: 0 }}>\n            <Typography variant=\"body2\" component=\"p\">\n              <div className=\"hint-text\">\n                {sentenceFragments[0]}\n                <u>{sentenceFragments[1]}</u>\n                {sentenceFragments[2]}\n              </div>\n            </Typography>\n            <Music\n              audioLink={audioLink}\n              delay={0}\n              noStoreUpdateWhenEnded={false}\n            />\n          </CardContent>\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default Hint;\n","import React from \"react\";\r\nimport \"../scss/components/TextBlock.scss\";\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\n\r\nconst TextBlock = ({ title, description, icon }) => {\r\n  return (\r\n    <div className=\"text-block\">\r\n      {icon}\r\n      <h3>{title}</h3>\r\n      <div>{description}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextBlock;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { SIGNIN_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(6),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: 450,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Signin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signInEmail: \"\",\r\n      signInPassword: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n    };\r\n  }\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ signInEmail: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ signInPassword: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendSigninInfoToBackend = () => {\r\n    const { signInEmail, signInPassword } = this.state;\r\n\r\n    fetch(SIGNIN_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: signInEmail,\r\n        password: signInPassword,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (Object.keys(data).length === 4) {\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n          this.setState({\r\n            emailErrorMsg: \"\",\r\n            passwordErrorMsg: \"\",\r\n          });\r\n        } else {\r\n          // there is an error loggin in\r\n          console.log(\"Login Failed\", data);\r\n          if (data === \"email is not yet registered\") {\r\n            this.setState({ emailErrorMsg: data });\r\n          } else if (data === \"incorrect password\") {\r\n            this.setState({\r\n              passwordErrorMsg: data,\r\n              emailErrorMsg: \"\",\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onSignIn = (event) => {\r\n    event.preventDefault();\r\n    const { signInEmail, signInPassword } = this.state;\r\n\r\n    // check that fields are not empty\r\n    if (!signInEmail) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!signInPassword) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (signInEmail && signInPassword) {\r\n      this.sendSigninInfoToBackend();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana as you explore English-like Japanese words\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2} elevation={3}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={this.state.emailErrorMsg}\r\n                      helperText={this.state.emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      // autoFocus\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={this.state.passwordErrorMsg}\r\n                      helperText={this.state.passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <FormControlLabel\r\n                      control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                      label=\"Remember me\"\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onSignIn}\r\n                      style={{ color: \"white\" }}\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                    <Grid\r\n                      container\r\n                      alignItems=\"center\"\r\n                      direction=\"column\"\r\n                      justify=\"center\"\r\n                    >\r\n                      {/* <Grid item xs>\r\n                        <Link href=\"#\" variant=\"body2\">\r\n                          {\"Forgot password?\"}\r\n                        </Link>\r\n                      </Grid> */}\r\n                      <Grid item>\r\n                        {\"Don't have an account? \"}\r\n                        <Link\r\n                          component=\"button\"\r\n                          variant=\"body2\"\r\n                          onClick={() => this.props.onRouteChange(\"register\")}\r\n                        >\r\n                          {\"Sign Up\"}\r\n                        </Link>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback when you input the wrong character.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FontDownloadIcon fontSize=\"large\" />}\r\n              title=\"Words that sound like English\"\r\n              description=\"Such as kisu (kiss), in'teru (intelligent). You'd be surprised how much Japanese you've already known.\"\r\n            />\r\n            <TextBlock\r\n              icon={<SubtitlesIcon fontSize=\"large\" />}\r\n              title=\"Learn real common Japanese words\"\r\n              description=\"You can listen to audio from native speakers. This helps you compare and contrast the pronunciation of\r\n                Japanese and English.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Signin);\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { REGISTER_URL } from \"../constants\";\r\nimport \"../scss/components/Signin.scss\";\r\nimport TextBlock from \"./TextBlock\";\r\n\r\nimport AssignmentIndIcon from \"@material-ui/icons/AssignmentInd\";\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownload\";\r\nimport FeedbackIcon from \"@material-ui/icons/Feedback\";\r\nimport SubtitlesIcon from \"@material-ui/icons/Subtitles\";\r\n\r\nconst useStyles = (theme) => ({\r\n  container: {\r\n    fontFamily: \"Roboto\",\r\n    backfround: \"white\",\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  paper2: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(1),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 500,\r\n      height: 450,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      nameError: false,\r\n      emailError: false,\r\n      passwordError: false,\r\n      nameErrorMsg: \"\",\r\n      emailErrorMsg: \"\",\r\n      passwordErrorMsg: \"\",\r\n    };\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n  }\r\n\r\n  onNameInput = (event) => {\r\n    this.setState({ name: event.target.value, nameErrorMsg: \"\" });\r\n  };\r\n\r\n  onEmailInput = (event) => {\r\n    this.setState({ email: event.target.value, emailErrorMsg: \"\" });\r\n  };\r\n\r\n  onPasswordInput = (event) => {\r\n    this.setState({ password: event.target.value, passwordErrorMsg: \"\" });\r\n  };\r\n\r\n  sendFormDataToBackEnd = () => {\r\n    const { name, email, password } = this.state;\r\n\r\n    fetch(REGISTER_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (Object.keys(data).length === 4) {\r\n          this.setState({ emailErrorMsg: \"\" });\r\n          this.props.loadUser(data);\r\n          this.props.onRouteChange(\"home\");\r\n        } else {\r\n          // if user already exist\r\n          this.setState({ emailErrorMsg: data });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  onFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { name, email, password } = this.state;\r\n\r\n    if (!name) {\r\n      this.setState({ nameErrorMsg: \"please fill out your name\" });\r\n    } else {\r\n      this.setState({ nameErrorMsg: \"\" });\r\n    }\r\n    if (!email) {\r\n      this.setState({ emailErrorMsg: \"please fill out your email\" });\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n    if (!password) {\r\n      this.setState({ passwordErrorMsg: \"please fill out your password\" });\r\n    } else {\r\n      this.setState({ passwordErrorMsg: \"\" });\r\n    }\r\n\r\n    if (!this.validateEmail(email)) {\r\n      this.setState({ emailErrorMsg: \"please enter a valid email address\" });\r\n      return;\r\n    } else {\r\n      this.setState({ emailErrorMsg: \"\" });\r\n    }\r\n\r\n    if (name && password && email) {\r\n      this.sendFormDataToBackEnd();\r\n    } else {\r\n      return;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { nameErrorMsg, emailErrorMsg, passwordErrorMsg } = this.state;\r\n    return (\r\n      <div className=\"flex-container\">\r\n        <div className=\"signin-box\">\r\n          <div className=\"header\">\r\n            <h1 className=\"title\">JapanEZ</h1>\r\n            <p className=\"subtitle\">\r\n              Learn Japanese Katakana as you explore English-like Japanese words\r\n            </p>\r\n          </div>\r\n          <div className=\"signin\">\r\n            <Paper className={classes.paper2}>\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n                className={classes.container}\r\n              >\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Get Started\r\n                  </Typography>\r\n                  <form className={classes.form} noValidate>\r\n                    <TextField\r\n                      error={nameErrorMsg}\r\n                      helperText={nameErrorMsg}\r\n                      variant=\"outlined\"\r\n                      id=\"name\"\r\n                      label=\"Your Name\"\r\n                      // autoFocus\r\n                      fullWidth\r\n                      onChange={this.onNameInput}\r\n                    />\r\n                    <TextField\r\n                      error={emailErrorMsg}\r\n                      helperText={emailErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      onChange={this.onEmailInput}\r\n                    />\r\n                    <TextField\r\n                      error={passwordErrorMsg}\r\n                      helperText={passwordErrorMsg}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={this.onPasswordInput}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      className={classes.submit}\r\n                      onClick={this.onFormSubmit}\r\n                      style={{ color: \"#ffffff\" }}\r\n                    >\r\n                      I'm Ready!\r\n                    </Button>\r\n                    {/* <Grid\r\n                      container\r\n                      alignItems=\"center\"\r\n                      direction=\"column\"\r\n                      justify=\"center\"\r\n                    >\r\n                      <Grid item>\r\n                        {\"Already registered? \"}\r\n                        <Link\r\n                          component=\"button\"\r\n                          variant=\"body2\"\r\n                          onClick={() => this.props.onRouteChange(\"signin\")}\r\n                        >\r\n                          {\"Sign In\"}\r\n                        </Link>\r\n                      </Grid>\r\n                    </Grid> */}\r\n                  </form>\r\n                </div>\r\n              </Container>\r\n            </Paper>\r\n          </div>\r\n        </div>\r\n        <div className=\"info-panel\">\r\n          <div className=\"info-panel-inner\">\r\n            <TextBlock\r\n              icon={<AssignmentIndIcon fontSize=\"large\" />}\r\n              title=\"Tailored to your learning progress\"\r\n              description=\"Either you've just started out or you've been learning for a\r\n                while, the tool helps you master Katakana in an effective way.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FeedbackIcon fontSize=\"large\" />}\r\n              title=\"Built-in mnemonics and smart feedback\"\r\n              description=\"Receive contextual feedback when you input the wrong character.\"\r\n            />\r\n            <TextBlock\r\n              icon={<FontDownloadIcon fontSize=\"large\" />}\r\n              title=\"Words that sound like English\"\r\n              description=\"Such as kisu (kiss), in'teru (intelligent). You'd be surprised how much Japanese you've already known.\"\r\n            />\r\n            <TextBlock\r\n              icon={<SubtitlesIcon fontSize=\"large\" />}\r\n              title=\"Learn real common Japanese words\"\r\n              description=\"You can listen to audio from native speakers. This helps you compare and contrast the pronunciation of\r\n                Japanese and English.\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(Register);\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Music from \"./Music\";\r\nimport { MEDIA_BASE_URL_SENTENCE, MEDIA_BASE_URL_WORD } from \"../constants\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport \"../scss/components/WordCard.scss\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nconst parseoutBoldText = (sentence) => {\r\n  // replace <b> and </b> with comma\r\n  sentence = sentence.replace(/<\\/?b>/g, \",\");\r\n  return sentence.split(\",\");\r\n};\r\n\r\nexport default function OutlinedCard({ wordInfo, word_audio_duration }) {\r\n  const classes = useStyles();\r\n\r\n  var el = document.createElement(\"html\");\r\n  el.innerHTML = \"<b>bolded text</b>\";\r\n  const sentenceSegments = parseoutBoldText(wordInfo.sentence_expression);\r\n\r\n  const parseAudio = (audio_string) => {\r\n    return audio_string.slice(7, audio_string.length - 1);\r\n  };\r\n\r\n  return (\r\n    <Card className={`${classes.root} word-card `}>\r\n      <CardContent>\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Word Meaning</div>\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          <div className=\"wordcard-text\">\r\n            {wordInfo.vocab_meaning} ({wordInfo.vocab_pos})\r\n          </div>\r\n        </Typography>\r\n        <Music\r\n          audioLink={`${MEDIA_BASE_URL_WORD}${parseAudio(\r\n            wordInfo.vocab_sound_local\r\n          )}`}\r\n          delay={0}\r\n          noStoreUpdateWhenEnded={true}\r\n        />\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Sample Sentence</div>\r\n        </Typography>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          <div className=\"wordcard-text\">\r\n            {sentenceSegments[0]}\r\n            <b className=\"vocab-word\">{sentenceSegments[1]}</b>\r\n            {sentenceSegments[2]}\r\n          </div>\r\n        </Typography>\r\n        <Music\r\n          audioLink={`${MEDIA_BASE_URL_SENTENCE}${parseAudio(\r\n            wordInfo.sentence_sound_local\r\n          )}`}\r\n          delay={word_audio_duration * 1000 + 750}\r\n          noStoreUpdateWhenEnded={false}\r\n        />\r\n        <Divider style={{ marginTop: \"calc(5px + 0.5vh)\" }} />\r\n        <Typography\r\n          className={classes.title}\r\n          color=\"textSecondary\"\r\n          gutterBottom\r\n        >\r\n          <div className=\"wordcard-subtext\">Sentence Meaning</div>\r\n        </Typography>\r\n        <Typography variant=\"body2\" component=\"p\">\r\n          <div style={{ fontSize: \"calc(12px + 0.4vh)\" }}>\r\n            {wordInfo.sentence_meaning}\r\n          </div>\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","// https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n// import { isCompositeComponent } from \"react-dom/test-utils\";\r\n\r\nclass OutsideAlerter extends React.Component {\r\n  componentDidMount = () => {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  };\r\n\r\n  setWrapperRef = (node) => {\r\n    // console.log(\"setWrapperRef\", node);\r\n    // console.log(\"this\", this);\r\n    this.wrapperRef = node;\r\n  };\r\n\r\n  handleClickOutside = (event) => {\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      // for some reason, need setTimeout to work, even if 0 delay\r\n      setTimeout(() => {\r\n        this.props.focusInputBox();\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div ref={this.setWrapperRef}>{this.props.children}</div>;\r\n  }\r\n}\r\n\r\nOutsideAlerter.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default OutsideAlerter;\r\n","import React from \"react\";\r\nimport \"../scss/components/Footer.scss\";\r\nimport { TOFUGU_LINK, WORD_LINK } from \"../constants\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"main-footer\">\r\n      <div>\r\n        <p>\r\n          Mnemonics taken from <a href={TOFUGU_LINK}>tofugu.com</a>\r\n        </p>\r\n        <p>\r\n          Japanese words taken from{\" \"}\r\n          <a href={WORD_LINK}>reddit.com/r/LearnJapanese</a>\r\n        </p>\r\n      </div>\r\n      <hr />\r\n      <div className=\"copyright\">\r\n        <small>Copyright © 2020 Tuan Le, Lien Tran. All Rights Reserved.</small>\r\n      </div>\r\n\r\n      {/* uncomment below for 2nd layout */}\r\n      {/* <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <ul className=\"list-unstyled\">\r\n              <li>\r\n                Mnemonics taken from <a href={TOFUGU_LINK}>tofugu.com</a>\r\n              </li>\r\n              <li>\r\n                Japanese words taken from{\" \"}\r\n                <a href={WORD_LINK}>reddit.com/r/LearnJapanese</a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col copyright\">\r\n            <small>\r\n              Copyright © 2020 Tuan Le, Lien Tran. All Rights Reserved\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport \"../scss/components/WelcomeBar.scss\";\r\n\r\nconst WelcomeBar = ({ userName }) => {\r\n  return (\r\n    <div className=\"container\" style={{ color: \"#5D5D5D\" }}>\r\n      <Paper elevation={0} />\r\n      <div className=\"welcome-text\">\r\n        <p>Welcome, {userName}! </p>\r\n        <ul>\r\n          <li>\r\n            Type the character as fast as you can if you've already known the\r\n            character\r\n          </li>\r\n          <li>\r\n            Tips: You can press SPACE to move on instead of clicking on the main\r\n            Button\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WelcomeBar;\r\n","import React from \"react\";\r\nimport \"../scss/components/SmallChar.scss\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n// links below shows how to transition between gradient background\r\n// https://medium.com/@dave_lunny/animating-css-gradients-using-only-css-d2fd7671e759\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  cardBG: {\r\n    background: (props) => {\r\n      return props.correctPercent === 0 && props.hintedPercent === 0\r\n        ? \"#d6d6d6\"\r\n        : `linear-gradient(0deg, green 0% ${props.correctPercent}%, #f2b50c ${props.correctPercent}% ${props.hintedPercent}%)`;\r\n    },\r\n  },\r\n}));\r\n\r\nfunction SmallChar(props) {\r\n  const { char, correctNum, hintedNum } = props;\r\n  const classes = useStyles(props);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <div className={`noselect flipcard`} id={id} onClick={handleClick}>\r\n        <div className=\"flipcard-content\">\r\n          <div className={`flipcard-front ${classes.cardBG}`}>\r\n            <span>\r\n              <b>{char}</b>\r\n            </span>\r\n          </div>\r\n          <div className=\"flipcard-back\">\r\n            <p>\r\n              {correctNum} <span className=\"dot correct-color\"></span>\r\n            </p>\r\n            <p>\r\n              {hintedNum} <span className=\"dot hinted-color\"></span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Typography className={classes.typography}>\r\n          {`${correctNum} correct, ${hintedNum} hinted`}\r\n        </Typography>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SmallChar;\r\n","import React from \"react\";\r\nimport SmallChar from \"../components/SmallChar.js\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { katakanaToRomaji } from \"../jap-char\";\r\nimport { GETCHARSCORE_URL } from \"../constants\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport \"../scss/components/SmallChar.scss\";\r\n\r\nclass SmallCharList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      charResultList: {},\r\n    };\r\n  }\r\n\r\n  requestGetCharScore = () => {\r\n    fetch(GETCHARSCORE_URL, {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user_uid: this.props.user_uid,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((charResultList) => {\r\n        this.setState({ charResultList: charResultList });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error in getting characters' familiarity\", err);\r\n      });\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.requestGetCharScore();\r\n  };\r\n\r\n  computeCorrectPercentage = (resultList) => {\r\n    var total_correct = 0;\r\n    if (resultList.length === 0) {\r\n      return -1;\r\n    }\r\n    resultList.forEach((result) => {\r\n      if (result === \"correct\") total_correct += 1;\r\n    });\r\n    return Math.round((total_correct / resultList.length) * 100);\r\n  };\r\n\r\n  computeCorrectNum = (resultList) => {\r\n    return resultList.length === 0\r\n      ? 0\r\n      : resultList.reduce((acc, val) => {\r\n          if (val === \"correct\") {\r\n            acc += 1;\r\n          }\r\n          return acc;\r\n        }, 0);\r\n  };\r\n\r\n  render() {\r\n    if (Object.keys(this.state.charResultList).length === 0) {\r\n      return (\r\n        <div>\r\n          <div>Fetching Data...</div>\r\n          <CircularProgress />\r\n        </div>\r\n      );\r\n    }\r\n    const charsArrayDisplay = Object.keys(katakanaToRomaji).map((kana, idx) => {\r\n      if (kana !== \"clearBuffer\") {\r\n        var correctPercentage = 0;\r\n        var hintedPercentage = 0;\r\n        var correctNum = this.computeCorrectNum(\r\n          this.state.charResultList[kana]\r\n        );\r\n        var hintedNum = this.state.charResultList[kana].length - correctNum;\r\n\r\n        if (Object.keys(this.state.charResultList).length > 0) {\r\n          correctPercentage = this.computeCorrectPercentage(\r\n            this.state.charResultList[kana]\r\n          );\r\n          hintedPercentage = 100 - correctPercentage;\r\n          if (correctPercentage === -1) {\r\n            correctPercentage = 0;\r\n            hintedPercentage = 0;\r\n          }\r\n        }\r\n        return (\r\n          <Grid item key={idx}>\r\n            <SmallChar\r\n              char={kana}\r\n              key={idx}\r\n              hintedPercent={hintedPercentage}\r\n              correctPercent={correctPercentage}\r\n              correctNum={correctNum}\r\n              hintedNum={hintedNum}\r\n            />\r\n          </Grid>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"characters-list\">\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing=\"2\"\r\n        >\r\n          {charsArrayDisplay}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SmallCharList;\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport CharList from \"./CharList\";\nimport CharInput from \"./CharInput\";\nimport NavBar from \"../components/NavBar\";\nimport Hint from \"../components/Hint\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { katakanaToRomaji } from \"../jap-char\";\nimport Signin from \"../components/Signin\";\nimport Register from \"../components/Register\";\nimport WordCard from \"../components/WordCard\";\nimport OutsideAlerter from \"../components/OutsideAlerter\";\nimport Footer from \"../components/Footer\";\nimport WelcomeBar from \"../components/WelcomeBar\";\nimport SmallCharList from \"../components/SmallCharList\";\n\n// make help dialog\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { Button } from \"@material-ui/core\";\n\nimport \"../scss/containers/App.scss\";\nimport {\n  updateChar,\n  updateWord,\n  resetStore,\n  typeAnswer,\n  resetRomajiNotInDictAlert,\n  completeChar,\n  pressSpace,\n} from \"../actions\";\nimport {\n  GETWORD_URL,\n  CHARSCORE_URL,\n  UPDATECHARSCORE_URL,\n  WORDSCORE_URL,\n  MEDIA_BASE_URL_WORD,\n} from \"../constants\";\n\nimport LogRocket from \"logrocket\";\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst mapStateToProps = (state) => {\n  return {\n    currentJapChar: state.changeCardState.currentJapChar,\n    onIncorrectCard: state.changeCardState.onIncorrectCard,\n    curWrongChar: state.changeCardState.curWrongChar,\n    onHintedCard: state.changeCardState.onHintedCard,\n    wordCompleted: state.changeCardState.wordCompleted,\n    currentWord: state.changeCardState.currentWord,\n    charTimestamp: state.changeCardState.charTimestamp,\n    audioIsPlaying: state.changeGeneralState.audioIsPlaying,\n    indexCurrentCard: state.changeCardState.indexCurrentCard,\n    romajiNotInDict: state.changeInputBox.romajiNotInDict,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setCurrentChar: (japchar, romaji) => {\n      dispatch(updateChar(japchar, romaji));\n    },\n    updateWord: (word, romajiList) => {\n      dispatch(updateWord(word, romajiList));\n    },\n    resetStore: () => {\n      dispatch(resetStore());\n    },\n    onInputBoxChange: (value) => {\n      dispatch(typeAnswer(value));\n    },\n    onSpacePress: (context) => {\n      dispatch(pressSpace(context));\n    },\n    onCompleteChar: (time, type) => {\n      dispatch(completeChar(time, type));\n    },\n  };\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      route: \"register\",\n      userInfo: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        joined: \"\",\n      },\n      currentWordInfo: null,\n      open: false,\n      haveTriggered: false,\n    };\n    this.charInputRef = React.createRef();\n  }\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (this.state.userInfo.id !== prevState.userInfo.id) {\n      this.props.resetStore();\n      this.requestNewWord();\n    }\n\n    if (this.state.route === \"home\" && !this.state.haveTriggered) {\n      setTimeout(() => {\n        this.setState({ open: true });\n      }, 60000 * 5);\n    }\n  };\n\n  componentDidMount = () => {\n    this.setState({ haveTriggered: false });\n  };\n\n  onRouteChange = (route) => {\n    this.setState({ route: route });\n  };\n\n  parseJapaneseWord = (word) => {\n    var charsToRead = [];\n    for (const c of word) {\n      var c_romaji = katakanaToRomaji[c] || \"??\";\n      charsToRead.push({ char: c, romaji: c_romaji });\n    }\n    return charsToRead;\n  };\n\n  convertTimeToScoreDelta = (charTimestamp) => {\n    return charTimestamp.map((item) => {\n      var score_delta = 20000 / item.time;\n      if (item.type === \"hinted\") {\n        score_delta *= -1;\n      }\n      return {\n        char: item.char,\n        score_delta: score_delta,\n      };\n    });\n  };\n\n  updateCharScore = (user_uid, scoreDeltaList) => {\n    fetch(CHARSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        charScoreDeltaList: scoreDeltaList,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Update Char Score:\", data);\n      })\n      .catch((error) => {\n        console.log(\"Failed to update char score\", error);\n      });\n  };\n\n  updateCharScore2 = (user_uid, char, score) => {\n    fetch(UPDATECHARSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        char: char,\n        score: score,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Update Char Score:\", data);\n      })\n      .catch((error) => {\n        console.log(\"Failed to update char score\", error);\n      });\n  };\n\n  updateWordScore = (user_uid, word) => {\n    fetch(WORDSCORE_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: user_uid,\n        word: word,\n        unix_time: this.state.currentWord_unix_time,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Update Word Score:\", data);\n        // once score is updated, request new word\n        this.requestNewWord();\n      })\n      .catch((error) => {\n        console.log(\"Failed to update word score\", error);\n      });\n  };\n\n  parseAudio = (audio_string) => {\n    return audio_string.slice(7, audio_string.length - 1);\n  };\n\n  requestNewWord = () => {\n    const { setCurrentChar, updateWord } = this.props;\n    var romajiList = [];\n    this.setState({ clickedJapChar: \"\" });\n\n    fetch(GETWORD_URL, {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        user_uid: this.state.userInfo.id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((word) => {\n        var unix_time = Date.now();\n        romajiList = this.parseJapaneseWord(word.vocab_kana).map(\n          (item) => item.romaji\n        );\n        updateWord(word.vocab_kana, romajiList);\n        const curRomaji = romajiList[0];\n        const curKana = word.vocab_kana.charAt(0);\n        setCurrentChar(curKana, curRomaji);\n\n        this.setState({ currentWordInfo: word });\n        this.setState({ currentWord_unix_time: unix_time });\n        const word_audio = new Audio(\n          `${MEDIA_BASE_URL_WORD}${this.parseAudio(word.vocab_sound_local)}`\n        );\n        word_audio.addEventListener(\"loadedmetadata\", (event) => {\n          this.setState({\n            word_audio_duration: event.target.duration,\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error in getting next word\", err);\n      });\n  };\n\n  loadUser = (user) => {\n    const { user_uid, name, email, joined } = user;\n    this.setState((prevState) => {\n      let userInfo = { ...prevState.userInfo };\n      userInfo.name = name;\n      userInfo.id = user_uid;\n      userInfo.email = email;\n      userInfo.joined = joined;\n      return { userInfo };\n    });\n    console.log(\"userInfo\", this.state.userInfo);\n    LogRocket.identify(user_uid, {\n      name: name,\n      email: email,\n      joined: joined,\n    });\n  };\n\n  focusInputBox = () => {\n    this.charInputRef.current.formRef.current.focus();\n  };\n\n  onClickCard = (event) => {\n    const kana = event.target.innerText;\n    this.setState({ clickedJapChar: kana });\n\n    // unclick\n    if (this.state.clickedJapChar === kana) {\n      this.setState({ clickedJapChar: \"\" });\n    }\n  };\n\n  showHint = () => {\n    // once completed word, can review hint card\n    if (this.props.wordCompleted && this.state.clickedJapChar) {\n      return <Hint currentHintedChar={this.state.clickedJapChar} />;\n    }\n    if (this.props.onHintedCard) {\n      return <Hint currentHintedChar={this.props.currentJapChar} />;\n    }\n  };\n\n  displayWordInfo = () => {\n    if (this.props.wordCompleted) {\n      return (\n        <WordCard\n          wordInfo={this.state.currentWordInfo}\n          word_audio_duration={this.state.word_audio_duration}\n        />\n      );\n    }\n  };\n\n  getKeyByValue = (object, value) => {\n    return Object.keys(object).find((key) => object[key] === value);\n  };\n\n  displayMessage = () => {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n    } = this.props;\n    if (audioIsPlaying) {\n      return (\n        <p>\n          <b>♬ playing audio ♬</b>\n        </p>\n      );\n    }\n    if (onIncorrectCard) {\n      return (\n        <div>\n          <p>\n            <b>\n              {romajiNotInDict\n                ? `The romaji ${curWrongChar} does not exist in the alphabet`\n                : `The romaji ${curWrongChar} corresponds to ${this.getKeyByValue(\n                    katakanaToRomaji,\n                    curWrongChar\n                  )}, not ${currentJapChar}`}\n            </b>\n          </p>\n          <p>\n            <b>press SPACE to try again</b>\n          </p>\n        </div>\n      );\n    } else if (onHintedCard && !audioIsPlaying) {\n      return (\n        <p>\n          <b>press SPACE to continue</b>\n        </p>\n      );\n    } else if (wordCompleted && !audioIsPlaying) {\n      return (\n        <div>\n          <p>\n            <b>click on card to review mnemonic or press SPACE to continue</b>\n          </p>\n        </div>\n      );\n    } else if (!onHintedCard && !wordCompleted) {\n      return (\n        <p>\n          <b>press SPACE to learn this character</b>\n        </p>\n      );\n    } else {\n      return <p></p>;\n    }\n  };\n\n  displayMessage2 = () => {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n    } = this.props;\n    if (audioIsPlaying) {\n      return <div></div>;\n    }\n    if (onIncorrectCard) {\n      return (\n        <div>\n          <p>\n            <b>\n              {romajiNotInDict\n                ? `'${curWrongChar}' does not exist in the alphabet`\n                : `'${curWrongChar}' corresponds to ${this.getKeyByValue(\n                    katakanaToRomaji,\n                    curWrongChar\n                  )}, not ${currentJapChar}`}\n            </b>\n          </p>\n        </div>\n      );\n    } else if (wordCompleted && !audioIsPlaying) {\n      return (\n        <div>\n          <p>\n            <b>Click on a card to view its mnemonic</b>\n          </p>\n        </div>\n      );\n    } else {\n      return <p></p>;\n    }\n  };\n\n  setButtonText = () => {\n    const {\n      onIncorrectCard,\n      curWrongChar,\n      onHintedCard,\n      wordCompleted,\n      audioIsPlaying,\n      romajiNotInDict,\n      currentJapChar,\n    } = this.props;\n    if (audioIsPlaying) {\n      return (\n        <p>\n          <b>♬</b>\n        </p>\n      );\n    }\n    if (onIncorrectCard) {\n      return (\n        <div>\n          <p>\n            <b>Try Again</b>\n          </p>\n        </div>\n      );\n    } else if (onHintedCard && !audioIsPlaying) {\n      return (\n        <p>\n          <b>Got It</b>\n        </p>\n      );\n    } else if (wordCompleted && !audioIsPlaying) {\n      return (\n        <div>\n          <p>\n            <b>Next Word</b>\n          </p>\n        </div>\n      );\n    } else if (!onHintedCard && !wordCompleted) {\n      return (\n        <p>\n          <b>Learn Character</b>\n        </p>\n      );\n    } else {\n      return <p></p>;\n    }\n  };\n\n  renderRoute = (route) => {\n    switch (route) {\n      case \"progress\":\n        return (\n          <div className=\"progress-flex-container\">\n            <div className=\"progress-flex-item1\">\n              <NavBar\n                onRouteChange={this.onRouteChange}\n                currentTab=\"progress\"\n              />\n            </div>\n            <div className=\"progress-flex-item2\">\n              <SmallCharList user_uid={this.state.userInfo.id} />\n            </div>\n            <Footer />\n          </div>\n        );\n      // case \"signin\":\n      //   return (\n      //     <Signin onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n      //   );\n      case \"register\":\n        return (\n          <Register\n            onRouteChange={this.onRouteChange}\n            loadUser={this.loadUser}\n          />\n        );\n      case \"home\":\n        const { currentWord } = this.props;\n\n        return (\n          <div className=\"page-container\" style={{ position: \"relative\" }}>\n            <div className=\"content-wrap\">\n              <Dialog\n                open={this.state.open}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n              >\n                <DialogTitle id=\"alert-dialog-title\">\n                  {\"Time's Up!\"}\n                </DialogTitle>\n                <DialogContent>\n                  <DialogContentText id=\"alert-dialog-description\">\n                    <p>\n                      You have used the app for 5 minute. Please click the link\n                      below to take a short test that will access your Katakana\n                      knowledge. Thank you for using the app!\n                    </p>\n                    <a\n                      href=\"https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\"\n                      className=\"survey-link\"\n                    >\n                      https://harvard.az1.qualtrics.com/jfe/form/SV_2aZI7SwLfhp5nxj\n                    </a>\n                  </DialogContentText>\n                </DialogContent>\n              </Dialog>\n\n              <NavBar onRouteChange={this.onRouteChange} currentTab=\"home\" />\n              <WelcomeBar userName={this.state.userInfo.name} />\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n              >\n                <Paper elevation={0} />\n                <OutsideAlerter focusInputBox={this.focusInputBox}>\n                  <CharInput\n                    updateCharScore={this.updateCharScore}\n                    updateCharScore2={this.updateCharScore2}\n                    updateWordScore={this.updateWordScore}\n                    getKeyByValue={this.getKeyByValue}\n                    user_uid={this.state.userInfo.id}\n                    ref={this.charInputRef}\n                    setClick={(click) => (this.clickChild = click)}\n                  />\n                </OutsideAlerter>\n                <Grid\n                  container\n                  direction=\"column\"\n                  justify=\"center\"\n                  alignItems=\"center\"\n                >\n                  <Grid item>\n                    <CharList\n                      charsToRead={this.parseJapaneseWord(currentWord)}\n                      onClickCard={this.onClickCard}\n                      clickedJapChar={this.state.clickedJapChar}\n                    />\n                  </Grid>\n                  <div>{this.displayMessage2()}</div>\n                  {!this.props.audioIsPlaying ? (\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={() =>\n                        this.clickChild(\n                          this.charInputRef.current.formRef.current\n                        )\n                      }\n                      style={{ color: \"white\" }}\n                    >\n                      {this.setButtonText()}\n                    </Button>\n                  ) : (\n                    <div></div>\n                  )}\n                  <Grid\n                    container\n                    direction=\"row\"\n                    justify=\"center\"\n                    alignItems=\"center\"\n                    spacing=\"2\"\n                  >\n                    <Grid item>\n                      <Paper elevation={1} />\n                      {this.showHint()}\n                    </Grid>\n                    <Grid item>{this.displayWordInfo()}</Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </div>\n            <Footer />\n          </div>\n        );\n      default:\n        return <div>Default</div>;\n    }\n  };\n\n  render() {\n    return <div className=\"tc\">{this.renderRoute(this.state.route)}</div>;\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { USER_INPUT } from \"./constants\";\r\n// import update from \"react-addons-update\";\r\n\r\nconst initialInputBox = {\r\n  inputBox: \"\",\r\n  keyPressed: \"\",\r\n  romajiNotInDict: false,\r\n};\r\n\r\nconst initialGeneralState = {\r\n  audioIsPlaying: false,\r\n};\r\n\r\nconst initialCardState = {\r\n  currentJapChar: \"\",\r\n  currentRomaji: \"\",\r\n  currentWord: \"\",\r\n  curWrongChar: \"\",\r\n  hintedCharList: [],\r\n  wrongCharList: {},\r\n  onIncorrectCard: false,\r\n  onHintedCard: false,\r\n  wordCompleted: false,\r\n  prevTimestamp: null,\r\n  charTimestamp: [],\r\n  allCharTimestamp: [],\r\n  romajiList: [],\r\n  indexCurrentCard: 0,\r\n  cardStateList: [],\r\n};\r\n\r\nexport const changeGeneralState = (\r\n  state = initialGeneralState,\r\n  action = {}\r\n) => {\r\n  switch (action.type) {\r\n    case \"PLAY_AUDIO\":\r\n      return { ...state, audioIsPlaying: true };\r\n    case \"PAUSE_AUDIO\":\r\n      return { ...state, audioIsPlaying: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeInputBox = (state = initialInputBox, action = {}) => {\r\n  switch (action.type) {\r\n    case USER_INPUT:\r\n      return { ...state, inputBox: action.payload };\r\n    case \"PRESS_KEY\":\r\n      return { ...state, keyPressed: action.payload };\r\n    case \"RESET_STORE\":\r\n      return { ...state, inputBox: \"\", keyPressed: \"\" };\r\n    case \"ALERT_NOT_IN_DICT\":\r\n      return { ...state, romajiNotInDict: true };\r\n    case \"RESET_NOT_IN_DICT_ALERT\":\r\n      return { ...state, romajiNotInDict: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const changeCardState = (state = initialCardState, action = {}) => {\r\n  switch (action.type) {\r\n    case \"CHAR_UPDATE\":\r\n      return {\r\n        ...state,\r\n        currentJapChar: action.currentJapChar,\r\n        currentRomaji: action.currentRomaji,\r\n      };\r\n    case \"ENTER_PRESS\":\r\n      state.cardStateList[state.indexCurrentCard] = \"hinted\";\r\n      return {\r\n        ...state,\r\n        hintedCharList: [...state.hintedCharList, state.currentRomaji],\r\n        onHintedCard: false,\r\n        prevTimestamp: action.time,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n      };\r\n    case \"WRONG_INPUT\":\r\n      state.wrongCharList[action.currentChar] = action.userInput;\r\n      state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        onIncorrectCard: true,\r\n        curWrongChar: action.userInput,\r\n      };\r\n    case \"SPACE_PRESS_TO_CONTINUE\":\r\n      state.cardStateList[state.indexCurrentCard] = \"\";\r\n      return { ...state, onIncorrectCard: false };\r\n    case \"SPACE_PRESS_FOR_HINT\":\r\n      return { ...state, onHintedCard: true };\r\n    case \"SPACE_PRESS_TO_GO_NEXT\":\r\n      return {\r\n        ...state,\r\n        wordCompleted: false,\r\n        charTimestamp: [],\r\n        allCharTimestamp: [...state.allCharTimestamp, state.charTimestamp],\r\n        // prevTimestamp: action.time,\r\n        hintedCharList: [],\r\n      };\r\n    case \"COMPLETE_WORD\":\r\n      return { ...state, wordCompleted: true };\r\n    case \"UPDATE_WORD\":\r\n      return {\r\n        ...state,\r\n        currentWord: action.payload,\r\n        romajiList: action.romajiList,\r\n        cardStateList: action.cardStateList,\r\n        indexCurrentCard: 0,\r\n      };\r\n    case \"COMPLETE_CHAR\":\r\n      const newTimestamp = {\r\n        char: state.currentJapChar,\r\n        time: action.time - state.prevTimestamp,\r\n        type: action.completionType,\r\n      };\r\n      console.log(\"TIME STAMP\", newTimestamp);\r\n      return {\r\n        ...state,\r\n        charTimestamp: [...state.charTimestamp, newTimestamp],\r\n        prevTimestamp: action.time,\r\n      };\r\n    case \"SET_NEW_WORD_TIME\":\r\n      return { ...state, prevTimestamp: action.time };\r\n    case \"INPUT_CORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"correct\";\r\n      return {\r\n        ...state,\r\n        indexCurrentCard: state.indexCurrentCard + 1,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"correct\" : item\r\n        ),\r\n      };\r\n    case \"INPUT_INCORRECT_CHAR\":\r\n      // state.cardStateList[state.indexCurrentCard] = \"incorrect\";\r\n      return {\r\n        ...state,\r\n        cardStateList: state.cardStateList.map((item, idx) =>\r\n          idx === state.indexCurrentCard ? \"incorrect\" : item\r\n        ),\r\n      };\r\n    case \"RESET_STORE\":\r\n      return {\r\n        ...state,\r\n        allCharTimestamp: [],\r\n        charTimestamp: [],\r\n        curWrongChar: null,\r\n        onHintedCard: false,\r\n        onIncorrectCard: false,\r\n        wordCompleted: false,\r\n        wrongCharList: {},\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport { createLogger } from \"redux-logger\";\nimport \"./scss/index.scss\";\nimport * as serviceWorker from \"./serviceWorker\";\n// import \"tachyons\"; // mess with material-ui Textfield\nimport App from \"./containers/App.js\";\nimport {\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n} from \"./reducers\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport \"typeface-roboto\";\nimport LogRocket from \"logrocket\";\n\nLogRocket.init(\"zskhtw/japanese-learning\");\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#1CB0F6\",\n    },\n    secondary: {\n      main: \"#ffffff\",\n    },\n  },\n});\n\nconst rootReducer = combineReducers({\n  changeGeneralState,\n  changeInputBox,\n  changeCardState,\n});\n\nconst logger = createLogger();\n\n// const store = createStore(rootReducer, applyMiddleware(logger));\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(logger, LogRocket.reduxMiddleware())\n);\n// const store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}